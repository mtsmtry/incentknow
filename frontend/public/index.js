var PS = {}; !function (n) { "use strict"; n.ace = ace, n.editNodeImpl = function (n, e) { return function () { return e.edit(n) } } }(PS.Ace = PS.Ace || {}), function (n) { "use strict"; n.Ace = n.Ace || {}; var e = n.Ace, t = n.Ace; e.editNode = function (n) { return function (e) { return t.editNodeImpl(n, e) } }, e.ace = t.ace }(PS), function (n) { "use strict"; n.setCompletersImpl = function (n, e) { return function () { e.setOptions({ enableBasicAutocompletion: !0, enableSnippets: !0, enableLiveAutocompletion: !0 }), e.completers = n } } }(PS["Ace.Completer"] = PS["Ace.Completer"] || {}), function (n) { "use strict"; n["Ace.Completer"] = n["Ace.Completer"] || {}; var e = n["Ace.Completer"], t = n["Ace.Completer"]; e.setCompleters = function (n) { return function (e) { return t.setCompletersImpl(n, e) } } }(PS), function (n) { "use strict"; n.onImpl = function (n, e, t) { return function () { return t.on(n, function (n) { e(n)() }) } }, n.setModeImpl = function (n, e) { return function () { return e.setMode(n) } } }(PS["Ace.EditSession"] = PS["Ace.EditSession"] || {}), function (n) { "use strict"; n["Ace.EditSession"] = n["Ace.EditSession"] || {}; var e = n["Ace.EditSession"], t = n["Ace.EditSession"]; e.onChange = function (n) { return function (e) { return t.onImpl("change", e, n) } }, e.setMode = function (n) { return function (e) { return t.setModeImpl(n, e) } } }(PS), function (n) { "use strict"; function e(n) { return function () { var e = arguments[arguments.length - 1], t = Array.prototype.slice.call(arguments, 0, -1); return function () { return e[n].apply(e, t) } } } n.getSession = e("getSession"), n.setValueImpl = e("setValue"), n.getValue = e("getValue"), n.setHighlightGutterLineImpl = e("setHighlightGutterLine"), n.setHighlightActiveLineImpl = e("setHighlightActiveLine"), n.setReadOnlyImpl = e("setReadOnly"), n.getCursorPosition = e("getCursorPosition"), n.moveCursorToImpl = e("moveCursorTo"), n.setOption = function (n) { return function (e) { return function (t) { return function () { t.setOption(n, e) } } } } }(PS["Ace.Editor"] = PS["Ace.Editor"] || {}), function (n) { "use strict"; n.null = null, n.nullable = function (n, e, t) { return null == n ? e : t(n) }, n.notNull = function (n) { return n } }(PS["Data.Nullable"] = PS["Data.Nullable"] || {}), function (n) { "use strict"; var e = function (n) { return function (e) { return n === e } }; n.eqBooleanImpl = e, n.eqIntImpl = e, n.eqNumberImpl = e, n.eqCharImpl = e, n.eqStringImpl = e, n.eqArrayImpl = function (n) { return function (e) { return function (t) { if (e === t) return !0; if (e.length !== t.length) return !1; for (var r = 0; r < e.length; r++)if (!n(e[r])(t[r])) return !1; return !0 } } } }(PS["Data.Eq"] = PS["Data.Eq"] || {}), function (n) { "use strict"; n["Data.Symbol"] = n["Data.Symbol"] || {}; var e = n["Data.Symbol"], t = function () { function n() { } return n.value = new n, n }(); e.IsSymbol = function (n) { this.reflectSymbol = n }, e.reflectSymbol = function (n) { return n.reflectSymbol }, e.SProxy = t }(PS), function (n) { "use strict"; n.unsafeGet = function (n) { return function (e) { return e[n] } }, n.unsafeSet = function (n) { return function (e) { return function (t) { var r = {}; for (var a in t) ({}).hasOwnProperty.call(t, a) && (r[a] = t[a]); return r[n] = e, r } } } }(PS["Record.Unsafe"] = PS["Record.Unsafe"] || {}), function (n) { "use strict"; n["Record.Unsafe"] = n["Record.Unsafe"] || {}; var e = n["Record.Unsafe"], t = n["Record.Unsafe"]; e.unsafeGet = t.unsafeGet, e.unsafeSet = t.unsafeSet }(PS), function (n) { "use strict"; n["Type.Data.RowList"] = n["Type.Data.RowList"] || {}; var e = n["Type.Data.RowList"], t = function () { function n() { } return n.value = new n, n }(); e.RLProxy = t }(PS), function (n) { "use strict"; n["Data.Eq"] = n["Data.Eq"] || {}; var e = n["Data.Eq"], t = n["Data.Eq"], r = n["Data.Symbol"], a = n["Record.Unsafe"], o = n["Type.Data.RowList"], u = function (n) { this.eqRecord = n }, i = function (n) { this.eq = n }, c = new i(function (n) { return function (n) { return !0 } }), l = new i(t.eqStringImpl), f = new u(function (n) { return function (n) { return function (n) { return !0 } } }), s = function (n) { return n.eqRecord }, d = new i(t.eqNumberImpl), p = new i(t.eqIntImpl), v = new i(t.eqCharImpl), m = new i(t.eqBooleanImpl), g = function (n) { return n.eq }; e.Eq = i, e.eq = g, e.notEq = function (n) { return function (e) { return function (t) { return g(m)(g(n)(e)(t))(!1) } } }, e.eqBoolean = m, e.eqInt = p, e.eqNumber = d, e.eqChar = v, e.eqString = l, e.eqUnit = c, e.eqArray = function (n) { return new i(t.eqArrayImpl(g(n))) }, e.eqRec = function (n) { return function (n) { return new i(s(n)(o.RLProxy.value)) } }, e.eqRowNil = f, e.eqRowCons = function (n) { return function (e) { return function (e) { return function (t) { return new u(function (u) { return function (u) { return function (i) { var c = s(n)(o.RLProxy.value)(u)(i), l = r.reflectSymbol(e)(r.SProxy.value), f = a.unsafeGet(l); return g(t)(f(u))(f(i)) && c } } }) } } } } }(PS), function (n) { "use strict"; n["Data.Function"] = n["Data.Function"] || {}; var e = n["Data.Function"]; e.flip = function (n) { return function (e) { return function (t) { return n(t)(e) } } }, e.const = function (n) { return function (e) { return n } }, e.applyFlipped = function (n) { return function (e) { return e(n) } }, e.on = function (n) { return function (e) { return function (t) { return function (r) { return n(e(t))(e(r)) } } } } }(PS), function (n) { "use strict"; n["Control.Alt"] = n["Control.Alt"] || {}; var e = n["Control.Alt"]; e.Alt = function (n, e) { this.Functor0 = n, this.alt = e }, e.alt = function (n) { return n.alt } }(PS), function (n) { "use strict"; n["Control.Alternative"] = n["Control.Alternative"] || {}; n["Control.Alternative"].Alternative = function (n, e) { this.Applicative0 = n, this.Plus1 = e } }(PS), function (n) { "use strict"; n.arrayApply = function (n) { return function (e) { for (var t = n.length, r = e.length, a = new Array(t * r), o = 0, u = 0; u < t; u++)for (var i = n[u], c = 0; c < r; c++)a[o++] = i(e[c]); return a } } }(PS["Control.Apply"] = PS["Control.Apply"] || {}), function (n) { "use strict"; n["Control.Semigroupoid"] = n["Control.Semigroupoid"] || {}; var e = n["Control.Semigroupoid"], t = new function (n) { this.compose = n }(function (n) { return function (e) { return function (t) { return n(e(t)) } } }); e.compose = function (n) { return n.compose }, e.semigroupoidFn = t }(PS), function (n) { "use strict"; n["Control.Category"] = n["Control.Category"] || {}; var e = n["Control.Category"], t = n["Control.Semigroupoid"], r = new function (n, e) { this.Semigroupoid0 = n, this.identity = e }(function () { return t.semigroupoidFn }, function (n) { return n }); e.identity = function (n) { return n.identity }, e.categoryFn = r }(PS), function (n) { "use strict"; n.arrayMap = function (n) { return function (e) { for (var t = e.length, r = new Array(t), a = 0; a < t; a++)r[a] = n(e[a]); return r } } }(PS["Data.Functor"] = PS["Data.Functor"] || {}), function (n) { "use strict"; n.unit = {} }(PS["Data.Unit"] = PS["Data.Unit"] || {}), function (n) { "use strict"; n["Data.Unit"] = n["Data.Unit"] || {}; var e = n["Data.Unit"], t = n["Data.Unit"]; e.unit = t.unit }(PS), function (n) { "use strict"; n["Data.Functor"] = n["Data.Functor"] || {}; var e = n["Data.Functor"], t = n["Data.Functor"], r = n["Control.Semigroupoid"], a = n["Data.Function"], o = n["Data.Unit"], u = function (n) { this.map = n }, i = function (n) { return n.map }, c = new u(r.compose(r.semigroupoidFn)), l = new u(t.arrayMap); e.Functor = u, e.map = i, e.mapFlipped = function (n) { return function (e) { return function (t) { return i(n)(t)(e) } } }, e.void = function (n) { return i(n)(a.const(o.unit)) }, e.voidRight = function (n) { return function (e) { return i(n)(a.const(e)) } }, e.voidLeft = function (n) { return function (e) { return function (t) { return i(n)(a.const(t))(e) } } }, e.functorFn = c, e.functorArray = l }(PS), function (n) { "use strict"; n["Control.Apply"] = n["Control.Apply"] || {}; var e = n["Control.Apply"], t = n["Control.Apply"], r = n["Control.Category"], a = n["Data.Function"], o = n["Data.Functor"], u = function (n, e) { this.Functor0 = n, this.apply = e }, i = new u(function () { return o.functorArray }, t.arrayApply), c = function (n) { return n.apply }; e.Apply = u, e.apply = c, e.applyFirst = function (n) { return function (e) { return function (t) { return c(n)(o.map(n.Functor0())(a.const)(e))(t) } } }, e.applySecond = function (n) { return function (e) { return function (t) { return c(n)(o.map(n.Functor0())(a.const(r.identity(r.categoryFn)))(e))(t) } } }, e.lift2 = function (n) { return function (e) { return function (t) { return function (r) { return c(n)(o.map(n.Functor0())(e)(t))(r) } } } }, e.applyArray = i }(PS), function (n) { "use strict"; n["Control.Applicative"] = n["Control.Applicative"] || {}; var e = n["Control.Applicative"], t = n["Control.Apply"], r = n["Data.Unit"], a = function (n) { return n.pure }; e.Applicative = function (n, e) { this.Apply0 = n, this.pure = e }, e.pure = a, e.liftA1 = function (n) { return function (e) { return function (r) { return t.apply(n.Apply0())(a(n)(e))(r) } } }, e.unless = function (n) { return function (e) { return function (t) { if (!e) return t; if (e) return a(n)(r.unit); throw new Error("Failed pattern match at Control.Applicative (line 62, column 1 - line 62, column 65): " + [e.constructor.name, t.constructor.name]) } } }, e.when = function (n) { return function (e) { return function (t) { if (e) return t; if (!e) return a(n)(r.unit); throw new Error("Failed pattern match at Control.Applicative (line 57, column 1 - line 57, column 63): " + [e.constructor.name, t.constructor.name]) } } } }(PS), function (n) { "use strict"; n.arrayBind = function (n) { return function (e) { for (var t = [], r = 0, a = n.length; r < a; r++)Array.prototype.push.apply(t, e(n[r])); return t } } }(PS["Control.Bind"] = PS["Control.Bind"] || {}), function (n) { "use strict"; n["Control.Bind"] = n["Control.Bind"] || {}; var e = n["Control.Bind"], t = n["Control.Bind"], r = n["Control.Apply"], a = n["Data.Function"], o = function (n, e) { this.Apply0 = n, this.bind = e }, u = new o(function () { return r.applyArray }, t.arrayBind), i = function (n) { return n.bind }, c = function (n) { return a.flip(i(n)) }, l = new function (n) { this.discard = n }(function (n) { return i(n) }); e.Bind = o, e.bind = i, e.bindFlipped = c, e.discard = function (n) { return n.discard }, e.composeKleisli = function (n) { return function (e) { return function (t) { return function (r) { return i(n)(e(r))(t) } } } }, e.composeKleisliFlipped = function (n) { return function (e) { return function (t) { return function (r) { return c(n)(e)(t(r)) } } } }, e.bindArray = u, e.discardUnit = l }(PS), function (n) { "use strict"; n["Control.Monad"] = n["Control.Monad"] || {}; var e = n["Control.Monad"], t = n["Control.Applicative"], r = n["Control.Bind"]; e.Monad = function (n, e) { this.Applicative0 = n, this.Bind1 = e }, e.ap = function (n) { return function (e) { return function (a) { return r.bind(n.Bind1())(e)(function (e) { return r.bind(n.Bind1())(a)(function (r) { return t.pure(n.Applicative0())(e(r)) }) }) } } }, e.unlessM = function (n) { return function (e) { return function (a) { return r.bind(n.Bind1())(e)(function (e) { return t.unless(n.Applicative0())(e)(a) }) } } } }(PS), function (n) { "use strict"; n["Control.Plus"] = n["Control.Plus"] || {}; var e = n["Control.Plus"]; e.Plus = function (n, e) { this.Alt0 = n, this.empty = e }, e.empty = function (n) { return n.empty } }(PS), function (n) { "use strict"; n["Control.MonadZero"] = n["Control.MonadZero"] || {}; var e = n["Control.MonadZero"], t = n["Control.Applicative"], r = n["Control.Plus"], a = n["Data.Unit"]; e.MonadZero = function (n, e) { this.Alternative1 = n, this.Monad0 = e }, e.guard = function (n) { return function (e) { if (e) return t.pure(n.Alternative1().Applicative0())(a.unit); if (!e) return r.empty(n.Alternative1().Plus1()); throw new Error("Failed pattern match at Control.MonadZero (line 54, column 1 - line 54, column 52): " + [e.constructor.name]) } } }(PS), function (n) { "use strict"; n.showIntImpl = function (n) { return n.toString() }, n.showNumberImpl = function (n) { var e = n.toString(); return isNaN(e + ".0") ? e : e + ".0" }, n.showStringImpl = function (n) { var e = n.length; return '"' + n.replace(/[\0-\x1F\x7F"\\]/g, function (t, r) { switch (t) { case '"': case "\\": return "\\" + t; case "\x07": return "\\a"; case "\b": return "\\b"; case "\f": return "\\f"; case "\n": return "\\n"; case "\r": return "\\r"; case "\t": return "\\t"; case "\v": return "\\v" }var a = r + 1, o = a < e && n[a] >= "0" && n[a] <= "9" ? "\\&" : ""; return "\\" + t.charCodeAt(0).toString(10) + o }) + '"' }, n.showArrayImpl = function (n) { return function (e) { for (var t = [], r = 0, a = e.length; r < a; r++)t[r] = n(e[r]); return "[" + t.join(",") + "]" } } }(PS["Data.Show"] = PS["Data.Show"] || {}), function (n) { "use strict"; n["Data.Show"] = n["Data.Show"] || {}; var e = n["Data.Show"], t = n["Data.Show"], r = function (n) { this.show = n }, a = new r(t.showStringImpl), o = new r(t.showNumberImpl), u = new r(t.showIntImpl), i = new r(function (n) { if (n) return "true"; if (!n) return "false"; throw new Error("Failed pattern match at Data.Show (line 20, column 1 - line 22, column 23): " + [n.constructor.name]) }), c = function (n) { return n.show }; e.Show = r, e.show = c, e.showBoolean = i, e.showInt = u, e.showNumber = o, e.showString = a, e.showArray = function (n) { return new r(t.showArrayImpl(c(n))) } }(PS), function (n) { "use strict"; n["Data.Maybe"] = n["Data.Maybe"] || {}; var e = n["Data.Maybe"], t = n["Control.Alt"], r = n["Control.Alternative"], a = n["Control.Applicative"], o = n["Control.Apply"], u = n["Control.Bind"], i = n["Control.Category"], c = n["Control.Monad"], l = n["Control.MonadZero"], f = n["Control.Plus"], s = n["Data.Eq"], d = n["Data.Function"], p = n["Data.Functor"], v = n["Data.Show"], m = function () { function n() { } return n.value = new n, n }(), g = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), w = function (n) { return function (e) { return function (t) { if (t instanceof m) return n; if (t instanceof g) return e(t.value0); throw new Error("Failed pattern match at Data.Maybe (line 217, column 1 - line 217, column 51): " + [n.constructor.name, e.constructor.name, t.constructor.name]) } } }, y = w(!0)(d.const(!1)), h = w(!1)(d.const(!0)), b = new p.Functor(function (n) { return function (e) { return e instanceof g ? new g(n(e.value0)) : m.value } }), M = new o.Apply(function () { return b }, function (n) { return function (e) { if (n instanceof g) return p.map(b)(n.value0)(e); if (n instanceof m) return m.value; throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): " + [n.constructor.name, e.constructor.name]) } }), S = new u.Bind(function () { return M }, function (n) { return function (e) { if (n instanceof g) return e(n.value0); if (n instanceof m) return m.value; throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): " + [n.constructor.name, e.constructor.name]) } }), I = new a.Applicative(function () { return M }, g.create), E = new c.Monad(function () { return I }, function () { return S }), C = new t.Alt(function () { return b }, function (n) { return function (e) { return n instanceof m ? e : n } }), H = new f.Plus(function () { return C }, m.value), D = new r.Alternative(function () { return I }, function () { return H }), A = new l.MonadZero(function () { return D }, function () { return E }); e.Nothing = m, e.Just = g, e.maybe = w, e.fromMaybe = function (n) { return w(n)(i.identity(i.categoryFn)) }, e.isJust = h, e.isNothing = y, e.fromJust = function (n) { return function (n) { if (n instanceof g) return n.value0; throw new Error("Failed pattern match at Data.Maybe (line 268, column 1 - line 268, column 46): " + [n.constructor.name]) } }, e.functorMaybe = b, e.applyMaybe = M, e.applicativeMaybe = I, e.bindMaybe = S, e.monadZeroMaybe = A, e.eqMaybe = function (n) { return new s.Eq(function (e) { return function (t) { return e instanceof m && t instanceof m || e instanceof g && t instanceof g && s.eq(n)(e.value0)(t.value0) } }) }, e.showMaybe = function (n) { return new v.Show(function (e) { if (e instanceof g) return "(Just " + v.show(n)(e.value0) + ")"; if (e instanceof m) return "Nothing"; throw new Error("Failed pattern match at Data.Maybe (line 205, column 1 - line 207, column 28): " + [e.constructor.name]) }) } }(PS), function (n) { "use strict"; n["Data.Nullable"] = n["Data.Nullable"] || {}; var e = n["Data.Nullable"], t = n["Data.Nullable"], r = n["Data.Eq"], a = n["Data.Function"], o = n["Data.Maybe"], u = o.maybe(t.null)(t.notNull), i = function (n) { return t.nullable(n, o.Nothing.value, o.Just.create) }; e.toMaybe = i, e.toNullable = u, e.eqNullable = function (n) { return new r.Eq(a.on(r.eq(o.eqMaybe(n)))(i)) }, e.null = t.null, e.notNull = t.notNull }(PS), function (n) { "use strict"; n["Ace.Editor"] = n["Ace.Editor"] || {}; var e = n["Ace.Editor"], t = n["Ace.Editor"], r = n["Data.Nullable"], a = t.setOption("maxLines"); e.moveCursorTo = function (n) { return function (e) { return function (a) { return function (o) { return t.moveCursorToImpl(n, r.toNullable(e), r.toNullable(a), o) } } } }, e.setHighlightActiveLine = function (n) { return function (e) { return t.setHighlightActiveLineImpl(n, e) } }, e.setHighlightGutterLine = function (n) { return function (e) { return t.setHighlightGutterLineImpl(n, e) } }, e.setReadOnly = function (n) { return function (e) { return t.setReadOnlyImpl(n, e) } }, e.setValue = function (n) { return function (e) { return function (a) { return t.setValueImpl(n, r.toNullable(e), a) } } }, e.setMaxLines = a, e.getCursorPosition = t.getCursorPosition, e.getSession = t.getSession, e.getValue = t.getValue }(PS), function (n) { "use strict"; n.mkCompleterImpl = function (n, e, t) { return function () { return { getCompletions: function (r, a, o, u, i) { return n(r)(a)(o)(u)(function (n) { return function () { if (!e(n)) return i("Error in getCompletion", null); for (var r = [], a = t(n), o = 0; o < a.length; o++) { var u = a[o]; r[o] = { value: u.value, score: u.score, meta: u.meta, caption: e(u.caption) ? t(u.caption) : void 0 } } return i(null, r) } })() } } } } }(PS["Ace.Ext.LanguageTools.Completer"] = PS["Ace.Ext.LanguageTools.Completer"] || {}), function (n) { "use strict"; n["Ace.Ext.LanguageTools.Completer"] = n["Ace.Ext.LanguageTools.Completer"] || {}; var e = n["Ace.Ext.LanguageTools.Completer"], t = n["Ace.Ext.LanguageTools.Completer"], r = n["Data.Maybe"]; e.mkCompleter = function (n) { return t.mkCompleterImpl(n, r.isJust, r.fromJust()) } }(PS), function (n) { "use strict"; n["Ace.Types"] = n["Ace.Types"] || {}; var e = n["Ace.Types"]; e.getRow = function (n) { return n.row }, e.getColumn = function (n) { return n.column } }(PS), function (n) { "use strict"; var e; n._ajax = (e = {}, "undefined" == typeof module || !module.require || "undefined" != typeof process && process.versions.electron ? (e.newXHR = function () { return new XMLHttpRequest }, e.fixupUrl = function (n) { return n || "/" }, e.getResponse = function (n) { return n.response }) : (e.newXHR = function () { return new (module.require("xhr2")) }, e.fixupUrl = function (n, e) { if (null === e.nodejsBaseUrl) { var t = module.require("url"), r = t.parse(n); return r.protocol = r.protocol || "http:", r.hostname = r.hostname || "localhost", t.format(r) } return n || "/" }, e.getResponse = function (n) { return n.response }), function (n, t) { return function (r, a) { var o = e.newXHR(), u = e.fixupUrl(t.url, o); if (o.open(t.method || "GET", u, !0, t.username, t.password), t.headers) try { for (var i, c = 0; null != (i = t.headers[c]); c++)o.setRequestHeader(i.field, i.value) } catch (n) { r(n) } var l = function (n) { return function () { r(new Error(n + ": " + t.method + " " + t.url)) } }; return o.onerror = l("AJAX request failed"), o.ontimeout = l("AJAX request timed out"), o.onload = function () { a({ status: o.status, statusText: o.statusText, headers: o.getAllResponseHeaders().split("\r\n").filter(function (n) { return n.length > 0 }).map(function (e) { var t = e.indexOf(":"); return n(e.substring(0, t))(e.substring(t + 2)) }), body: e.getResponse(o) }) }, o.responseType = t.responseType, o.withCredentials = t.withCredentials, o.send(t.content), function (n, e, t) { try { o.abort() } catch (n) { return e(n) } return t() } } }) }(PS.Affjax = PS.Affjax || {}), function (n) { "use strict"; n["Data.MediaType.Common"] = n["Data.MediaType.Common"] || {}; var e = n["Data.MediaType.Common"]; e.applicationFormURLEncoded = "application/x-www-form-urlencoded", e.applicationJSON = "application/json" }(PS), function (n) { "use strict"; n["Affjax.RequestBody"] = n["Affjax.RequestBody"] || {}; var e = n["Affjax.RequestBody"], t = n["Data.Maybe"], r = n["Data.MediaType.Common"], a = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), o = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), u = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), i = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), c = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), l = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), f = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(); e.ArrayView = a, e.Blob = o, e.Document = u, e.String = i, e.FormData = c, e.FormURLEncoded = l, e.Json = f, e.toMediaType = function (n) { return n instanceof l ? new t.Just(r.applicationFormURLEncoded) : n instanceof f ? new t.Just(r.applicationJSON) : t.Nothing.value } }(PS), function (n) { "use strict"; n.boolConj = function (n) { return function (e) { return n && e } }, n.boolDisj = function (n) { return function (e) { return n || e } }, n.boolNot = function (n) { return !n } }(PS["Data.HeytingAlgebra"] = PS["Data.HeytingAlgebra"] || {}), function (n) { "use strict"; n["Data.HeytingAlgebra"] = n["Data.HeytingAlgebra"] || {}; var e = n["Data.HeytingAlgebra"], t = n["Data.HeytingAlgebra"], r = function (n, e, t, r, a, o) { this.conj = n, this.disj = e, this.ff = t, this.implies = r, this.not = a, this.tt = o }, a = function (n) { return n.not }, o = function (n) { return n.ff }, u = function (n) { return n.disj }, i = new r(t.boolConj, t.boolDisj, !1, function (n) { return function (e) { return u(i)(a(i)(n))(e) } }, t.boolNot, !0); e.ff = o, e.disj = u, e.not = a, e.heytingAlgebraBoolean = i, e.heytingAlgebraFunction = function (n) { return new r(function (e) { return function (t) { return function (r) { return n.conj(e(r))(t(r)) } } }, function (e) { return function (t) { return function (r) { return u(n)(e(r))(t(r)) } } }, function (e) { return o(n) }, function (e) { return function (t) { return function (r) { return n.implies(e(r))(t(r)) } } }, function (e) { return function (t) { return a(n)(e(t)) } }, function (e) { return n.tt }) } }(PS), function (n) { "use strict"; n.concatArray = function (n) { return function (e) { return 0 === n.length ? e : 0 === e.length ? n : n.concat(e) } } }(PS["Data.Semigroup"] = PS["Data.Semigroup"] || {}), function (n) { "use strict"; n["Data.Semigroup"] = n["Data.Semigroup"] || {}; var e = n["Data.Semigroup"], t = n["Data.Semigroup"], r = function (n) { this.append = n }, a = new r(t.concatArray), o = function (n) { return n.append }; e.Semigroup = r, e.append = o, e.semigroupFn = function (n) { return new r(function (e) { return function (t) { return function (r) { return o(n)(e(r))(t(r)) } } }) }, e.semigroupArray = a }(PS), function (n) { "use strict"; n["Data.Monoid"] = n["Data.Monoid"] || {}; var e = n["Data.Monoid"], t = n["Data.Semigroup"], r = function (n, e) { this.Semigroup0 = n, this.mempty = e }, a = function (n) { return n.mempty }; e.Monoid = r, e.mempty = a, e.monoidFn = function (n) { return new r(function () { return t.semigroupFn(n.Semigroup0()) }, function (e) { return a(n) }) } }(PS), function (n) { "use strict"; n["Data.Monoid.Disj"] = n["Data.Monoid.Disj"] || {}; var e = n["Data.Monoid.Disj"], t = n["Data.HeytingAlgebra"], r = n["Data.Monoid"], a = n["Data.Semigroup"]; e.Disj = function (n) { return n }, e.monoidDisj = function (n) { return new r.Monoid(function () { return function (n) { return new a.Semigroup(function (e) { return function (r) { return t.disj(n)(e)(r) } }) }(n) }, t.ff(n)) } }(PS), function (n) { "use strict"; n["Data.Newtype"] = n["Data.Newtype"] || {}; var e = n["Data.Newtype"], t = n["Data.Functor"], r = function (n, e) { this.unwrap = n, this.wrap = e }, a = function (n) { return n.wrap }, o = function (n) { return n.unwrap }, u = new r(function (n) { return n }, n["Data.Monoid.Disj"].Disj); e.unwrap = o, e.wrap = a, e.Newtype = r, e.alaF = function (n) { return function (e) { return function (r) { return function (u) { return function (i) { return function (i) { var c = t.map(e)(o(u)), l = t.map(n)(a(r)); return function (n) { return c(i(l(n))) } } } } } } }, e.over = function (n) { return function (e) { return function (t) { return function (t) { var r = a(e), u = o(n); return function (n) { return r(t(u(n))) } } } } }, e.newtypeDisj = u }(PS), function (n) { "use strict"; n["Data.MediaType"] = n["Data.MediaType"] || {}; var e = n["Data.MediaType"], t = new n["Data.Newtype"].Newtype(function (n) { return n }, function (n) { return n }); e.newtypeMediaType = t }(PS), function (n) { "use strict"; n["Affjax.RequestHeader"] = n["Affjax.RequestHeader"] || {}; var e = n["Affjax.RequestHeader"], t = n["Data.MediaType"], r = n["Data.Newtype"], a = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), o = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), u = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(); e.Accept = a, e.ContentType = o, e.name = function (n) { if (n instanceof a) return "Accept"; if (n instanceof o) return "Content-Type"; if (n instanceof u) return n.value0; throw new Error("Failed pattern match at Affjax.RequestHeader (line 21, column 1 - line 21, column 32): " + [n.constructor.name]) }, e.value = function (n) { if (n instanceof a) return r.unwrap(t.newtypeMediaType)(n.value0); if (n instanceof o) return r.unwrap(t.newtypeMediaType)(n.value0); if (n instanceof u) return n.value1; throw new Error("Failed pattern match at Affjax.RequestHeader (line 26, column 1 - line 26, column 33): " + [n.constructor.name]) } }(PS), function (n) { "use strict"; n["Affjax.ResponseFormat"] = n["Affjax.ResponseFormat"] || {}; var e = n["Affjax.ResponseFormat"], t = n["Control.Category"], r = n["Data.Maybe"], a = n["Data.MediaType.Common"], o = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), u = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), i = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), c = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), l = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), f = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), s = new l(t.identity(t.categoryFn)), d = new f(t.identity(t.categoryFn)); e.ArrayBuffer = o, e.Blob = u, e.Document = i, e.Json = c, e.String = l, e.Ignore = f, e.string = s, e.ignore = d, e.toResponseType = function (n) { if (n instanceof o) return "arraybuffer"; if (n instanceof u) return "blob"; if (n instanceof i) return "document"; if (n instanceof c) return "text"; if (n instanceof l) return "text"; if (n instanceof f) return ""; throw new Error("Failed pattern match at Affjax.ResponseFormat (line 46, column 3 - line 52, column 19): " + [n.constructor.name]) }, e.toMediaType = function (n) { return n instanceof c ? new r.Just(a.applicationJSON) : r.Nothing.value } }(PS), function (n) { "use strict"; n["Affjax.ResponseHeader"] = n["Affjax.ResponseHeader"] || {}; var e = n["Affjax.ResponseHeader"], t = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(); e.ResponseHeader = t }(PS), function (n) { "use strict"; n["Data.Bifunctor"] = n["Data.Bifunctor"] || {}; var e = n["Data.Bifunctor"], t = n["Control.Category"], r = function (n) { return n.bimap }; e.bimap = r, e.Bifunctor = function (n) { this.bimap = n }, e.lmap = function (n) { return function (e) { return r(n)(e)(t.identity(t.categoryFn)) } }, e.rmap = function (n) { return r(n)(t.identity(t.categoryFn)) } }(PS), function (n) { "use strict"; n.foldrArray = function (n) { return function (e) { return function (t) { for (var r = e, a = t.length - 1; a >= 0; a--)r = n(t[a])(r); return r } } }, n.foldlArray = function (n) { return function (e) { return function (t) { for (var r = e, a = t.length, o = 0; o < a; o++)r = n(r)(t[o]); return r } } } }(PS["Data.Foldable"] = PS["Data.Foldable"] || {}), function (n) { "use strict"; n["Data.Foldable"] = n["Data.Foldable"] || {}; var e = n["Data.Foldable"], t = n["Data.Foldable"], r = n["Control.Alt"], a = n["Control.Applicative"], o = n["Control.Apply"], u = n["Control.Plus"], i = n["Data.Eq"], c = n["Data.Function"], l = n["Data.Functor"], f = n["Data.HeytingAlgebra"], s = n["Data.Maybe"], d = n["Data.Monoid"], p = n["Data.Monoid.Disj"], v = n["Data.Newtype"], m = n["Data.Semigroup"], g = n["Data.Unit"], w = function (n, e, t) { this.foldMap = n, this.foldl = e, this.foldr = t }, y = function (n) { return n.foldr }, h = function (n) { return function (e) { return function (t) { return y(e)((r = o.applySecond(n.Apply0()), function (n) { return r(t(n)) }))(a.pure(n)(g.unit)); var r } } }, b = new w(function (n) { return function (e) { return function (t) { if (t instanceof s.Nothing) return d.mempty(n); if (t instanceof s.Just) return e(t.value0); throw new Error("Failed pattern match at Data.Foldable (line 129, column 1 - line 135, column 27): " + [e.constructor.name, t.constructor.name]) } } }, function (n) { return function (e) { return function (t) { if (t instanceof s.Nothing) return e; if (t instanceof s.Just) return n(e)(t.value0); throw new Error("Failed pattern match at Data.Foldable (line 129, column 1 - line 135, column 27): " + [n.constructor.name, e.constructor.name, t.constructor.name]) } } }, function (n) { return function (e) { return function (t) { if (t instanceof s.Nothing) return e; if (t instanceof s.Just) return n(t.value0)(e); throw new Error("Failed pattern match at Data.Foldable (line 129, column 1 - line 135, column 27): " + [n.constructor.name, e.constructor.name, t.constructor.name]) } } }), M = new w(function (n) { return (e = M, function (n) { return function (t) { return y(e)(function (e) { return function (r) { return m.append(n.Semigroup0())(t(e))(r) } })(d.mempty(n)) } })(n); var e }, t.foldlArray, t.foldrArray), S = function (n) { return n.foldMap }, I = function (n) { return function (e) { return v.alaF(l.functorFn)(l.functorFn)(v.newtypeDisj)(v.newtypeDisj)(p.Disj)(S(n)(p.monoidDisj(e))) } }; e.Foldable = w, e.foldr = y, e.foldl = function (n) { return n.foldl }, e.foldMap = S, e.traverse_ = h, e.for_ = function (n) { return function (e) { return c.flip(h(n)(e)) } }, e.oneOf = function (n) { return function (e) { return y(n)(r.alt(e.Alt0()))(u.empty(e)) } }, e.any = I, e.notElem = function (n) { return function (e) { return function (t) { var r = f.not(f.heytingAlgebraBoolean), a = function (n) { return function (e) { var t = I(n)(f.heytingAlgebraBoolean), r = i.eq(e); return function (n) { return t(r(n)) } } }(n)(e)(t); return function (n) { return r(a(n)) } } } }, e.foldableArray = M, e.foldableMaybe = b }(PS), function (n) { "use strict"; n["Data.Either"] = n["Data.Either"] || {}; var e = n["Data.Either"], t = n["Control.Applicative"], r = n["Control.Apply"], a = n["Control.Bind"], o = n["Data.Bifunctor"], u = n["Data.Foldable"], i = n["Data.Functor"], c = n["Data.Maybe"], l = n["Data.Monoid"], f = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), s = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), d = new i.Functor(function (n) { return function (e) { if (e instanceof f) return new f(e.value0); if (e instanceof s) return new s(n(e.value0)); throw new Error("Failed pattern match at Data.Either (line 38, column 1 - line 38, column 52): " + [e.constructor.name]) } }), p = new u.Foldable(function (n) { return function (e) { return function (t) { if (t instanceof f) return l.mempty(n); if (t instanceof s) return e(t.value0); throw new Error("Failed pattern match at Data.Either (line 187, column 1 - line 193, column 28): " + [e.constructor.name, t.constructor.name]) } } }, function (n) { return function (e) { return function (t) { if (t instanceof f) return e; if (t instanceof s) return n(e)(t.value0); throw new Error("Failed pattern match at Data.Either (line 187, column 1 - line 193, column 28): " + [n.constructor.name, e.constructor.name, t.constructor.name]) } } }, function (n) { return function (e) { return function (t) { if (t instanceof f) return e; if (t instanceof s) return n(t.value0)(e); throw new Error("Failed pattern match at Data.Either (line 187, column 1 - line 193, column 28): " + [n.constructor.name, e.constructor.name, t.constructor.name]) } } }), v = function (n) { return function (e) { return function (t) { if (t instanceof f) return n(t.value0); if (t instanceof s) return e(t.value0); throw new Error("Failed pattern match at Data.Either (line 238, column 1 - line 238, column 64): " + [n.constructor.name, e.constructor.name, t.constructor.name]) } } }, m = new o.Bifunctor(function (n) { return function (e) { return function (t) { if (t instanceof f) return new f(n(t.value0)); if (t instanceof s) return new s(e(t.value0)); throw new Error("Failed pattern match at Data.Either (line 46, column 1 - line 48, column 36): " + [n.constructor.name, e.constructor.name, t.constructor.name]) } } }), g = new r.Apply(function () { return d }, function (n) { return function (e) { if (n instanceof f) return new f(n.value0); if (n instanceof s) return i.map(d)(n.value0)(e); throw new Error("Failed pattern match at Data.Either (line 82, column 1 - line 84, column 30): " + [n.constructor.name, e.constructor.name]) } }), w = new a.Bind(function () { return g }, v(function (n) { return function (e) { return new f(n) } })(function (n) { return function (e) { return e(n) } })), y = new t.Applicative(function () { return g }, s.create); e.Left = f, e.Right = s, e.either = v, e.note = function (n) { return c.maybe(new f(n))(s.create) }, e.functorEither = d, e.bifunctorEither = m, e.applyEither = g, e.applicativeEither = y, e.bindEither = w, e.foldableEither = p }(PS), function (n) { "use strict"; n["Control.Monad.Error.Class"] = n["Control.Monad.Error.Class"] || {}; var e = n["Control.Monad.Error.Class"], t = n["Control.Applicative"], r = n["Data.Either"], a = n["Data.Functor"]; e.throwError = function (n) { return n.throwError }, e.MonadThrow = function (n, e) { this.Monad0 = n, this.throwError = e }, e.MonadError = function (n, e) { this.MonadThrow0 = n, this.catchError = e }, e.try = function (n) { return function (e) { return n.catchError(a.map(n.MonadThrow0().Monad0().Bind1().Apply0().Functor0())(r.Right.create)(e))((o = t.pure(n.MonadThrow0().Monad0().Applicative0()), function (n) { return o(r.Left.create(n)) })); var o } } }(PS), function (n) { "use strict"; n["Control.Monad.Except.Trans"] = n["Control.Monad.Except.Trans"] || {}; var e = n["Control.Monad.Except.Trans"], t = n["Control.Alt"], r = n["Control.Applicative"], a = n["Control.Apply"], o = n["Control.Bind"], u = n["Control.Monad"], i = n["Control.Monad.Error.Class"], c = n["Data.Either"], l = n["Data.Functor"], f = n["Data.Semigroup"], s = function (n) { return n }, d = function (n) { return new l.Functor(function (e) { return function (n) { return function (e) { return n(e) } }(l.map(n)(l.map(c.functorEither)(e))) }) }, p = function (n) { return new u.Monad(function () { return g(n) }, function () { return v(n) }) }, v = function (n) { return new o.Bind(function () { return m(n) }, function (e) { return function (t) { return o.bind(n.Bind1())(e)(c.either((a = r.pure(n.Applicative0()), function (n) { return a(c.Left.create(n)) }))(function (n) { return t(n) })); var a } }) }, m = function (n) { return new a.Apply(function () { return d(n.Bind1().Apply0().Functor0()) }, u.ap(p(n))) }, g = function (n) { return new r.Applicative(function () { return m(n) }, (e = r.pure(n.Applicative0()), function (n) { return s(e(c.Right.create(n))) })); var e }; e.ExceptT = s, e.runExceptT = function (n) { return n }, e.withExceptT = function (n) { return function (e) { return function (t) { var r; return s(l.map(n)((r = e, function (n) { if (n instanceof c.Right) return new c.Right(n.value0); if (n instanceof c.Left) return new c.Left(r(n.value0)); throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 42, column 3 - line 42, column 32): " + [r.constructor.name, n.constructor.name]) }))(t)) } } }, e.except = function (n) { var e = r.pure(n); return function (n) { return s(e(n)) } }, e.functorExceptT = d, e.applicativeExceptT = g, e.bindExceptT = v, e.altExceptT = function (n) { return function (e) { return new t.Alt(function () { return d(e.Bind1().Apply0().Functor0()) }, function (t) { return function (a) { return o.bind(e.Bind1())(t)(function (t) { if (t instanceof c.Right) return r.pure(e.Applicative0())(new c.Right(t.value0)); if (t instanceof c.Left) return o.bind(e.Bind1())(a)(function (a) { if (a instanceof c.Right) return r.pure(e.Applicative0())(new c.Right(a.value0)); if (a instanceof c.Left) return r.pure(e.Applicative0())(new c.Left(f.append(n)(t.value0)(a.value0))); throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 86, column 9 - line 88, column 49): " + [a.constructor.name]) }); throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 82, column 5 - line 88, column 49): " + [t.constructor.name]) }) } }) } }, e.monadThrowExceptT = function (n) { return new i.MonadThrow(function () { return p(n) }, (e = r.pure(n.Applicative0()), function (n) { return s(e(c.Left.create(n))) })); var e } }(PS), function (n) { "use strict"; n["Data.Identity"] = n["Data.Identity"] || {}; var e = n["Data.Identity"], t = n["Control.Applicative"], r = n["Control.Apply"], a = n["Control.Bind"], o = n["Control.Monad"], u = n["Data.Functor"], i = function (n) { return n }, c = new n["Data.Newtype"].Newtype(function (n) { return n }, i), l = new u.Functor(function (n) { return function (e) { return n(e) } }), f = new r.Apply(function () { return l }, function (n) { return function (e) { return n(e) } }), s = new a.Bind(function () { return f }, function (n) { return function (e) { return e(n) } }), d = new t.Applicative(function () { return f }, i), p = new o.Monad(function () { return d }, function () { return s }); e.Identity = i, e.newtypeIdentity = c, e.functorIdentity = l, e.applicativeIdentity = d, e.monadIdentity = p }(PS), function (n) { "use strict"; n["Control.Monad.Except"] = n["Control.Monad.Except"] || {}; var e, t = n["Control.Monad.Except"], r = n["Control.Monad.Except.Trans"], a = n["Data.Identity"], o = n["Data.Newtype"], u = r.withExceptT(a.functorIdentity), i = (e = o.unwrap(a.newtypeIdentity), function (n) { return e(r.runExceptT(n)) }); t.runExcept = i, t.withExcept = u }(PS), function (n) { "use strict"; function e(n) { return n } n.fromBoolean = e, n.fromNumber = e, n.fromString = e, n.fromArray = e, n.fromObject = e, n.jsonNull = null, n.stringify = function (n) { return JSON.stringify(n) }, n._caseJson = function (n, e, t, r, a, o, u) { return null == u ? n() : "boolean" == typeof u ? e(u) : "number" == typeof u ? t(u) : "string" == typeof u ? r(u) : "[object Array]" === Object.prototype.toString.call(u) ? a(u) : o(u) } }(PS["Data.Argonaut.Core"] = PS["Data.Argonaut.Core"] || {}), function (n) { "use strict"; n._copyST = function (n) { return function () { var e = {}; for (var t in n) hasOwnProperty.call(n, t) && (e[t] = n[t]); return e } }, n.empty = {}, n.runST = function (n) { return n() }, n._fmapObject = function (n, e) { var t = {}; for (var r in n) hasOwnProperty.call(n, r) && (t[r] = e(n[r])); return t }, n._mapWithKey = function (n, e) { var t = {}; for (var r in n) hasOwnProperty.call(n, r) && (t[r] = e(r)(n[r])); return t }, n._foldM = function (n) { return function (e) { return function (t) { return function (r) { var a = t; function o(n) { return function (t) { return e(t)(n)(r[n]) } } for (var u in r) hasOwnProperty.call(r, u) && (a = n(a)(o(u))); return a } } } }, n._lookup = function (n, e, t, r) { return t in r ? e(r[t]) : n }, n.toArrayWithKey = function (n) { return function (e) { var t = []; for (var r in e) hasOwnProperty.call(e, r) && t.push(n(r)(e[r])); return t } } }(PS["Foreign.Object"] = PS["Foreign.Object"] || {}), function (n) { "use strict"; n.map_ = function (n) { return function (e) { return function () { return n(e()) } } }, n.pure_ = function (n) { return function () { return n } }, n.bind_ = function (n) { return function (e) { return function () { return e(n())() } } }, n.foreach = function (n) { return function (e) { return function () { for (var t = 0, r = n.length; t < r; t++)e(n[t])() } } } }(PS["Control.Monad.ST.Internal"] = PS["Control.Monad.ST.Internal"] || {}), function (n) { "use strict"; n["Control.Monad.ST.Internal"] = n["Control.Monad.ST.Internal"] || {}; var e = n["Control.Monad.ST.Internal"], t = n["Control.Monad.ST.Internal"], r = n["Control.Applicative"], a = n["Control.Apply"], o = n["Control.Bind"], u = n["Control.Monad"], i = new n["Data.Functor"].Functor(t.map_), c = new u.Monad(function () { return s }, function () { return l }), l = new o.Bind(function () { return f }, t.bind_), f = new a.Apply(function () { return i }, u.ap(c)), s = new r.Applicative(function () { return f }, t.pure_); e.functorST = i, e.applicativeST = s, e.foreach = t.foreach }(PS), function (n) { "use strict"; n.range = function (n) { return function (e) { for (var t = n > e ? -1 : 1, r = new Array(t * (e - n) + 1), a = n, o = 0; a !== e;)r[o++] = a, a += t; return r[o] = a, r } }, n.fromFoldableImpl = function () { var n = {}; function e(n) { return function (e) { return new function (n, e) { this.head = n, this.tail = e }(n, e) } } return function (t) { return function (r) { return function (e) { for (var t = [], r = 0, a = e; a !== n;)t[r++] = a.head, a = a.tail; return t }(t(e)(n)(r)) } } }(), n.length = function (n) { return n.length }, n.cons = function (n) { return function (e) { return [n].concat(e) } }, n.snoc = function (n) { return function (e) { var t = n.slice(); return t.push(e), t } }, n["uncons'"] = function (n) { return function (e) { return function (t) { return 0 === t.length ? n({}) : e(t[0])(t.slice(1)) } } }, n.indexImpl = function (n) { return function (e) { return function (t) { return function (r) { return r < 0 || r >= t.length ? e : n(t[r]) } } } }, n._deleteAt = function (n) { return function (e) { return function (t) { return function (r) { if (t < 0 || t >= r.length) return e; var a = r.slice(); return a.splice(t, 1), n(a) } } } }, n.concat = function (n) { if (n.length <= 1e4) return Array.prototype.concat.apply([], n); for (var e = [], t = 0, r = n.length; t < r; t++)for (var a = n[t], o = 0, u = a.length; o < u; o++)e.push(a[o]); return e }, n.filter = function (n) { return function (e) { return e.filter(n) } }, n.sortImpl = function (n) { return function (e) { return e.slice().sort(function (e, t) { return n(e)(t) }) } }, n.zipWith = function (n) { return function (e) { return function (t) { for (var r = e.length < t.length ? e.length : t.length, a = new Array(r), o = 0; o < r; o++)a[o] = n(e[o])(t[o]); return a } } }, n.unsafeIndexImpl = function (n) { return function (e) { return n[e] } } }(PS["Data.Array"] = PS["Data.Array"] || {}), function (n) { "use strict"; n.empty = function () { return [] }, n.pushAll = function (n) { return function (e) { return function () { return e.push.apply(e, n) } } }, n.unsafeFreeze = function (n) { return function () { return n } } }(PS["Data.Array.ST"] = PS["Data.Array.ST"] || {}), function (n) { "use strict"; n["Data.Array.ST"] = n["Data.Array.ST"] || {}; var e = n["Data.Array.ST"], t = n["Data.Array.ST"]; e.push = function (n) { return t.pushAll([n]) }, e.empty = t.empty, e.unsafeFreeze = t.unsafeFreeze }(PS), function (n) { "use strict"; n["Data.Boolean"] = n["Data.Boolean"] || {}; n["Data.Boolean"].otherwise = !0 }(PS), function (n) { "use strict"; n["Data.Ordering"] = n["Data.Ordering"] || {}; var e = n["Data.Ordering"], t = function () { function n() { } return n.value = new n, n }(), r = function () { function n() { } return n.value = new n, n }(), a = function () { function n() { } return n.value = new n, n }(); e.LT = t, e.GT = r, e.EQ = a }(PS), function (n) { "use strict"; var e = function (n) { return function (e) { return function (t) { return function (r) { return function (a) { return r < a ? n : r === a ? e : t } } } } }; n.ordIntImpl = e, n.ordNumberImpl = e, n.ordStringImpl = e, n.ordCharImpl = e }(PS["Data.Ord"] = PS["Data.Ord"] || {}), function (n) { "use strict"; n["Data.Ord"] = n["Data.Ord"] || {}; var e = n["Data.Ord"], t = n["Data.Ord"], r = n["Data.Eq"], a = n["Data.Ordering"], o = function (n, e) { this.Eq0 = n, this.compare = e }, u = new o(function () { return r.eqUnit }, function (n) { return function (n) { return a.EQ.value } }), i = new o(function () { return r.eqString }, t.ordStringImpl(a.LT.value)(a.EQ.value)(a.GT.value)), c = new o(function () { return r.eqNumber }, t.ordNumberImpl(a.LT.value)(a.EQ.value)(a.GT.value)), l = new o(function () { return r.eqInt }, t.ordIntImpl(a.LT.value)(a.EQ.value)(a.GT.value)), f = new o(function () { return r.eqChar }, t.ordCharImpl(a.LT.value)(a.EQ.value)(a.GT.value)); e.Ord = o, e.compare = function (n) { return n.compare }, e.ordInt = l, e.ordNumber = c, e.ordString = i, e.ordChar = f, e.ordUnit = u }(PS), function (n) { "use strict"; n["Data.Tuple"] = n["Data.Tuple"] || {}; var e = n["Data.Tuple"], t = n["Data.Eq"], r = n["Data.Functor"], a = n["Data.Ord"], o = n["Data.Ordering"], u = n["Data.Show"], i = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), c = new r.Functor(function (n) { return function (e) { return new i(e.value0, n(e.value1)) } }), l = function (n) { return function (e) { return new t.Eq(function (r) { return function (a) { return t.eq(n)(r.value0)(a.value0) && t.eq(e)(r.value1)(a.value1) } }) } }; e.Tuple = i, e.fst = function (n) { return n.value0 }, e.snd = function (n) { return n.value1 }, e.uncurry = function (n) { return function (e) { return n(e.value0)(e.value1) } }, e.showTuple = function (n) { return function (e) { return new u.Show(function (t) { return "(Tuple " + u.show(n)(t.value0) + " " + u.show(e)(t.value1) + ")" }) } }, e.eqTuple = l, e.ordTuple = function (n) { return function (e) { return new a.Ord(function () { return l(n.Eq0())(e.Eq0()) }, function (t) { return function (r) { var u = a.compare(n)(t.value0)(r.value0); return u instanceof o.LT ? o.LT.value : u instanceof o.GT ? o.GT.value : a.compare(e)(t.value1)(r.value1) } }) } }, e.functorTuple = c }(PS), function (n) { "use strict"; n.unfoldrArrayImpl = function (n) { return function (e) { return function (t) { return function (r) { return function (a) { return function (o) { for (var u = [], i = o; ;) { var c = a(i); if (n(c)) return u; var l = e(c); u.push(t(l)), i = r(l) } } } } } } } }(PS["Data.Unfoldable"] = PS["Data.Unfoldable"] || {}), function (n) { "use strict"; n.unfoldr1ArrayImpl = function (n) { return function (e) { return function (t) { return function (r) { return function (a) { return function (o) { for (var u = [], i = o; ;) { var c = a(i); u.push(t(c)); var l = r(c); if (n(l)) return u; i = e(l) } } } } } } } }(PS["Data.Unfoldable1"] = PS["Data.Unfoldable1"] || {}), function (n) { "use strict"; n["Data.Unfoldable1"] = n["Data.Unfoldable1"] || {}; var e = n["Data.Unfoldable1"], t = n["Data.Unfoldable1"], r = n["Data.Maybe"], a = n["Data.Tuple"], o = function (n) { this.unfoldr1 = n }, u = new o(t.unfoldr1ArrayImpl(r.isNothing)(r.fromJust())(a.fst)(a.snd)); e.Unfoldable1 = o, e.unfoldable1Array = u }(PS), function (n) { "use strict"; n["Data.Unfoldable"] = n["Data.Unfoldable"] || {}; var e = n["Data.Unfoldable"], t = n["Data.Unfoldable"], r = n["Data.Maybe"], a = n["Data.Tuple"], o = n["Data.Unfoldable1"], u = function (n, e) { this.Unfoldable10 = n, this.unfoldr = e }, i = new u(function () { return o.unfoldable1Array }, t.unfoldrArrayImpl(r.isNothing)(r.fromJust())(a.fst)(a.snd)); e.Unfoldable = u, e.unfoldr = function (n) { return n.unfoldr }, e.unfoldableArray = i }(PS), function (n) { "use strict"; n["Data.Array"] = n["Data.Array"] || {}; var e, t, r = n["Data.Array"], a = n["Data.Array"], o = n["Control.Applicative"], u = n["Control.Bind"], i = n["Control.Category"], c = n["Control.Monad.ST.Internal"], l = n["Data.Array.ST"], f = n["Data.Boolean"], s = n["Data.Foldable"], d = n["Data.Function"], p = n["Data.Functor"], v = n["Data.HeytingAlgebra"], m = n["Data.Maybe"], g = n["Data.Ordering"], w = n["Data.Tuple"], y = n["Data.Unfoldable"], h = a["uncons'"](d.const(m.Nothing.value))(function (n) { return function (e) { return new m.Just({ head: n, tail: e }) } }), b = a["uncons'"](d.const(m.Nothing.value))(function (n) { return function (n) { return new m.Just(n) } }), M = function (n) { return [n] }, S = a.indexImpl(m.Just.create)(m.Nothing.value), I = a._deleteAt(m.Just.create)(m.Nothing.value), E = d.flip(u.bind(u.bindArray)), C = (e = i.identity(i.categoryFn), E((t = m.maybe([])(M), function (n) { return t(e(n)) }))); r.fromFoldable = function (n) { return a.fromFoldableImpl(s.foldr(n)) }, r.toUnfoldable = function (n) { return function (e) { var t = a.length(e); return y.unfoldr(n)(function (n) { if (n < t) return new m.Just(new w.Tuple(a.unsafeIndexImpl(e)(n), n + 1 | 0)); if (f.otherwise) return m.Nothing.value; throw new Error("Failed pattern match at Data.Array (line 143, column 3 - line 145, column 26): " + [n.constructor.name]) })(0) } }, r.singleton = M, r.head = function (n) { return S(n)(0) }, r.tail = b, r.uncons = h, r.index = S, r.deleteAt = I, r.catMaybes = C, r.mapWithIndex = function (n) { return function (e) { return a.zipWith(n)(a.range(0)(a.length(e) - 1 | 0))(e) } }, r.sortBy = function (n) { return function (e) { return a.sortImpl(function (e) { return function (t) { var r = n(e)(t); if (r instanceof g.GT) return 1; if (r instanceof g.EQ) return 0; if (r instanceof g.LT) return -1; throw new Error("Failed pattern match at Data.Array (line 702, column 15 - line 705, column 13): " + [r.constructor.name]) } })(e) } }, r.nubByEq = function (n) { return function (e) { return t = l.empty(), c.foreach(e)(function (e) { return function () { var r, a, u = p.map(c.functorST)((r = v.not(v.heytingAlgebraBoolean), a = s.any(s.foldableArray)(v.heytingAlgebraBoolean)(function (t) { return n(t)(e) }), function (n) { return r(a(n)) }))(l.unsafeFreeze(t))(); return o.when(c.applicativeST)(u)(p.void(c.functorST)(l.push(e)(t)))() } })(), l.unsafeFreeze(t)(); var t } }, r.range = a.range, r.length = a.length, r.cons = a.cons, r.snoc = a.snoc, r.concat = a.concat, r.filter = a.filter }(PS), function (n) { "use strict"; n.mapWithIndexArray = function (n) { return function (e) { for (var t = e.length, r = Array(t), a = 0; a < t; a++)r[a] = n(a)(e[a]); return r } } }(PS["Data.FunctorWithIndex"] = PS["Data.FunctorWithIndex"] || {}), function (n) { "use strict"; n["Data.FunctorWithIndex"] = n["Data.FunctorWithIndex"] || {}; var e = n["Data.FunctorWithIndex"], t = n["Data.FunctorWithIndex"], r = n["Data.Functor"], a = function (n, e) { this.Functor0 = n, this.mapWithIndex = e }, o = new a(function () { return r.functorArray }, t.mapWithIndexArray); e.FunctorWithIndex = a, e.mapWithIndex = function (n) { return n.mapWithIndex }, e.functorWithIndexArray = o }(PS), function (n) { "use strict"; n["Data.FoldableWithIndex"] = n["Data.FoldableWithIndex"] || {}; var e = n["Data.FoldableWithIndex"], t = n["Data.Foldable"], r = n["Data.FunctorWithIndex"], a = n["Data.Monoid"], o = n["Data.Semigroup"], u = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), i = function (n, e, t, r) { this.Foldable0 = n, this.foldMapWithIndex = e, this.foldlWithIndex = t, this.foldrWithIndex = r }, c = new i(function () { return t.foldableArray }, function (n) { return (e = c, function (n) { return function (t) { return e.foldrWithIndex(function (e) { return function (r) { return function (a) { return o.append(n.Semigroup0())(t(e)(r))(a) } } })(a.mempty(n)) } })(n); var e }, function (n) { return function (e) { var a = t.foldl(t.foldableArray)(function (e) { return function (t) { return n(t.value0)(e)(t.value1) } })(e), o = r.mapWithIndex(r.functorWithIndexArray)(u.create); return function (n) { return a(o(n)) } } }, function (n) { return function (e) { var a = t.foldr(t.foldableArray)(function (e) { return function (t) { return n(e.value0)(e.value1)(t) } })(e), o = r.mapWithIndex(r.functorWithIndexArray)(u.create); return function (n) { return a(o(n)) } } }); e.FoldableWithIndex = i, e.foldableWithIndexArray = c }(PS), function (n) { "use strict"; n.mkFn2 = function (n) { return function (e, t) { return n(e)(t) } }, n.runFn4 = function (n) { return function (e) { return function (t) { return function (r) { return function (a) { return n(e, t, r, a) } } } } } }(PS["Data.Function.Uncurried"] = PS["Data.Function.Uncurried"] || {}), function (n) { "use strict"; n["Data.Function.Uncurried"] = n["Data.Function.Uncurried"] || {}; var e = n["Data.Function.Uncurried"], t = n["Data.Function.Uncurried"]; e.mkFn2 = t.mkFn2, e.runFn4 = t.runFn4 }(PS), function (n) { "use strict"; n.traverseArrayImpl = function () { function n(n) { return [n] } function e(n) { return function (e) { return [n, e] } } function t(n) { return function (e) { return function (t) { return [n, e, t] } } } function r(n) { return function (e) { return n.concat(e) } } return function (a) { return function (o) { return function (u) { return function (i) { return function (c) { return function l(f, s) { switch (s - f) { case 0: return u([]); case 1: return o(n)(i(c[f])); case 2: return a(o(e)(i(c[f])))(i(c[f + 1])); case 3: return a(a(o(t)(i(c[f])))(i(c[f + 1])))(i(c[f + 2])); default: var d = f + 2 * Math.floor((s - f) / 4); return a(o(r)(l(f, d)))(l(d, s)) } }(0, c.length) } } } } } }() }(PS["Data.Traversable"] = PS["Data.Traversable"] || {}), function (n) { "use strict"; n["Data.Traversable"] = n["Data.Traversable"] || {}; var e = n["Data.Traversable"], t = n["Data.Traversable"], r = n["Control.Applicative"], a = n["Control.Apply"], o = n["Control.Category"], u = n["Data.Foldable"], i = n["Data.Functor"], c = n["Data.Maybe"], l = function (n, e, t, r) { this.Foldable1 = n, this.Functor0 = e, this.sequence = t, this.traverse = r }, f = function (n) { return n.traverse }, s = new l(function () { return u.foldableMaybe }, function () { return c.functorMaybe }, function (n) { return function (e) { if (e instanceof c.Nothing) return r.pure(n)(c.Nothing.value); if (e instanceof c.Just) return i.map(n.Apply0().Functor0())(c.Just.create)(e.value0); throw new Error("Failed pattern match at Data.Traversable (line 86, column 1 - line 90, column 33): " + [e.constructor.name]) } }, function (n) { return function (e) { return function (t) { if (t instanceof c.Nothing) return r.pure(n)(c.Nothing.value); if (t instanceof c.Just) return i.map(n.Apply0().Functor0())(c.Just.create)(e(t.value0)); throw new Error("Failed pattern match at Data.Traversable (line 86, column 1 - line 90, column 33): " + [e.constructor.name, t.constructor.name]) } } }), d = new l(function () { return u.foldableArray }, function () { return i.functorArray }, function (n) { return (e = d, function (n) { return f(e)(n)(o.identity(o.categoryFn)) })(n); var e }, function (n) { return t.traverseArrayImpl(a.apply(n.Apply0()))(i.map(n.Apply0().Functor0()))(r.pure(n)) }); e.Traversable = l, e.traverse = f, e.sequence = function (n) { return n.sequence }, e.for = function (n) { return function (e) { return function (t) { return function (r) { return f(e)(n)(r)(t) } } } }, e.traversableArray = d, e.traversableMaybe = s }(PS), function (n) { "use strict"; n["Data.TraversableWithIndex"] = n["Data.TraversableWithIndex"] || {}; var e = n["Data.TraversableWithIndex"], t = n["Data.FoldableWithIndex"], r = n["Data.FunctorWithIndex"], a = n["Data.Traversable"], o = function (n, e, t, r) { this.FoldableWithIndex1 = n, this.FunctorWithIndex0 = e, this.Traversable2 = t, this.traverseWithIndex = r }, u = new o(function () { return t.foldableWithIndexArray }, function () { return r.functorWithIndexArray }, function () { return a.traversableArray }, function (n) { return (e = u, function (n) { return function (t) { var o = a.sequence(e.Traversable2())(n), u = r.mapWithIndex(e.FunctorWithIndex0())(t); return function (n) { return o(u(n)) } } })(n); var e }); e.TraversableWithIndex = o, e.traverseWithIndex = function (n) { return n.traverseWithIndex }, e.traversableWithIndexArray = u }(PS), function (n) { "use strict"; n.new = function () { return {} }, n.poke = function (n) { return function (e) { return function (t) { return function () { return t[n] = e, t } } } } }(PS["Foreign.Object.ST"] = PS["Foreign.Object.ST"] || {}), function (n) { "use strict"; n["Foreign.Object.ST"] = n["Foreign.Object.ST"] || {}; var e = n["Foreign.Object.ST"], t = n["Foreign.Object.ST"]; e.new = t.new, e.poke = t.poke }(PS), function (n) { "use strict"; n["Foreign.Object"] = n["Foreign.Object"] || {}; var e = n["Foreign.Object"], t = n["Foreign.Object"], r = n["Control.Applicative"], a = n["Control.Apply"], o = n["Control.Category"], u = n["Control.Monad.ST.Internal"], i = n["Data.Array"], c = n["Data.Foldable"], l = n["Data.FoldableWithIndex"], f = n["Data.Function"], s = n["Data.Function.Uncurried"], d = n["Data.Functor"], p = n["Data.FunctorWithIndex"], v = n["Data.Maybe"], m = n["Data.Monoid"], g = n["Data.Semigroup"], w = n["Data.Traversable"], y = n["Data.TraversableWithIndex"], h = n["Data.Tuple"], b = n["Foreign.Object.ST"], M = t.toArrayWithKey(function (n) { return function (n) { return n } }), S = t._copyST, I = s.runFn4(t._lookup)(v.Nothing.value)(v.Just.create), E = function (n) { return function (e) { return r = b.poke(n)(e), function (n) { return t.runST(function () { var e = S(n)(); return r(e)(), e }) }; var r } }, C = new d.Functor(function (n) { return function (e) { return t._fmapObject(e, n) } }), H = new p.FunctorWithIndex(function () { return C }, function (n) { return function (e) { return t._mapWithKey(e, n) } }), D = t._foldM(f.applyFlipped), A = function (n) { return function (e) { return D(function (t) { return function (r) { return function (a) { return g.append(n.Semigroup0())(t)(e(r)(a)) } } })(m.mempty(n)) } }, k = new c.Foldable(function (n) { return function (e) { return A(n)(f.const(e)) } }, function (n) { return D(function (e) { return function (t) { return n(e) } }) }, function (n) { return function (e) { return function (t) { return c.foldr(c.foldableArray)(n)(e)(M(t)) } } }), F = new l.FoldableWithIndex(function () { return k }, function (n) { return A(n) }, function (n) { return D(f.flip(n)) }, function (n) { return function (e) { return function (r) { return c.foldr(c.foldableArray)(h.uncurry(n))(e)(t.toArrayWithKey(h.Tuple.create)(r)) } } }), P = new y.TraversableWithIndex(function () { return F }, function () { return H }, function () { return T }, function (n) { return function (e) { return function (o) { return D(function (t) { return function (r) { return function (o) { return a.apply(n.Apply0())(d.map(n.Apply0().Functor0())(f.flip(E(r)))(t))(e(r)(o)) } } })(r.pure(n)(t.empty))(o) } } }), T = new w.Traversable(function () { return k }, function () { return C }, function (n) { return w.traverse(T)(n)(o.identity(o.categoryFn)) }, function (n) { var e = y.traverseWithIndex(P)(n); return function (n) { return e(f.const(n)) } }); e.insert = E, e.lookup = I, e.toUnfoldable = function (n) { var e = i.toUnfoldable(n), r = t.toArrayWithKey(h.Tuple.create); return function (n) { return e(r(n)) } }, e.fromFoldable = function (n) { return function (e) { return t.runST(function () { var t = b.new(); return u.foreach(i.fromFoldable(n)(e))(function (n) { return d.void(u.functorST)(b.poke(n.value0)(n.value1)(t)) })(), t }) } }, e.functorObject = C, e.traversableObject = T, e.empty = t.empty }(PS), function (n) { "use strict"; n["Data.Argonaut.Core"] = n["Data.Argonaut.Core"] || {}; var e = n["Data.Argonaut.Core"], t = n["Data.Argonaut.Core"], r = n["Data.Function"], a = n["Data.Maybe"], o = n["Foreign.Object"], u = function (n) { return function (e) { return function (t) { return t(n)(e) } } }, i = u(a.Nothing.value)(a.Just.create), c = t.fromObject(o.empty), l = u(!1)(r.const(!0)), f = function (n) { return function (e) { return function (a) { return t._caseJson(r.const(n), r.const(n), r.const(n), e, r.const(n), r.const(n), a) } } }, s = l(f), d = i(f), p = function (n) { return function (e) { return function (a) { return t._caseJson(r.const(n), r.const(n), r.const(n), r.const(n), r.const(n), e, a) } } }, v = l(p), m = i(p), g = function (n) { return function (e) { return function (a) { return t._caseJson(r.const(n), r.const(n), e, r.const(n), r.const(n), r.const(n), a) } } }, w = l(g), y = i(g), h = function (n) { return function (e) { return function (a) { return t._caseJson(r.const(n), e, r.const(n), r.const(n), r.const(n), r.const(n), a) } } }, b = l(h), M = i(h), S = function (n) { return function (e) { return function (a) { return t._caseJson(r.const(n), r.const(n), r.const(n), r.const(n), e, r.const(n), a) } } }, I = l(S), E = i(S); e.caseJsonBoolean = h, e.caseJsonNumber = g, e.caseJsonString = f, e.isBoolean = b, e.isNumber = w, e.isString = s, e.isArray = I, e.isObject = v, e.toBoolean = M, e.toNumber = y, e.toString = d, e.toArray = E, e.toObject = m, e.jsonEmptyObject = c, e.fromBoolean = t.fromBoolean, e.fromNumber = t.fromNumber, e.fromString = t.fromString, e.fromArray = t.fromArray, e.fromObject = t.fromObject, e.jsonNull = t.jsonNull, e.stringify = t.stringify }(PS), function (n) { "use strict"; n._jsonParser = function (n, e, t) { try { return e(JSON.parse(t)) } catch (e) { return n(e.message) } } }(PS["Data.Argonaut.Parser"] = PS["Data.Argonaut.Parser"] || {}), function (n) { "use strict"; n["Data.Argonaut.Parser"] = n["Data.Argonaut.Parser"] || {}; var e = n["Data.Argonaut.Parser"], t = n["Data.Argonaut.Parser"], r = n["Data.Either"]; e.jsonParser = function (n) { return t._jsonParser(r.Left.create, r.Right.create, n) } }(PS), function (n) { "use strict"; n.replace = function (n) { return function (e) { return function (t) { return t.replace(n, e) } } }, n.split = function (n) { return function (e) { return e.split(n) } }, n.joinWith = function (n) { return function (e) { return e.join(n) } } }(PS["Data.String.Common"] = PS["Data.String.Common"] || {}), function (n) { "use strict"; n["Data.String.Common"] = n["Data.String.Common"] || {}; var e = n["Data.String.Common"], t = n["Data.String.Common"]; e.replace = t.replace, e.split = t.split, e.joinWith = t.joinWith }(PS), function (n) { "use strict"; n.infinity = 1 / 0; var e; n._encodeURIComponent = (e = encodeURIComponent, function (n, t, r) { try { return t(e(r)) } catch (e) { return n(e.message) } }) }(PS.Global = PS.Global || {}), function (n) { "use strict"; n.Global = n.Global || {}; var e = n.Global, t = n.Global, r = n["Data.Function"], a = n["Data.Maybe"]; e.encodeURIComponent = function (n) { return t._encodeURIComponent(r.const(a.Nothing.value), a.Just.create, n) }, e.infinity = t.infinity }(PS), function (n) { "use strict"; n["Data.FormURLEncoded"] = n["Data.FormURLEncoded"] || {}; var e, t, r = n["Data.FormURLEncoded"], a = n["Control.Apply"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.String.Common"], c = n["Data.Traversable"], l = n.Global, f = (e = o.map(u.functorMaybe)(i.joinWith("&")), t = c.traverse(c.traversableArray)(u.applicativeMaybe)(function (n) { if (n.value1 instanceof u.Nothing) return l.encodeURIComponent(n.value0); if (n.value1 instanceof u.Just) return a.apply(u.applyMaybe)(o.map(u.functorMaybe)(function (n) { return function (e) { return n + "=" + e } })(l.encodeURIComponent(n.value0)))(l.encodeURIComponent(n.value1.value0)); throw new Error("Failed pattern match at Data.FormURLEncoded (line 37, column 18 - line 39, column 108): " + [n.constructor.name]) }), function (n) { return e(t(n)) }); r.encode = f }(PS), function (n) { "use strict"; n["Data.HTTP.Method"] = n["Data.HTTP.Method"] || {}; var e = n["Data.HTTP.Method"], t = n["Data.Either"], r = n["Data.Show"], a = function () { function n() { } return n.value = new n, n }(), o = function () { function n() { } return n.value = new n, n }(), u = function () { function n() { } return n.value = new n, n }(), i = function () { function n() { } return n.value = new n, n }(), c = function () { function n() { } return n.value = new n, n }(), l = function () { function n() { } return n.value = new n, n }(), f = function () { function n() { } return n.value = new n, n }(), s = function () { function n() { } return n.value = new n, n }(), d = function () { function n() { } return n.value = new n, n }(), p = function () { function n() { } return n.value = new n, n }(), v = function () { function n() { } return n.value = new n, n }(), m = function () { function n() { } return n.value = new n, n }(), g = function () { function n() { } return n.value = new n, n }(), w = function () { function n() { } return n.value = new n, n }(), y = function () { function n() { } return n.value = new n, n }(), h = function () { function n() { } return n.value = new n, n }(), b = new r.Show(function (n) { if (n instanceof a) return "OPTIONS"; if (n instanceof o) return "GET"; if (n instanceof u) return "HEAD"; if (n instanceof i) return "POST"; if (n instanceof c) return "PUT"; if (n instanceof l) return "DELETE"; if (n instanceof f) return "TRACE"; if (n instanceof s) return "CONNECT"; if (n instanceof d) return "PROPFIND"; if (n instanceof p) return "PROPPATCH"; if (n instanceof v) return "MKCOL"; if (n instanceof m) return "COPY"; if (n instanceof g) return "MOVE"; if (n instanceof w) return "LOCK"; if (n instanceof y) return "UNLOCK"; if (n instanceof h) return "PATCH"; throw new Error("Failed pattern match at Data.HTTP.Method (line 40, column 1 - line 56, column 23): " + [n.constructor.name]) }), M = t.either(r.show(b))(function (n) { return n }); e.GET = o, e.print = M }(PS), function (n) { "use strict"; n["Data.NonEmpty"] = n["Data.NonEmpty"] || {}; var e = n["Data.NonEmpty"], t = n["Control.Plus"], r = n["Data.Functor"], a = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(); e.NonEmpty = a, e.singleton = function (n) { return function (e) { return new a(e, t.empty(n)) } }, e.functorNonEmpty = function (n) { return new r.Functor(function (e) { return function (t) { return new a(e(t.value0), r.map(n)(e)(t.value1)) } }) } }(PS), function (n) { "use strict"; n["Data.List.Types"] = n["Data.List.Types"] || {}; var e, t = n["Data.List.Types"], r = n["Control.Alt"], a = n["Control.Applicative"], o = n["Control.Apply"], u = n["Control.Bind"], i = n["Control.Plus"], c = n["Data.Foldable"], l = n["Data.Function"], f = n["Data.Functor"], s = n["Data.Maybe"], d = n["Data.Monoid"], p = n["Data.NonEmpty"], v = n["Data.Semigroup"], m = n["Data.Unfoldable"], g = n["Data.Unfoldable1"], w = function () { function n() { } return n.value = new n, n }(), y = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), h = function (n) { return n }, b = new f.Functor(function (n) { var e; return e = w.value, function (t) { var r, a = e, o = !1; function u(e, r) { return r instanceof y && r.value1 instanceof y && r.value1.value1 instanceof y ? (a = new y(r, e), void (t = r.value1.value1.value1)) : (o = !0, (i = e, function (e) { for (var t, r, a, o = i, u = !1; !u;)a = e, t = (r = o) instanceof y && r.value0 instanceof y && r.value0.value1 instanceof y && r.value0.value1.value1 instanceof y ? (o = r.value1, void (e = new y(n(r.value0.value0), new y(n(r.value0.value1.value0), new y(n(r.value0.value1.value1.value0), a))))) : (u = !0, a); return t })((u = r) instanceof y && u.value1 instanceof y && u.value1.value1 instanceof w ? new y(n(u.value0), new y(n(u.value1.value0), w.value)) : u instanceof y && u.value1 instanceof w ? new y(n(u.value0), w.value) : w.value)); var u, i } for (; !o;)r = u(a, t); return r } }), M = p.functorNonEmpty(b), S = new c.Foldable(function (n) { return function (e) { return c.foldl(S)(function (t) { var r = v.append(n.Semigroup0())(t); return function (n) { return r(e(n)) } })(d.mempty(n)) } }, function (n) { return function (e) { return function (t) { var r, a = e, o = !1; function u(e, r) { if (r instanceof w) return o = !0, e; if (r instanceof y) return a = n(e)(r.value0), void (t = r.value1); throw new Error("Failed pattern match at Data.List.Types (line 109, column 12 - line 111, column 30): " + [r.constructor.name]) } for (; !o;)r = u(a, t); return r } } }, function (n) { return function (e) { var t = c.foldl(S)(l.flip(y.create))(w.value), r = c.foldl(S)(l.flip(n))(e); return function (n) { return r(t(n)) } } }), I = new v.Semigroup(function (n) { return function (e) { return c.foldr(S)(y.create)(e)(n) } }), E = new v.Semigroup(function (n) { return function (e) { return new p.NonEmpty(n.value0, v.append(I)(n.value1)(function (n) { return new y(n.value0, n.value1) }(e))) } }), C = new g.Unfoldable1(function (n) { return function (e) { var t; return (t = e, function (e) { var r, a = t, o = !1; function u(t, r) { var u = n(t); if (u.value1 instanceof s.Just) return a = u.value1.value0, void (e = new y(u.value0, r)); if (u.value1 instanceof s.Nothing) return o = !0, c.foldl(S)(l.flip(y.create))(w.value)(new y(u.value0, r)); throw new Error("Failed pattern match at Data.List.Types (line 133, column 22 - line 135, column 61): " + [u.constructor.name]) } for (; !o;)r = u(a, e); return r })(w.value) } }), H = new m.Unfoldable(function () { return C }, function (n) { return function (e) { var t; return (t = e, function (e) { var r, a = t, o = !1; function u(t, r) { var u = n(t); if (u instanceof s.Nothing) return o = !0, c.foldl(S)(l.flip(y.create))(w.value)(r); if (u instanceof s.Just) return a = u.value0.value1, void (e = new y(u.value0.value0, r)); throw new Error("Failed pattern match at Data.List.Types (line 140, column 22 - line 142, column 52): " + [u.constructor.name]) } for (; !o;)r = u(a, e); return r })(w.value) } }), D = new o.Apply(function () { return b }, function (n) { return function (e) { if (n instanceof w) return w.value; if (n instanceof y) return v.append(I)(f.map(b)(n.value0)(e))(o.apply(D)(n.value1)(e)); throw new Error("Failed pattern match at Data.List.Types (line 155, column 1 - line 157, column 48): " + [n.constructor.name, e.constructor.name]) } }), A = new o.Apply(function () { return M }, function (n) { return function (e) { return new p.NonEmpty(n.value0(e.value0), v.append(I)(o.apply(D)(n.value1)(new y(e.value0, w.value)))(o.apply(D)(new y(n.value0, n.value1))(e.value1))) } }), k = new u.Bind(function () { return D }, function (n) { return function (e) { if (n instanceof w) return w.value; if (n instanceof y) return v.append(I)(e(n.value0))(u.bind(k)(n.value1)(e)); throw new Error("Failed pattern match at Data.List.Types (line 162, column 1 - line 164, column 37): " + [n.constructor.name, e.constructor.name]) } }), F = new a.Applicative(function () { return D }, function (n) { return new y(n, w.value) }), P = new r.Alt(function () { return b }, v.append(I)), T = new i.Plus(function () { return P }, w.value), N = new a.Applicative(function () { return A }, (e = p.singleton(T), function (n) { return h(e(n)) })); t.Nil = w, t.Cons = y, t.NonEmptyList = h, t.semigroupList = I, t.functorList = b, t.foldableList = S, t.unfoldableList = H, t.applicativeList = F, t.bindList = k, t.plusList = T, t.functorNonEmptyList = M, t.applicativeNonEmptyList = N, t.semigroupNonEmptyList = E }(PS), function (n) { "use strict"; n["Data.List.NonEmpty"] = n["Data.List.NonEmpty"] || {}; var e, t = n["Data.List.NonEmpty"], r = n["Data.List.Types"], a = n["Data.NonEmpty"], o = (e = a.singleton(r.plusList), function (n) { return r.NonEmptyList(e(n)) }); t.singleton = o, t.cons = function (n) { return function (e) { return new a.NonEmpty(n, new r.Cons(e.value0, e.value1)) } }, t.head = function (n) { return n.value0 } }(PS), function (n) { "use strict"; var e = function () { var n = {}, e = "Pure", t = "Throw", r = "Catch", a = "Sync", o = "Async", u = "Bind", i = "Bracket", c = "Fork", l = "Sequential", f = "Map", s = "Apply", d = "Alt", p = "Cons", v = "Resume", m = "Release", g = "Finalizer", w = "Finalized", y = "Forked"; function h(n, e, t, r) { this.tag = n, this._1 = e, this._2 = t, this._3 = r } function b(n) { var e = function (e, t, r) { return new h(n, e, t, r) }; return e.tag = n, e } function M(n) { return new h(e, void 0) } function S(n) { try { n() } catch (n) { setTimeout(function () { throw n }, 0) } } function I(n, e, t) { try { return e(t()) } catch (e) { return n(e) } } function E(n, e, t) { try { return e(t)() } catch (e) { return t(n(e))(), M } } var C = function () { var n = 1024, e = 0, t = 0, r = new Array(n), a = !1; function o() { var o; for (a = !0; 0 !== e;)e--, o = r[t], r[t] = void 0, t = (t + 1) % n, o(); a = !1 } return { isDraining: function () { return a }, enqueue: function (u) { var i; e === n && (i = a, o(), a = i), r[(t + e) % n] = u, e++, a || o() } } }(); var H = 0, D = 1, A = 2, k = 3, F = 4, P = 5, T = 6; function N(n, f, s) { var d = 0, y = H, b = s, M = null, L = null, U = null, J = null, O = null, R = 0, _ = 0, q = null, W = !0; function B(s) { for (var _, Q, z; ;)switch (_ = null, Q = null, z = null, y) { case A: y = D; try { b = U(b), null === J ? U = null : (U = J._1, J = J._2) } catch (e) { y = P, M = n.left(e), b = null } break; case k: n.isLeft(b) ? (y = P, M = b, b = null) : null === U ? y = P : (y = A, b = n.fromRight(b)); break; case D: switch (b.tag) { case u: U && (J = new h(p, U, J)), U = b._2, y = D, b = b._1; break; case e: null === U ? (y = P, b = n.right(b._1)) : (y = A, b = b._1); break; case a: y = k, b = I(n.left, n.right, b._1); break; case o: return y = F, void (b = E(n.left, b._1, function (n) { return function () { d === s && (d++, C.enqueue(function () { d === s + 1 && (y = k, b = n, B(d)) })) } })); case t: y = P, M = n.left(b._1), b = null; break; case r: O = new h(p, b, null === U ? O : new h(p, new h(v, U, J), O, L), L), U = null, J = null, y = D, b = b._1; break; case i: R++, O = new h(p, b, null === U ? O : new h(p, new h(v, U, J), O, L), L), U = null, J = null, y = D, b = b._1; break; case c: y = k, _ = N(n, f, b._2), f && f.register(_), b._1 && _.run(), b = n.right(_); break; case l: y = D, b = x(n, f, b._1) }break; case P: if (U = null, J = null, null === O) y = T, b = L || M || b; else switch (_ = O._3, z = O._1, O = O._2, z.tag) { case r: L && L !== _ && 0 === R ? y = P : M && (y = D, b = z._2(n.fromLeft(M)), M = null); break; case v: L && L !== _ && 0 === R || M ? y = P : (U = z._1, J = z._2, y = A, b = n.fromRight(b)); break; case i: R--, null === M && (Q = n.fromRight(b), O = new h(p, new h(m, z._2, Q), O, _), (L === _ || R > 0) && (y = D, b = z._3(Q))); break; case m: O = new h(p, new h(w, b, M), O, L), y = D, b = L && L !== _ && 0 === R ? z._1.killed(n.fromLeft(L))(z._2) : M ? z._1.failed(n.fromLeft(M))(z._2) : z._1.completed(n.fromRight(b))(z._2), M = null, R++; break; case g: R++, O = new h(p, new h(w, b, M), O, L), y = D, b = z._1; break; case w: R--, y = P, b = z._1, M = z._2 }break; case T: for (var V in q) q.hasOwnProperty(V) && (W = W && q[V].rethrow, S(q[V].handler(b))); return q = null, void (L && M ? setTimeout(function () { throw n.fromLeft(M) }, 0) : n.isLeft(b) && W && setTimeout(function () { if (W) throw n.fromLeft(b) }, 0)); case H: y = D; break; case F: return } } function Q(n) { return function () { if (y === T) return W = W && n.rethrow, n.handler(b)(), function () { }; var e = _++; return (q = q || {})[e] = n, function () { null !== q && delete q[e] } } } return { kill: function (e, t) { return function () { if (y === T) return t(n.right(void 0))(), function () { }; var r = Q({ rethrow: !1, handler: function () { return t(n.right(void 0)) } })(); switch (y) { case H: L = n.left(e), y = T, b = L, B(d); break; case F: null === L && (L = n.left(e)), 0 === R && (y === F && (O = new h(p, new h(g, b(e)), O, L)), y = P, b = null, M = null, B(++d)); break; default: null === L && (L = n.left(e)), 0 === R && (y = P, b = null, M = null) }return r } }, join: function (n) { return function () { var e = Q({ rethrow: !1, handler: n })(); return y === H && B(d), e } }, onComplete: Q, isSuspended: function () { return y === H }, run: function () { y === H && (C.isDraining() ? B(d) : C.enqueue(function () { B(d) })) } } } function L(e, t, r, a) { var u = 0, i = {}, c = 0, l = {}, v = new Error("[ParAff] Early exit"), m = null, g = n; function w(t, r, a) { var o, u, c = r, l = null, v = null, m = 0, g = {}; n: for (; ;)switch (o = null, c.tag) { case y: if (c._3 === n && (o = i[c._1], g[m++] = o.kill(t, function (n) { return function () { 0 === --m && a(n)() } })), null === l) break n; c = l._2, null === v ? l = null : (l = v._1, v = v._2); break; case f: c = c._2; break; case s: case d: l && (v = new h(p, l, v)), l = c, c = c._1 }if (0 === m) a(e.right(void 0))(); else for (u = 0, o = m; u < o; u++)g[u] = g[u](); return g } function b(t) { return function (r) { return function () { delete i[t._1], t._3 = r, function t(r, o, u) { var i, p, g, y, h, b; for (e.isLeft(r) ? (i = r, p = null) : (p = r, i = null); ;) { if (g = null, y = null, h = null, b = null, null !== m) return; if (null === o) return void a(i || p)(); if (o._3 !== n) return; switch (o.tag) { case f: null === i ? (o._3 = e.right(o._1(e.fromRight(p))), p = o._3) : o._3 = i; break; case s: if (g = o._1._3, y = o._2._3, i) { if (o._3 = i, h = !0, b = c++, l[b] = w(v, i === g ? o._2 : o._1, function () { return function () { delete l[b], h ? h = !1 : null === u ? t(i, null, null) : t(i, u._1, u._2) } }), h) return void (h = !1) } else { if (g === n || y === n) return; p = e.right(e.fromRight(g)(e.fromRight(y))), o._3 = p } break; case d: if (g = o._1._3, y = o._2._3, g === n && e.isLeft(y) || y === n && e.isLeft(g)) return; if (g !== n && e.isLeft(g) && y !== n && e.isLeft(y)) i = p === g ? y : g, p = null, o._3 = i; else if (o._3 = p, h = !0, b = c++, l[b] = w(v, p === g ? o._2 : o._1, function () { return function () { delete l[b], h ? h = !1 : null === u ? t(p, null, null) : t(p, u._1, u._2) } }), h) return void (h = !1) }null === u ? o = null : (o = u._1, u = u._2) } }(r, t._2._1, t._2._2) } } } return function () { var a, o, c = D, l = r, v = null, m = null; n: for (; ;)switch (a = null, o = null, c) { case D: switch (l.tag) { case f: v && (m = new h(p, v, m)), v = new h(f, l._1, n, n), l = l._2; break; case s: v && (m = new h(p, v, m)), v = new h(s, n, l._2, n), l = l._1; break; case d: v && (m = new h(p, v, m)), v = new h(d, n, l._2, n), l = l._1; break; default: o = u++, c = P, a = l, l = new h(y, o, new h(p, v, m), n), (a = N(e, t, a)).onComplete({ rethrow: !1, handler: b(l) })(), i[o] = a, t && t.register(a) }break; case P: if (null === v) break n; v._1 === n ? (v._1 = l, c = D, l = v._2, v._2 = n) : (v._2 = l, l = v, null === m ? v = null : (v = m._1, m = m._2)) }for (g = l, o = 0; o < u; o++)i[o].run() }(), function (n) { return new h(o, function (t) { return function () { return function (n, t) { var r; for (var a in m = e.left(n), l) if (l.hasOwnProperty(a)) for (a in r = l[a]) r.hasOwnProperty(a) && r[a](); l = null; var u = w(n, g, t); return function (n) { return new h(o, function (n) { return function () { for (var n in u) u.hasOwnProperty(n) && u[n](); return M } }) } }(n, t) } }) } } function x(n, e, t) { return new h(o, function (r) { return function () { return L(n, e, t, r) } }) } return h.EMPTY = n, h.Pure = b(e), h.Throw = b(t), h.Catch = b(r), h.Sync = b(a), h.Async = b(o), h.Bind = b(u), h.Bracket = b(i), h.Fork = b(c), h.Seq = b(l), h.ParMap = b(f), h.ParApply = b(s), h.ParAlt = b(d), h.Fiber = N, h.Supervisor = function (n) { var e = {}, t = 0, r = 0; return { register: function (n) { var a = t++; n.onComplete({ rethrow: !0, handler: function (n) { return function () { r--, delete e[a] } } })(), e[a] = n, r++ }, isEmpty: function () { return 0 === r }, killAll: function (o, u) { return function () { if (0 === r) return u(); var i = 0, c = {}; function l(t) { c[t] = e[t].kill(o, function (e) { return function () { delete c[t], i--, n.isLeft(e) && n.fromLeft(e) && setTimeout(function () { throw n.fromLeft(e) }, 0), 0 === i && u() } })() } for (var f in e) e.hasOwnProperty(f) && (i++, l(f)); return e = {}, t = 0, r = 0, function (n) { return new h(a, function () { for (var n in c) c.hasOwnProperty(n) && c[n]() }) } } } } }, h.Scheduler = C, h.nonCanceler = M, h }(); n._pure = e.Pure, n._throwError = e.Throw, n._catchError = function (n) { return function (t) { return e.Catch(n, t) } }, n._map = function (n) { return function (t) { return t.tag === e.Pure.tag ? e.Pure(n(t._1)) : e.Bind(t, function (t) { return e.Pure(n(t)) }) } }, n._bind = function (n) { return function (t) { return e.Bind(n, t) } }, n._fork = function (n) { return function (t) { return e.Fork(n, t) } }, n._liftEffect = e.Sync, n._parAffMap = function (n) { return function (t) { return e.ParMap(n, t) } }, n._parAffApply = function (n) { return function (t) { return e.ParApply(n, t) } }, n.makeAff = e.Async, n.generalBracket = function (n) { return function (t) { return function (r) { return e.Bracket(n, t, r) } } }, n._makeFiber = function (n, t) { return function () { return e.Fiber(n, null, t) } }, n._delay = function () { return function (n, t) { return e.Async(function (r) { return function () { var a, o, u = (a = t, o = r(n()), 0 === a && "undefined" != typeof setImmediate ? setImmediate(o) : setTimeout(o, a)); return function () { return e.Sync(function () { return n((e = u, 0 === t && "undefined" != typeof clearImmediate ? clearImmediate(e) : clearTimeout(e))); var e }) } } }) } }(), n._sequential = e.Seq }(PS["Effect.Aff"] = PS["Effect.Aff"] || {}), function (n) { "use strict"; n.pureE = function (n) { return function () { return n } }, n.bindE = function (n) { return function (e) { return function () { return e(n())() } } } }(PS.Effect = PS.Effect || {}), function (n) { "use strict"; n.Effect = n.Effect || {}; var e = n.Effect, t = n.Effect, r = n["Control.Applicative"], a = n["Control.Apply"], o = n["Control.Bind"], u = n["Control.Monad"], i = n["Data.Functor"], c = n["Data.Monoid"], l = n["Data.Semigroup"], f = new u.Monad(function () { return p }, function () { return s }), s = new o.Bind(function () { return d }, t.bindE), d = new a.Apply(function () { return v }, u.ap(f)), p = new r.Applicative(function () { return d }, t.pureE), v = new i.Functor(r.liftA1(p)); e.functorEffect = v, e.applicativeEffect = p, e.bindEffect = s, e.monadEffect = f, e.monoidEffect = function (n) { return new c.Monoid(function () { return e = n.Semigroup0(), new l.Semigroup(a.lift2(d)(l.append(e))); var e }, t.pureE(c.mempty(n))) } }(PS), function (n) { "use strict"; n.new = function (n) { return function () { return { value: n } } }, n.read = function (n) { return function () { return n.value } }, n["modify'"] = function (n) { return function (e) { return function () { var t = n(e.value); return e.value = t.state, t.value } } }, n.write = function (n) { return function (e) { return function () { return e.value = n, {} } } } }(PS["Effect.Ref"] = PS["Effect.Ref"] || {}), function (n) { "use strict"; n["Effect.Ref"] = n["Effect.Ref"] || {}; var e = n["Effect.Ref"], t = n["Effect.Ref"], r = n["Data.Functor"], a = n.Effect; e.modify_ = function (n) { return function (e) { return r.void(a.functorEffect)(function (n) { return t["modify'"](function (e) { var t = n(e); return { state: t, value: t } }) }(n)(e)) } }, e.new = t.new, e.read = t.read, e["modify'"] = t["modify'"], e.write = t.write }(PS), function (n) { "use strict"; n["Control.Monad.Rec.Class"] = n["Control.Monad.Rec.Class"] || {}; var e = n["Control.Monad.Rec.Class"], t = n["Control.Bind"], r = n["Data.Functor"], a = n["Data.Unit"], o = n.Effect, u = n["Effect.Ref"], i = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), c = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), l = function (n, e) { this.Monad0 = n, this.tailRecM = e }, f = function (n) { return n.tailRecM }, s = new l(function () { return o.monadEffect }, function (n) { return function (e) { var a = function (n) { if (n instanceof c) return n.value0; throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 113, column 30 - line 113, column 44): " + [n.constructor.name]) }; return function () { var l = t.bindFlipped(o.bindEffect)(u.new)(n(e))(); return function () { for (; !function () { var e = u.read(l)(); if (e instanceof i) { var t = n(e.value0)(); return u.write(t)(l)(), !1 } if (e instanceof c) return !0; throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 104, column 22 - line 109, column 28): " + [e.constructor.name]) }();); }(), r.map(o.functorEffect)(a)(u.read(l))() } } }); e.Loop = i, e.Done = c, e.MonadRec = l, e.tailRecM = f, e.forever = function (n) { return function (e) { return f(n)(function (t) { return r.voidRight(n.Monad0().Bind1().Apply0().Functor0())(new i(t))(e) })(a.unit) } }, e.monadRecEffect = s }(PS), function (n) { "use strict"; n["Control.Parallel.Class"] = n["Control.Parallel.Class"] || {}; var e = n["Control.Parallel.Class"]; e.parallel = function (n) { return n.parallel }, e.sequential = function (n) { return n.sequential }, e.Parallel = function (n, e, t, r) { this.Applicative1 = n, this.Monad0 = e, this.parallel = t, this.sequential = r } }(PS), function (n) { "use strict"; n["Control.Parallel"] = n["Control.Parallel"] || {}; var e = n["Control.Parallel"], t = n["Control.Category"], r = n["Control.Parallel.Class"], a = n["Data.Foldable"]; e.parSequence_ = function (n) { return function (e) { return function (n) { return function (e) { return function (t) { var o, u = r.sequential(n), i = a.traverse_(n.Applicative1())(e)((o = r.parallel(n), function (n) { return o(t(n)) })); return function (n) { return u(i(n)) } } } }(n)(e)(t.identity(t.categoryFn)) } } }(PS), function (n) { "use strict"; n["Effect.Class"] = n["Effect.Class"] || {}; var e = n["Effect.Class"], t = n["Control.Category"], r = n.Effect, a = function (n, e) { this.Monad0 = n, this.liftEffect = e }, o = new a(function () { return r.monadEffect }, t.identity(t.categoryFn)); e.liftEffect = function (n) { return n.liftEffect }, e.MonadEffect = a, e.monadEffectEffect = o }(PS), function (n) { "use strict"; n.unsafePerformEffect = function (n) { return n() } }(PS["Effect.Unsafe"] = PS["Effect.Unsafe"] || {}), function (n) { "use strict"; n["Effect.Unsafe"] = n["Effect.Unsafe"] || {}; var e = n["Effect.Unsafe"], t = n["Effect.Unsafe"]; e.unsafePerformEffect = t.unsafePerformEffect }(PS), function (n) { "use strict"; n.unsafePartial = function (n) { return n() } }(PS["Partial.Unsafe"] = PS["Partial.Unsafe"] || {}), function (n) { "use strict"; n.crashWith = function () { return function (n) { throw new Error(n) } } }(PS.Partial = PS.Partial || {}), function (n) { "use strict"; n.Partial = n.Partial || {}; var e = n.Partial, t = n.Partial; e.crashWith = t.crashWith }(PS), function (n) { "use strict"; n["Partial.Unsafe"] = n["Partial.Unsafe"] || {}; var e = n["Partial.Unsafe"], t = n["Partial.Unsafe"], r = n.Partial; e.unsafeCrashWith = function (n) { return t.unsafePartial(function (e) { return r.crashWith()(n) }) } }(PS), function (n) { "use strict"; n.unsafeCoerce = function (n) { return n } }(PS["Unsafe.Coerce"] = PS["Unsafe.Coerce"] || {}), function (n) { "use strict"; n["Unsafe.Coerce"] = n["Unsafe.Coerce"] || {}; var e = n["Unsafe.Coerce"], t = n["Unsafe.Coerce"]; e.unsafeCoerce = t.unsafeCoerce }(PS), function (n) { "use strict"; n["Effect.Aff"] = n["Effect.Aff"] || {}; var e, t, r, a, o = n["Effect.Aff"], u = n["Effect.Aff"], i = n["Control.Applicative"], c = n["Control.Apply"], l = n["Control.Bind"], f = n["Control.Monad"], s = n["Control.Monad.Error.Class"], d = n["Control.Monad.Rec.Class"], p = n["Control.Parallel"], v = n["Control.Parallel.Class"], m = n["Data.Either"], g = n["Data.Foldable"], w = n["Data.Function"], y = n["Data.Functor"], h = n["Data.Monoid"], b = n["Data.Semigroup"], M = n["Data.Unit"], S = n.Effect, I = n["Effect.Class"], E = n["Effect.Unsafe"], C = n["Partial.Unsafe"], H = n["Unsafe.Coerce"], D = u._fork(!1), A = new y.Functor(u._parAffMap), k = new y.Functor(u._map), F = u._fork(!0), P = { isLeft: function (n) { if (n instanceof m.Left) return !0; if (n instanceof m.Right) return !1; throw new Error("Failed pattern match at Effect.Aff (line 390, column 12 - line 392, column 20): " + [n.constructor.name]) }, fromLeft: function (n) { if (n instanceof m.Left) return n.value0; if (n instanceof m.Right) return C.unsafeCrashWith("unsafeFromLeft: Right"); throw new Error("Failed pattern match at Effect.Aff (line 395, column 20 - line 397, column 54): " + [n.constructor.name]) }, fromRight: function (n) { if (n instanceof m.Right) return n.value0; if (n instanceof m.Left) return C.unsafeCrashWith("unsafeFromRight: Left"); throw new Error("Failed pattern match at Effect.Aff (line 400, column 21 - line 402, column 54): " + [n.constructor.name]) }, left: m.Left.create, right: m.Right.create }, T = function (n) { return u._makeFiber(P, n) }, N = function (n) { return function () { var e = T(n)(); return e.run(), e } }, L = (e = y.void(S.functorEffect), function (n) { return e(N(n)) }), x = new c.Apply(function () { return A }, u._parAffApply), U = new f.Monad(function () { return R }, function () { return J }), J = new l.Bind(function () { return O }, u._bind), O = new c.Apply(function () { return k }, f.ap(U)), R = new i.Applicative(function () { return O }, u._pure), _ = new I.MonadEffect(function () { return U }, u._liftEffect), q = (t = I.liftEffect(_), function (n) { return w.const(t(n)) }), W = function (n) { return u.makeAff(function (e) { return y.map(S.functorEffect)(q)(n.join(e)) }) }, B = new y.Functor(function (n) { return function (e) { return E.unsafePerformEffect(T(y.map(k)(n)(W(e)))) } }), Q = new s.MonadThrow(function () { return U }, u._throwError), z = new s.MonadError(function () { return Q }, u._catchError), V = s.try(z), j = function (n) { return function (e) { return N(l.bindFlipped(J)((t = I.liftEffect(_), function (e) { return t(n(e)) }))(s.try(z)(e))); var t } }, G = new v.Parallel(function () { return K }, function () { return U }, H.unsafeCoerce, u._sequential), K = new i.Applicative(function () { return x }, (r = v.parallel(G), a = i.pure(R), function (n) { return r(a(n)) })), X = new b.Semigroup(function (n) { return function (e) { return function (t) { return p.parSequence_(G)(g.foldableArray)([n(t), e(t)]) } } }), Z = new d.MonadRec(function () { return U }, function (n) { var e = function (t) { return l.bind(J)(n(t))(function (n) { if (n instanceof d.Done) return i.pure(R)(n.value0); if (n instanceof d.Loop) return e(n.value0); throw new Error("Failed pattern match at Effect.Aff (line 100, column 7 - line 102, column 22): " + [n.constructor.name]) }) }; return e }), Y = w.const(i.pure(R)(M.unit)), $ = new h.Monoid(function () { return X }, Y); o.launchAff_ = L, o.runAff = j, o.runAff_ = function (n) { return function (e) { return y.void(S.functorEffect)(j(n)(e)) } }, o.forkAff = F, o.suspendAff = D, o.attempt = V, o.delay = function (n) { return u._delay(m.Right.create, n) }, o.finally = function (n) { return function (e) { return (t = i.pure(R)(M.unit), function (n) { return u.generalBracket(t)({ killed: w.const(n), failed: w.const(n), completed: w.const(n) }) })(w.const(n))(w.const(e)); var t } }, o.killFiber = function (n) { return function (e) { return l.bind(J)(I.liftEffect(_)(e.isSuspended))(function (t) { return t ? I.liftEffect(_)(y.void(S.functorEffect)(e.kill(n, w.const(i.pure(S.applicativeEffect)(M.unit))))) : u.makeAff(function (t) { return y.map(S.functorEffect)(q)(e.kill(n, t)) }) }) } }, o.joinFiber = W, o.nonCanceler = Y, o.effectCanceler = q, o.functorAff = k, o.applicativeAff = R, o.bindAff = J, o.monadAff = U, o.monadRecAff = Z, o.monadThrowAff = Q, o.monadErrorAff = z, o.monadEffectAff = _, o.applicativeParAff = K, o.parallelAff = G, o.functorFiber = B, o.monoidCanceler = $, o.makeAff = u.makeAff }(PS), function (n) { "use strict"; n["Effect.Aff.Compat"] = n["Effect.Aff.Compat"] || {}; var e = n["Effect.Aff.Compat"], t = n["Data.Either"], r = n["Effect.Aff"]; e.fromEffectFnAff = function (n) { return r.makeAff(function (e) { return function () { var a = n(function (n) { return e(t.Left.create(n))() }, function (n) { return e(t.Right.create(n))() }); return function (n) { return r.makeAff(function (e) { return function () { return a(n, function (n) { return e(t.Left.create(n))() }, function (n) { return e(t.Right.create(n))() }), r.nonCanceler } }) } } }) } }(PS), function (n) { "use strict"; n.unsafeToForeign = function (n) { return n }, n.unsafeFromForeign = function (n) { return n }, n.typeOf = function (n) { return typeof n }, n.tagOf = function (n) { return Object.prototype.toString.call(n).slice(8, -1) }, n.isNull = function (n) { return null === n }, n.isArray = Array.isArray || function (n) { return "[object Array]" === Object.prototype.toString.call(n) } }(PS.Foreign = PS.Foreign || {}), function (n) { "use strict"; n.Foreign = n.Foreign || {}; var e, t = n.Foreign, r = n.Foreign, a = n["Control.Applicative"], o = n["Control.Monad.Error.Class"], u = n["Control.Monad.Except.Trans"], i = n["Data.Boolean"], c = n["Data.Identity"], l = n["Data.List.NonEmpty"], f = n["Data.Maybe"], s = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), d = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), p = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), v = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), m = (e = o.throwError(u.monadThrowExceptT(c.monadIdentity)), function (n) { return e(l.singleton(n)) }), g = function (n) { return function (e) { if (r.tagOf(e) === n) return a.pure(u.applicativeExceptT(c.monadIdentity))(r.unsafeFromForeign(e)); if (i.otherwise) return m(new d(n, r.tagOf(e))); throw new Error("Failed pattern match at Foreign (line 106, column 1 - line 106, column 55): " + [n.constructor.name, e.constructor.name]) } }, w = g("Boolean"), y = g("String"); t.ForeignError = s, t.TypeMismatch = d, t.ErrorAtIndex = p, t.ErrorAtProperty = v, t.unsafeReadTagged = g, t.readString = y, t.readBoolean = w, t.readArray = function (n) { if (r.isArray(n)) return a.pure(u.applicativeExceptT(c.monadIdentity))(r.unsafeFromForeign(n)); if (i.otherwise) return m(new d("array", r.tagOf(n))); throw new Error("Failed pattern match at Foreign (line 147, column 1 - line 147, column 42): " + [n.constructor.name]) }, t.readNull = function (n) { if (r.isNull(n)) return a.pure(u.applicativeExceptT(c.monadIdentity))(f.Nothing.value); if (i.otherwise) return a.pure(u.applicativeExceptT(c.monadIdentity))(new f.Just(n)); throw new Error("Failed pattern match at Foreign (line 152, column 1 - line 152, column 41): " + [n.constructor.name]) }, t.fail = m, t.unsafeToForeign = r.unsafeToForeign, t.typeOf = r.typeOf }(PS), function (n) { "use strict"; n.Affjax = n.Affjax || {}; var e = n.Affjax, t = n.Affjax, r = n["Affjax.RequestBody"], a = n["Affjax.RequestHeader"], o = n["Affjax.ResponseFormat"], u = n["Affjax.ResponseHeader"], i = n["Control.Applicative"], c = n["Control.Bind"], l = n["Control.Monad.Error.Class"], f = n["Control.Monad.Except"], s = n["Control.Monad.Except.Trans"], d = n["Data.Argonaut.Core"], p = n["Data.Argonaut.Parser"], v = n["Data.Array"], m = n["Data.Either"], g = n["Data.Eq"], w = n["Data.Foldable"], y = n["Data.FormURLEncoded"], h = n["Data.Function"], b = n["Data.Functor"], M = n["Data.HTTP.Method"], S = n["Data.HeytingAlgebra"], I = n["Data.Identity"], E = n["Data.List.NonEmpty"], C = n["Data.Maybe"], H = n["Data.Nullable"], D = n["Data.Unit"], A = n["Effect.Aff"], k = n["Effect.Aff.Compat"], F = n.Foreign, P = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), T = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), N = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), L = function (n) { var e = function () { if (n.responseFormat instanceof o.ArrayBuffer) return F.unsafeReadTagged("ArrayBuffer"); if (n.responseFormat instanceof o.Blob) return F.unsafeReadTagged("Blob"); if (n.responseFormat instanceof o.Document) return F.unsafeReadTagged("Document"); if (n.responseFormat instanceof o.Json) return c.composeKleisliFlipped(s.bindExceptT(I.monadIdentity))(function (e) { return n.responseFormat.value0("" === (t = e) ? i.pure(s.applicativeExceptT(I.monadIdentity))(d.jsonEmptyObject) : m.either(function (n) { return F.fail(F.ForeignError.create(n)) })(i.pure(s.applicativeExceptT(I.monadIdentity)))(p.jsonParser(t))); var t })(F.unsafeReadTagged("String")); if (n.responseFormat instanceof o.String) return F.unsafeReadTagged("String"); if (n.responseFormat instanceof o.Ignore) return h.const(n.responseFormat.value0(i.pure(s.applicativeExceptT(I.monadIdentity))(D.unit))); throw new Error("Failed pattern match at Affjax (line 237, column 18 - line 243, column 57): " + [n.responseFormat.constructor.name]) }(), L = function (n) { return function (e) { return n instanceof C.Just && !w.any(w.foldableArray)(S.heytingAlgebraBoolean)(h.on(g.eq(g.eqString))(a.name)(n.value0))(e) ? v.snoc(e)(n.value0) : e } }, x = function (e) { return { method: M.print(n.method), url: n.url, headers: b.map(b.functorArray)(function (n) { return { field: a.name(n), value: a.value(n) } })((t = n.content, L(b.map(C.functorMaybe)(a.ContentType.create)(c.bindFlipped(C.bindMaybe)(r.toMediaType)(t)))(L(b.map(C.functorMaybe)(a.Accept.create)(o.toMediaType(n.responseFormat)))(n.headers)))), content: e, responseType: o.toResponseType(n.responseFormat), username: H.toNullable(n.username), password: H.toNullable(n.password), withCredentials: n.withCredentials }; var t }, U = function (n) { return b.mapFlipped(A.functorAff)(l.try(A.monadErrorAff)(k.fromEffectFnAff(t._ajax(u.ResponseHeader.create, x(n)))))(function (n) { if (n instanceof m.Right) { var t = f.runExcept(e(n.value0.body)); if (t instanceof m.Left) return new m.Left(new T(E.head(t.value0), n.value0)); if (t instanceof m.Right) return new m.Right({ body: t.value0, headers: n.value0.headers, status: n.value0.status, statusText: n.value0.statusText }); throw new Error("Failed pattern match at Affjax (line 184, column 9 - line 186, column 52): " + [t.constructor.name]) } if (n instanceof m.Left) return new m.Left(new N(n.value0)); throw new Error("Failed pattern match at Affjax (line 182, column 86 - line 188, column 28): " + [n.constructor.name]) }) }; if (n.content instanceof C.Nothing) return U(H.toNullable(C.Nothing.value)); if (n.content instanceof C.Just) { var J = function (n) { if (n instanceof r.ArrayView) return m.Right.create(n.value0(F.unsafeToForeign)); if (n instanceof r.Blob) return m.Right.create(F.unsafeToForeign(n.value0)); if (n instanceof r.Document) return m.Right.create(F.unsafeToForeign(n.value0)); if (n instanceof r.String) return m.Right.create(F.unsafeToForeign(n.value0)); if (n instanceof r.FormData) return m.Right.create(F.unsafeToForeign(n.value0)); if (n instanceof r.FormURLEncoded) return m.note("Body contains values that cannot be encoded as application/x-www-form-urlencoded")(b.map(C.functorMaybe)(F.unsafeToForeign)(y.encode(n.value0))); if (n instanceof r.Json) return m.Right.create(F.unsafeToForeign(d.stringify(n.value0))); throw new Error("Failed pattern match at Affjax (line 203, column 20 - line 218, column 69): " + [n.constructor.name]) }(n.content.value0); if (J instanceof m.Right) return U(H.toNullable(new C.Just(J.value0))); if (J instanceof m.Left) return i.pure(A.applicativeAff)(new m.Left(new P(J.value0))); throw new Error("Failed pattern match at Affjax (line 173, column 7 - line 177, column 48): " + [J.constructor.name]) } throw new Error("Failed pattern match at Affjax (line 169, column 3 - line 177, column 48): " + [n.content.constructor.name]) }, x = { method: new m.Left(M.GET.value), url: "/", headers: [], content: C.Nothing.value, username: C.Nothing.value, password: C.Nothing.value, withCredentials: !1, responseFormat: o.ignore }; e.get = function (n) { return function (e) { return L({ method: x.method, url: e, headers: x.headers, content: x.content, username: x.username, password: x.password, withCredentials: x.withCredentials, responseFormat: n }) } } }(PS), function (n) { "use strict"; n["Control.Applicative.Free"] = n["Control.Applicative.Free"] || {}; var e = n["Control.Applicative.Free"], t = n["Control.Applicative"], r = n["Control.Apply"], a = n["Control.Category"], o = n["Data.Either"], u = n["Data.Functor"], i = n["Data.List.NonEmpty"], c = n["Data.List.Types"], l = n["Data.NonEmpty"], f = n["Data.Tuple"], s = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), d = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), p = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), v = function (n) { return function (e) { return new p(n, e) } }, m = d.create, g = function (n) { return function (e) { return function (r) { return function (a) { return function (o) { return function (u) { var l, v = n, m = e, g = r, w = a, y = o, h = !1; function b(n, e, r, a, o, l) { if (o instanceof s) return h = !0, new f.Tuple(new c.Cons({ func: t.pure(n)(o.value0), count: l }, e), r); if (o instanceof d) return h = !0, new f.Tuple(new c.Cons({ func: a(o.value0), count: l }, e), r); if (o instanceof p) return v = n, m = e, g = i.cons(o.value1)(r), w = a, y = o.value0, void (u = l + 1 | 0); throw new Error("Failed pattern match at Control.Applicative.Free (line 102, column 41 - line 105, column 81): " + [o.constructor.name]) } for (; !h;)l = b(v, m, g, w, y, u); return l } } } } } }, w = function (n) { return function (e) { return function (t) { return function (a) { var u, i = n, s = e, d = t, p = !1; function v(n, e, t, u) { if (e instanceof c.Nil) return p = !0, new o.Left(u); if (e instanceof c.Cons) { var v = r.apply(n.Apply0())(e.value0.func)(u); if (1 === e.value0.count) return e.value1 instanceof c.Nil ? (p = !0, new o.Left(v)) : (i = n, s = e.value1, d = t, void (a = v)); if (t instanceof c.Nil) return p = !0, new o.Left(v); if (t instanceof c.Cons) return p = !0, o.Right.create(new f.Tuple(new c.Cons({ func: v, count: e.value0.count - 1 | 0 }, e.value1), new l.NonEmpty(t.value0, t.value1))); throw new Error("Failed pattern match at Control.Applicative.Free (line 83, column 11 - line 88, column 50): " + [t.constructor.name]) } throw new Error("Failed pattern match at Control.Applicative.Free (line 72, column 3 - line 88, column 50): " + [e.constructor.name]) } for (; !p;)u = v(i, s, d, a); return u } } } }, y = new u.Functor(function (n) { return function (e) { return v(new s(n))(e) } }), h = function (n) { return function (e) { return function (r) { return function (r) { var a, u = !1; function i(a) { if (a.value1.value0 instanceof s) { if ((i = w(n)(a.value0)(a.value1.value1)(t.pure(n)(a.value1.value0.value0))) instanceof o.Left) return u = !0, i.value0; if (i instanceof o.Right) return void (r = i.value0); throw new Error("Failed pattern match at Control.Applicative.Free (line 54, column 17 - line 56, column 24): " + [i.constructor.name]) } if (a.value1.value0 instanceof d) { var i; if ((i = w(n)(a.value0)(a.value1.value1)(e(a.value1.value0.value0))) instanceof o.Left) return u = !0, i.value0; if (i instanceof o.Right) return void (r = i.value0); throw new Error("Failed pattern match at Control.Applicative.Free (line 57, column 17 - line 59, column 24): " + [i.constructor.name]) } if (!(a.value1.value0 instanceof p)) throw new Error("Failed pattern match at Control.Applicative.Free (line 53, column 5 - line 62, column 47): " + [a.value1.value0.constructor.name]); var c = new l.NonEmpty(a.value1.value0.value1, a.value1.value1); r = g(n)(a.value0)(c)(e)(a.value1.value0.value0)(1) } for (; !u;)a = i(r); return a }(new f.Tuple(c.Nil.value, i.singleton(r))) } } }, b = new r.Apply(function () { return y }, function (n) { return function (e) { return v(n)(e) } }), M = new t.Applicative(function () { return b }, s.create); e.retractFreeAp = function (n) { return h(n)(a.identity(a.categoryFn)) }, e.hoistFreeAp = function (n) { return h(M)(function (e) { return m(n(e)) }) } }(PS), function (n) { "use strict"; n["Control.Monad.Trans.Class"] = n["Control.Monad.Trans.Class"] || {}; var e = n["Control.Monad.Trans.Class"]; e.lift = function (n) { return n.lift }, e.MonadTrans = function (n) { this.lift = n } }(PS), function (n) { "use strict"; n["Data.Exists"] = n["Data.Exists"] || {}; var e = n["Data.Exists"], t = n["Unsafe.Coerce"], r = t.unsafeCoerce, a = t.unsafeCoerce; e.mkExists = a, e.runExists = r }(PS), function (n) { "use strict"; n["Control.Monad.Free.Trans"] = n["Control.Monad.Free.Trans"] || {}; var e = n["Control.Monad.Free.Trans"], t = n["Control.Applicative"], r = n["Control.Apply"], a = n["Control.Bind"], o = n["Control.Category"], u = n["Control.Monad"], i = n["Control.Monad.Rec.Class"], c = n["Control.Monad.Trans.Class"], l = n["Data.Bifunctor"], f = n["Data.Either"], s = n["Data.Exists"], d = n["Data.Functor"], p = n["Data.Unit"], v = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), m = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), g = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), w = m.create, y = function (n) { return function (e) { return new g(s.mkExists(new v(n, e))) } }, h = function (n) { return function (e) { return new d.Functor(function (t) { return function (r) { if (r instanceof m) return new m(function (a) { return d.map(e)(l.bimap(f.bifunctorEither)(t)(d.map(n)(d.map(h(n)(e))(t))))(r.value0(p.unit)) }); if (r instanceof g) return s.runExists(function (r) { return y(r.value0)((a = d.map(h(n)(e))(t), function (n) { return a(r.value1(n)) })); var a })(r.value0); throw new Error("Failed pattern match at Control.Monad.Free.Trans (line 59, column 1 - line 61, column 71): " + [t.constructor.name, r.constructor.name]) } }) } }, b = function (n) { return function (e) { return function (t) { return function (r) { return function (a) { if (a instanceof g) return s.runExists(function (a) { return y((u = b(n)(e)(t)(r), function (n) { return u(a.value0(n)) }))((o = b(n)(e)(t)(r), function (n) { return o(a.value1(n)) })); var o, u })(a.value0); if (a instanceof m) return new m(function (o) { return d.map(e)(d.map(f.functorEither)((u = d.map(n)(b(n)(e)(t)(r)), function (n) { return t(u(n)) })))(r(a.value0(p.unit))); var u }); throw new Error("Failed pattern match at Control.Monad.Free.Trans (line 123, column 1 - line 123, column 109): " + [t.constructor.name, r.constructor.name, a.constructor.name]) } } } } }, M = function (n) { return function (e) { return new u.Monad(function () { return E(n)(e) }, function () { return S(n)(e) }) } }, S = function (n) { return function (e) { return new a.Bind(function () { return I(n)(e) }, function (n) { return function (e) { return n instanceof g ? s.runExists(function (n) { return y(n.value0)(function (t) { return y(function (e) { return n.value1(t) })(e) }) })(n.value0) : y(function (e) { return n })(e) } }) } }, I = function (n) { return function (e) { return new r.Apply(function () { return h(n)(e.Bind1().Apply0().Functor0()) }, u.ap(M(n)(e))) } }, E = function (n) { return function (e) { return new t.Applicative(function () { return I(n)(e) }, function (n) { return new m(function (r) { return t.pure(e.Applicative0())(new f.Left(n)) }) }) } }, C = function (n) { return function (e) { return i.tailRecM(e)(function (r) { if (r instanceof m) return d.map(e.Monad0().Bind1().Apply0().Functor0())(i.Done.create)(r.value0(p.unit)); if (r instanceof g) return s.runExists(function (r) { var o = r.value0(p.unit); if (o instanceof m) return a.bind(e.Monad0().Bind1())(o.value0(p.unit))(function (o) { if (o instanceof f.Left) return t.pure(e.Monad0().Applicative0())(new i.Loop(r.value1(o.value0))); if (o instanceof f.Right) return t.pure(e.Monad0().Applicative0())(new i.Done(new f.Right(d.map(n)(function (t) { return a.bind(S(n)(e.Monad0()))(t)(r.value1) })(o.value0)))); throw new Error("Failed pattern match at Control.Monad.Free.Trans (line 54, column 20 - line 56, column 67): " + [o.constructor.name]) }); if (o instanceof g) return s.runExists(function (o) { return t.pure(e.Monad0().Applicative0())(new i.Loop(a.bind(S(n)(e.Monad0()))(o.value0(p.unit))(function (t) { return a.bind(S(n)(e.Monad0()))(o.value1(t))(r.value1) }))) })(o.value0); throw new Error("Failed pattern match at Control.Monad.Free.Trans (line 52, column 5 - line 57, column 98): " + [o.constructor.name]) })(r.value0); throw new Error("Failed pattern match at Control.Monad.Free.Trans (line 49, column 3 - line 49, column 75): " + [r.constructor.name]) }) } }; e.freeT = w, e.liftFreeT = function (n) { return function (e) { return function (r) { return new m(function (a) { return t.pure(e.Applicative0())(new f.Right(d.map(n)(t.pure(E(n)(e)))(r))) }) } } }, e.hoistFreeT = function (n) { return function (e) { return b(n)(e)(o.identity(o.categoryFn)) } }, e.resume = C, e.runFreeT = function (n) { return function (e) { return function (r) { return i.tailRecM(e)(a.composeKleisliFlipped(e.Monad0().Bind1())(function (n) { if (n instanceof f.Left) return t.pure(e.Monad0().Applicative0())(new i.Done(n.value0)); if (n instanceof f.Right) return d.map(e.Monad0().Bind1().Apply0().Functor0())(i.Loop.create)(r(n.value0)); throw new Error("Failed pattern match at Control.Monad.Free.Trans (line 141, column 3 - line 141, column 63): " + [n.constructor.name]) })(C(n)(e))) } } }, e.functorFreeT = h, e.applicativeFreeT = E, e.bindFreeT = S, e.monadTransFreeT = function (n) { return new c.MonadTrans(function (n) { return function (e) { return new m(function (t) { return d.map(n.Bind1().Apply0().Functor0())(f.Left.create)(e) }) } }) }, e.monadRecFreeT = function (n) { return function (e) { return new i.MonadRec(function () { return M(n)(e) }, function (r) { var o = function (u) { return a.bind(S(n)(e))(r(u))(function (r) { if (r instanceof i.Loop) return o(r.value0); if (r instanceof i.Done) return t.pure(E(n)(e))(r.value0); throw new Error("Failed pattern match at Control.Monad.Free.Trans (line 82, column 15 - line 84, column 25): " + [r.constructor.name]) }) }; return o }) } } }(PS), function (n) { "use strict"; n["Data.Profunctor"] = n["Data.Profunctor"] || {}; var e = n["Data.Profunctor"], t = n["Control.Category"], r = function (n) { this.dimap = n }, a = new r(function (n) { return function (e) { return function (t) { return function (r) { return e(t(n(r))) } } } }), o = function (n) { return n.dimap }; e.dimap = o, e.Profunctor = r, e.rmap = function (n) { return function (e) { return o(n)(t.identity(t.categoryFn))(e) } }, e.profunctorFn = a }(PS), function (n) { "use strict"; n["Control.Coroutine"] = n["Control.Coroutine"] || {}; var e = n["Control.Coroutine"], t = n["Control.Applicative"], r = n["Control.Apply"], a = n["Control.Bind"], o = n["Control.Category"], u = n["Control.Monad.Except.Trans"], i = n["Control.Monad.Free.Trans"], c = n["Control.Monad.Rec.Class"], l = n["Control.Monad.Trans.Class"], f = n["Control.Parallel.Class"], s = n["Data.Bifunctor"], d = n["Data.Either"], p = n["Data.Functor"], v = n["Data.Identity"], m = n["Data.Maybe"], g = n["Data.Newtype"], w = n["Data.Profunctor"], y = n["Data.Tuple"], h = n["Data.Unit"], b = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), M = new w.Profunctor(function (n) { return function (e) { return function (t) { return w.dimap(w.profunctorFn)(n)(e)(t) } } }), S = function (n) { return function (e) { return function (t) { return c.tailRecM(i.monadRecFreeT(n)(e))(function (r) { return p.map(i.functorFreeT(n)(e.Bind1().Apply0().Functor0()))(m.maybe(new c.Loop(h.unit))(c.Done.create))(t) })(h.unit) } } }, I = new p.Functor(w.rmap(M)), E = new s.Bifunctor(function (n) { return function (e) { return function (t) { return new b(n(t.value0), e(t.value1)) } } }), C = new p.Functor(s.rmap(E)), H = function (n) { return i.liftFreeT(I)(n)(o.identity(o.categoryFn)) }; e.runProcess = function (n) { return i.runFreeT(v.functorIdentity)(n)((e = t.pure(n.Monad0().Applicative0()), r = g.unwrap(v.newtypeIdentity), function (n) { return e(r(n)) })); var e, r }, e.producer = function (n) { return function (e) { return S(C)(n)(a.bind(i.bindFreeT(C)(n))(l.lift(i.monadTransFreeT(C))(n)(e))(function (e) { if (e instanceof d.Left) return p.voidLeft(i.functorFreeT(C)(n.Bind1().Apply0().Functor0()))(function (n) { return function (e) { return i.liftFreeT(C)(n)(new b(e, h.unit)) } }(n)(e.value0))(m.Nothing.value); if (e instanceof d.Right) return t.pure(i.applicativeFreeT(C)(n))(new m.Just(e.value0)); throw new Error("Failed pattern match at Control.Coroutine (line 125, column 3 - line 127, column 29): " + [e.constructor.name]) })) } }, e.await = H, e.consumer = function (n) { return function (e) { return S(I)(n)(a.bind(i.bindFreeT(I)(n))(H(n))(function (t) { return l.lift(i.monadTransFreeT(I))(n)(e(t)) })) } }, e.connect = function (n) { return function (e) { return (o = C, function (n) { return function (e) { return function (u) { return function (c) { return function (l) { return function (s) { return function (v) { var m = function (s) { return a.bind(u.Monad0().Bind1())(f.sequential(c)(r.apply(c.Applicative1().Apply0())(p.map(c.Applicative1().Apply0().Functor0())(r.lift2(d.applyEither)(l(y.Tuple.create)))(f.parallel(c)(i.resume(o)(u)(s.value0))))(f.parallel(c)(i.resume(n)(u)(s.value1)))))(function (n) { if (n instanceof d.Left) return t.pure(u.Monad0().Applicative0())(new d.Left(n.value0)); if (n instanceof d.Right) return t.pure(u.Monad0().Applicative0())(new d.Right(p.map(e)(function (n) { return i.freeT(function (e) { return m(n) }) })(n.value0))); throw new Error("Failed pattern match at Control.Coroutine (line 79, column 5 - line 81, column 63): " + [n.constructor.name]) }) }; return i.freeT(function (n) { return m(new y.Tuple(s, v)) }) } } } } } } })(I)(v.functorIdentity)(n)(e)(function (n) { return function (e) { return function (t) { return n(e.value1)(t(e.value0)) } } }); var o } }, e.pullFrom = function (n) { return (e = I, function (n) { return function (r) { return function (o) { return function (c) { return function (l) { return function (f) { var s = function (l) { return u.runExceptT(a.bind(u.bindExceptT(o.Monad0()))(u.ExceptT(i.resume(e)(o)(l.value0)))(function (e) { return a.bind(u.bindExceptT(o.Monad0()))(u.ExceptT(i.resume(n)(o)(l.value1)))(function (n) { return t.pure(u.applicativeExceptT(o.Monad0()))(p.map(r)(function (n) { return i.freeT(function (e) { return s(n) }) })(c(y.Tuple.create)(e)(n))) }) })) }; return i.freeT(function (n) { return s(new y.Tuple(l, f)) }) } } } } } })(C)(v.functorIdentity)(n)(function (n) { return function (e) { return function (r) { return t.pure(v.applicativeIdentity)(n(e(r.value0))(r.value1)) } } }); var e }, e.functorEmit = C, e.functorAwait = I }(PS), function (n) { "use strict"; var e = function () { function n() { this.head = null, this.last = null, this.size = 0 } function e(e) { this.draining = !1, this.error = null, this.value = e, this.takes = new n, this.reads = new n, this.puts = new n } var t = {}; function r(n) { try { n() } catch (n) { setTimeout(function () { throw n }, 0) } } function a(n) { var e; switch (n.size) { case 0: return null; case 1: e = n.head, n.head = null; break; case 2: e = n.last, n.head.next = null, n.last = null; break; default: e = n.last, n.last = e.prev, n.last.next = null }return e.prev = null, e.queue = null, n.size--, e.value } function o(n) { var e; switch (n.size) { case 0: return null; case 1: e = n.head, n.head = null; break; case 2: e = n.head, n.last.prev = null, n.head = n.last, n.last = null; break; default: e = n.head, n.head = e.next, n.head.prev = null }return e.next = null, e.queue = null, n.size--, e.value } return e.EMPTY = t, e.putLast = function (n, e) { var t = new function (n, e) { this.queue = n, this.value = e, this.next = null, this.prev = null }(n, e); switch (n.size) { case 0: n.head = t; break; case 1: t.prev = n.head, n.head.next = t, n.last = t; break; default: t.prev = n.last, n.last.next = t, n.last = t }return n.size++, t }, e.takeLast = a, e.takeHead = o, e.deleteCell = function (n) { null !== n.queue && (n.queue.last !== n ? n.queue.head !== n ? (n.prev && (n.prev.next = n.next), n.next && (n.next.prev = n.prev), n.queue.size--, n.queue = null, n.value = null, n.next = null, n.prev = null) : o(n.queue) : a(n.queue)) }, e.drainVar = function (n, e) { if (!e.draining) { var a, u, i, c, l, f = e.puts, s = e.takes, d = e.reads; for (e.draining = !0; ;) { if (a = null, u = null, i = null, c = e.value, l = d.size, null !== e.error) { for (c = n.left(e.error); a = o(f);)r(a.cb(c)); for (; u = o(d);)r(u(c)); for (; i = o(s);)r(i(c)); break } if (c === t && (a = o(f)) && (e.value = c = a.value), c !== t) { for (i = o(s); l-- && (u = o(d));)r(u(n.right(c))); null !== i && (e.value = t, r(i(n.right(c)))) } if (null !== a && r(a.cb(n.right(void 0))), e.value === t && 0 === f.size || e.value !== t && 0 === s.size) break } e.draining = !1 } }, e }(); n.empty = function () { return new e(e.EMPTY) }, n._killVar = function (n, t, r) { return function () { null === r.error && (r.error = t, r.value = e.EMPTY, e.drainVar(n, r)) } }, n._putVar = function (n, t, r, a) { return function () { var o = e.putLast(r.puts, { cb: a, value: t }); return e.drainVar(n, r), function () { e.deleteCell(o) } } }, n._takeVar = function (n, t, r) { return function () { var a = e.putLast(t.takes, r); return e.drainVar(n, t), function () { e.deleteCell(a) } } } }(PS["Effect.AVar"] = PS["Effect.AVar"] || {}), function (n) { "use strict"; n["Effect.AVar"] = n["Effect.AVar"] || {}; var e = n["Effect.AVar"], t = n["Effect.AVar"], r = n["Data.Either"], a = n["Data.Maybe"], o = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), u = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), i = function () { function n() { } return n.value = new n, n }(), c = { left: r.Left.create, right: r.Right.create, nothing: a.Nothing.value, just: a.Just.create, killed: o.create, filled: u.create, empty: i.value }; e.take = function (n) { return function (e) { return t._takeVar(c, n, e) } }, e.put = function (n) { return function (e) { return function (r) { return t._putVar(c, n, e, r) } } }, e.kill = function (n) { return function (e) { return t._killVar(c, n, e) } }, e.empty = t.empty }(PS), function (n) { "use strict"; n["Effect.Aff.AVar"] = n["Effect.Aff.AVar"] || {}; var e = n["Effect.Aff.AVar"], t = n["Effect.AVar"], r = n["Effect.Aff"], a = n["Effect.Class"], o = a.liftEffect(r.monadEffectAff)(t.empty); e.empty = o, e.take = function (n) { return r.makeAff(function (e) { return function () { var a = t.take(n)(e)(); return r.effectCanceler(a) } }) }, e.put = function (n) { return function (e) { return r.makeAff(function (a) { return function () { var o = t.put(n)(e)(a)(); return r.effectCanceler(o) } }) } }, e.kill = function (n) { var e = a.liftEffect(r.monadEffectAff), o = t.kill(n); return function (n) { return e(o(n)) } } }(PS), function (n) { "use strict"; n["Control.Coroutine.Aff"] = n["Control.Coroutine.Aff"] || {}; var e = n["Control.Coroutine.Aff"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Coroutine"], o = n["Control.Monad.Free.Trans"], u = n["Control.Monad.Trans.Class"], i = n["Data.Either"], c = n["Data.Function"], l = n["Data.Functor"], f = n["Data.Unit"], s = n.Effect, d = n["Effect.Aff"], p = n["Effect.Aff.AVar"], v = n["Effect.Class"], m = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), g = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(); e.emit = function (n) { return function (e) { return n(m.create(e)) } }, e.close = function (n) { return function (e) { return n(g.create(e)) } }, e.produce = function (n) { return function (n) { return r.bind(o.bindFreeT(a.functorEmit)(d.monadAff))(u.lift(o.monadTransFreeT(a.functorEmit))(d.monadAff)(p.empty))(function (e) { return r.bind(o.bindFreeT(a.functorEmit)(d.monadAff))(u.lift(o.monadTransFreeT(a.functorEmit))(d.monadAff)(d.forkAff(n(c.flip(p.put)(e)))))(function () { return a.producer(d.monadAff)(l.mapFlipped(d.functorAff)(p.take(e))(function (n) { if (n instanceof m) return new i.Left(n.value0); if (n instanceof g) return new i.Right(n.value0); throw new Error("Failed pattern match at Control.Coroutine.Aff (line 77, column 30 - line 79, column 24): " + [n.constructor.name]) })) }) }) }(function (e) { return v.liftEffect(d.monadEffectAff)(n((r = l.void(s.functorEffect), a = d.runAff(c.const(t.pure(s.applicativeEffect)(f.unit))), function (n) { return r(a(e(n))) }))); var r, a }) } }(PS), function (n) { "use strict"; n["Control.Monad.Fork.Class"] = n["Control.Monad.Fork.Class"] || {}; var e = n["Control.Monad.Fork.Class"], t = n["Effect.Aff"], r = new function (n, e, t, r, a) { this.Functor1 = n, this.Monad0 = e, this.fork = t, this.join = r, this.suspend = a }(function () { return t.functorFiber }, function () { return t.monadAff }, t.forkAff, t.joinFiber, t.suspendAff); e.fork = function (n) { return n.fork }, e.monadForkAff = r }(PS), function (n) { "use strict"; n["Data.List"] = n["Data.List"] || {}; var e, t = n["Data.List"], r = n["Data.Foldable"], a = n["Data.Functor"], o = n["Data.List.Types"], u = n["Data.Maybe"], i = n["Data.Tuple"], c = n["Data.Unfoldable"], l = (e = o.Nil.value, function (n) { var t, r = e, a = !1; function u(e, t) { if (t instanceof o.Nil) return a = !0, e; if (t instanceof o.Cons) return r = new o.Cons(t.value0, e), void (n = t.value1); throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): " + [e.constructor.name, t.constructor.name]) } for (; !a;)t = u(r, n); return t }); t.toUnfoldable = function (n) { return c.unfoldr(n)(function (n) { return a.map(u.functorMaybe)(function (n) { return new i.Tuple(n.head, n.tail) })(function (n) { if (n instanceof o.Nil) return u.Nothing.value; if (n instanceof o.Cons) return new u.Just({ head: n.value0, tail: n.value1 }); throw new Error("Failed pattern match at Data.List (line 259, column 1 - line 259, column 66): " + [n.constructor.name]) }(n)) }) }, t.fromFoldable = function (n) { return r.foldr(n)(o.Cons.create)(o.Nil.value) }, t.singleton = function (n) { return new o.Cons(n, o.Nil.value) }, t.null = function (n) { return n instanceof o.Nil }, t.unsnoc = function (n) { var e; return a.map(u.functorMaybe)(function (n) { return { init: l(n.revInit), last: n.last } })((e = n, function (n) { var t, r = e, a = !1; function i(e, t) { if (e instanceof o.Nil) return a = !0, u.Nothing.value; if (e instanceof o.Cons && e.value1 instanceof o.Nil) return a = !0, new u.Just({ revInit: t, last: e.value0 }); if (e instanceof o.Cons) return r = e.value1, void (n = new o.Cons(e.value0, t)); throw new Error("Failed pattern match at Data.List (line 270, column 3 - line 270, column 23): " + [e.constructor.name, t.constructor.name]) } for (; !a;)t = i(r, n); return t })(o.Nil.value)) }, t.reverse = l }(PS), function (n) { "use strict"; n["Data.CatQueue"] = n["Data.CatQueue"] || {}; var e = n["Data.CatQueue"], t = n["Data.List"], r = n["Data.List.Types"], a = n["Data.Maybe"], o = n["Data.Tuple"], u = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), i = new u(r.Nil.value, r.Nil.value); e.empty = i, e.null = function (n) { return n.value0 instanceof r.Nil && n.value1 instanceof r.Nil }, e.snoc = function (n) { return function (e) { return new u(n.value0, new r.Cons(e, n.value1)) } }, e.uncons = function (n) { var e, i = !1; function c(e) { if (e.value0 instanceof r.Nil && e.value1 instanceof r.Nil) return i = !0, a.Nothing.value; if (!(e.value0 instanceof r.Nil)) { if (e.value0 instanceof r.Cons) return i = !0, new a.Just(new o.Tuple(e.value0.value0, new u(e.value0.value1, e.value1))); throw new Error("Failed pattern match at Data.CatQueue (line 83, column 1 - line 83, column 63): " + [e.constructor.name]) } n = new u(t.reverse(e.value1), r.Nil.value) } for (; !i;)e = c(n); return e } }(PS), function (n) { "use strict"; n["Data.CatList"] = n["Data.CatList"] || {}; var e = n["Data.CatList"], t = n["Data.CatQueue"], r = n["Data.List.Types"], a = n["Data.Maybe"], o = n["Data.Semigroup"], u = n["Data.Tuple"], i = function () { function n() { } return n.value = new n, n }(), c = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), l = function (n) { return function (e) { if (n instanceof i) return e; if (e instanceof i) return n; if (n instanceof c) return new c(n.value0, t.snoc(n.value1)(e)); throw new Error("Failed pattern match at Data.CatList (line 109, column 1 - line 109, column 54): " + [n.constructor.name, e.constructor.name]) } }, f = i.value, s = l, d = new o.Semigroup(s); e.empty = f, e.snoc = function (n) { return function (e) { return s(n)(new c(e, t.empty)) } }, e.uncons = function (n) { if (n instanceof i) return a.Nothing.value; if (n instanceof c) return new a.Just(new u.Tuple(n.value0, t.null(n.value1) ? i.value : (e = l, function (n) { return function (o) { var u, i = function (n) { return function (e) { return function (t) { var a, o = n, u = e, i = !1; function c(n, e, a) { if (a instanceof r.Nil) return i = !0, e; if (a instanceof r.Cons) return o = n, u = n(e)(a.value0), void (t = a.value1); throw new Error("Failed pattern match at Data.CatList (line 125, column 3 - line 125, column 59): " + [n.constructor.name, e.constructor.name, a.constructor.name]) } for (; !i;)a = c(o, u, t); return a } } }; return (u = o, function (o) { var c, l = u, f = !1; function s(u, c) { var s = t.uncons(u); if (s instanceof a.Nothing) return f = !0, i(function (n) { return function (e) { return e(n) } })(n)(c); if (s instanceof a.Just) return l = s.value0.value1, void (o = new r.Cons(e(s.value0.value0), c)); throw new Error("Failed pattern match at Data.CatList (line 121, column 14 - line 123, column 67): " + [s.constructor.name]) } for (; !f;)c = s(l, o); return c })(r.Nil.value) } })(i.value)(n.value1))); var e; throw new Error("Failed pattern match at Data.CatList (line 100, column 1 - line 100, column 61): " + [n.constructor.name]) }, e.semigroupCatList = d }(PS), function (n) { "use strict"; n["Control.Monad.Free"] = n["Control.Monad.Free"] || {}; var e = n["Control.Monad.Free"], t = n["Control.Applicative"], r = n["Control.Apply"], a = n["Control.Bind"], o = n["Control.Monad"], u = n["Control.Monad.Rec.Class"], i = n["Data.CatList"], c = n["Data.Functor"], l = n["Data.Maybe"], f = n["Data.Semigroup"], s = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), d = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), p = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), v = function (n) { var e, t = !1; function r(e) { var r = function (n) { return function (e) { return new s(n.value0, f.append(i.semigroupCatList)(n.value1)(e)) } }; if (e.value0 instanceof d) { var a = i.uncons(e.value1); if (a instanceof l.Nothing) return t = !0, new d(e.value0.value0); if (a instanceof l.Just) return void (n = r(function (n) { return n }(a.value0.value0)(e.value0.value0))(a.value0.value1)); throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): " + [a.constructor.name]) } if (e.value0 instanceof p) return t = !0, new p(e.value0.value0, function (n) { return r(e.value0.value1(n))(e.value1) }); throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): " + [e.value0.constructor.name]) } for (; !t;)e = r(n); return e }, m = function (n) { return new s(n, i.empty) }, g = new o.Monad(function () { return b }, function () { return y }), w = new c.Functor(function (n) { return function (e) { return a.bindFlipped(y)((r = t.pure(b), function (e) { return r(n(e)) }))(e); var r } }), y = new a.Bind(function () { return h }, function (n) { return function (e) { return new s(n.value0, i.snoc(n.value1)(e)) } }), h = new r.Apply(function () { return w }, o.ap(g)), b = new t.Applicative(function () { return h }, function (n) { return m(d.create(n)) }), M = function (n) { return m(new p(n, (e = t.pure(b), function (n) { return e(n) }))); var e }; e.liftF = M, e.hoistFree = function (n) { return function (n) { var e = function (r) { var o = v(r); if (o instanceof d) return t.pure(b)(o.value0); if (o instanceof p) return a.bind(y)(n(o.value0))(c.map(c.functorFn)(e)(o.value1)); throw new Error("Failed pattern match at Control.Monad.Free (line 168, column 10 - line 170, column 33): " + [o.constructor.name]) }; return e }(function (e) { return M(n(e)) }) }, e.foldFree = function (n) { return function (e) { return u.tailRecM(n)(function (r) { var a = v(r); if (a instanceof d) return c.map(n.Monad0().Bind1().Apply0().Functor0())(u.Done.create)(t.pure(n.Monad0().Applicative0())(a.value0)); if (a instanceof p) return c.map(n.Monad0().Bind1().Apply0().Functor0())(function (n) { return u.Loop.create(a.value1(n)) })(e(a.value0)); throw new Error("Failed pattern match at Control.Monad.Free (line 158, column 10 - line 160, column 37): " + [a.constructor.name]) }) } }, e.freeFunctor = w, e.freeBind = y, e.freeApplicative = b, e.freeMonad = g }(PS), function (n) { "use strict"; n["Control.Monad.Reader.Class"] = n["Control.Monad.Reader.Class"] || {}; var e = n["Control.Monad.Reader.Class"], t = n["Data.Functor"], r = function (n) { return n.ask }; e.ask = r, e.MonadAsk = function (n, e) { this.Monad0 = n, this.ask = e }, e.asks = function (n) { return function (e) { return t.map(n.Monad0().Bind1().Apply0().Functor0())(e)(r(n)) } } }(PS), function (n) { "use strict"; n["Control.Monad.Reader.Trans"] = n["Control.Monad.Reader.Trans"] || {}; var e = n["Control.Monad.Reader.Trans"], t = n["Control.Applicative"], r = n["Control.Apply"], a = n["Control.Bind"], o = n["Control.Monad"], u = n["Control.Monad.Reader.Class"], i = n["Control.Monad.Trans.Class"], c = n["Data.Function"], l = n["Data.Functor"], f = n["Effect.Class"], s = function (n) { return n }, d = new i.MonadTrans(function (n) { return function (n) { return s(c.const(n)) } }), p = function (n) { return new r.Apply(function () { return e = n.Functor0(), new l.Functor((t = l.map(e), function (n) { return e = t(n), function (n) { return function (t) { return e(n(t)) } }; var e })); var e, t }, function (e) { return function (t) { return function (a) { return r.apply(n)(e(a))(t(a)) } } }) }, v = function (n) { return new a.Bind(function () { return p(n.Apply0()) }, function (e) { return function (t) { return function (r) { return a.bind(n)(e(r))(function (n) { return t(n)(r) }) } } }) }, m = function (n) { return new o.Monad(function () { return e = n.Applicative0(), new t.Applicative(function () { return p(e.Apply0()) }, (r = t.pure(e), function (n) { return s(c.const(r(n))) })); var e, r }, function () { return v(n.Bind1()) }) }; e.runReaderT = function (n) { return n }, e.bindReaderT = v, e.monadReaderT = m, e.monadTransReaderT = d, e.monadEffectReader = function (n) { return new f.MonadEffect(function () { return m(n.Monad0()) }, (e = i.lift(d)(n.Monad0()), t = f.liftEffect(n), function (n) { return e(t(n)) })); var e, t }, e.monadAskReaderT = function (n) { return new u.MonadAsk(function () { return m(n) }, t.pure(n.Applicative0())) } }(PS), function (n) { "use strict"; n["Control.Monad.State.Class"] = n["Control.Monad.State.Class"] || {}; var e = n["Control.Monad.State.Class"], t = n["Data.Tuple"], r = n["Data.Unit"], a = function (n) { return n.state }; e.MonadState = function (n, e) { this.Monad0 = n, this.state = e }, e.get = function (n) { return a(n)(function (n) { return new t.Tuple(n, n) }) }, e.gets = function (n) { return function (e) { return a(n)(function (n) { return new t.Tuple(e(n), n) }) } }, e.put = function (n) { return function (e) { return a(n)(function (n) { return new t.Tuple(r.unit, e) }) } }, e.modify = function (n) { return function (e) { return a(n)(function (n) { var r = e(n); return new t.Tuple(r, r) }) } }, e.modify_ = function (n) { return function (e) { return a(n)(function (n) { return new t.Tuple(r.unit, e(n)) }) } } }(PS), (PS["Control.Promise"] = PS["Control.Promise"] || {}).thenImpl = function (n) { return function (e) { return function (t) { return function () { n.then(t, e) } } } }, function (n) { "use strict"; n.error = function (n) { return new Error(n) }, n.message = function (n) { return n.message }, n.throwException = function (n) { return function () { throw n } }, n.catchException = function (n) { return function (e) { return function () { try { return e() } catch (e) { return e instanceof Error || "[object Error]" === Object.prototype.toString.call(e) ? n(e)() : n(new Error(e.toString()))() } } } } }(PS["Effect.Exception"] = PS["Effect.Exception"] || {}), function (n) { "use strict"; n["Effect.Exception"] = n["Effect.Exception"] || {}; var e = n["Effect.Exception"], t = n["Effect.Exception"], r = n["Control.Applicative"], a = n["Data.Either"], o = n["Data.Functor"], u = n.Effect; e.throw = function (n) { return t.throwException(t.error(n)) }, e.try = function (n) { return t.catchException((e = r.pure(u.applicativeEffect), function (n) { return e(a.Left.create(n)) }))(o.map(u.functorEffect)(a.Right.create)(n)); var e }, e.error = t.error, e.message = t.message, e.throwException = t.throwException }(PS), function (n) { "use strict"; n["Control.Promise"] = n["Control.Promise"] || {}; var e, t = n["Control.Promise"], r = n["Control.Promise"], a = n["Control.Alt"], o = n["Control.Category"], u = n["Control.Monad.Except"], i = n["Control.Monad.Except.Trans"], c = n["Data.Either"], l = n["Data.Functor"], f = n["Data.Identity"], s = n["Data.List.Types"], d = n["Data.Monoid"], p = n.Effect, v = n["Effect.Aff"], m = n["Effect.Exception"], g = n.Foreign, w = (e = function (n) { return c.either(function (n) { return m.error("Promise failed, couldn't extract JS Error or String") })(o.identity(o.categoryFn))(u.runExcept(a.alt(i.altExceptT(s.semigroupNonEmptyList)(f.monadIdentity))(g.unsafeReadTagged("Error")(n))(l.map(i.functorExceptT(f.functorIdentity))(m.error)(g.readString(n))))) }, function (n) { return v.makeAff(function (t) { return l.voidRight(p.functorEffect)(d.mempty(v.monoidCanceler))(r.thenImpl(n)(function (n) { return t(c.Left.create(e(n)))() })(function (n) { return t(c.Right.create(n))() })) }) }); t.toAff = w }(PS), function (n) { "use strict"; n["DOM.HTML.Indexed.InputAcceptType"] = n["DOM.HTML.Indexed.InputAcceptType"] || {}; var e = n["DOM.HTML.Indexed.InputAcceptType"], t = n["Data.Functor"], r = n["Data.String.Common"], a = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), o = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), u = function (n) { if (n instanceof a) return n.value0; if (n instanceof o) return n.value0; throw new Error("Failed pattern match at DOM.HTML.Indexed.InputAcceptType (line 28, column 29 - line 30, column 33): " + [n.constructor.name]) }; e.mediaType = function (n) { return [new a(n)] }, e.renderInputAcceptType = function (n) { return r.joinWith(",")(t.map(t.functorArray)(u)(n)) } }(PS), function (n) { "use strict"; n["DOM.HTML.Indexed.InputType"] = n["DOM.HTML.Indexed.InputType"] || {}; var e = n["DOM.HTML.Indexed.InputType"], t = function () { function n() { } return n.value = new n, n }(), r = function () { function n() { } return n.value = new n, n }(), a = function () { function n() { } return n.value = new n, n }(), o = function () { function n() { } return n.value = new n, n }(), u = function () { function n() { } return n.value = new n, n }(), i = function () { function n() { } return n.value = new n, n }(), c = function () { function n() { } return n.value = new n, n }(), l = function () { function n() { } return n.value = new n, n }(), f = function () { function n() { } return n.value = new n, n }(), s = function () { function n() { } return n.value = new n, n }(), d = function () { function n() { } return n.value = new n, n }(), p = function () { function n() { } return n.value = new n, n }(), v = function () { function n() { } return n.value = new n, n }(), m = function () { function n() { } return n.value = new n, n }(), g = function () { function n() { } return n.value = new n, n }(), w = function () { function n() { } return n.value = new n, n }(), y = function () { function n() { } return n.value = new n, n }(), h = function () { function n() { } return n.value = new n, n }(), b = function () { function n() { } return n.value = new n, n }(), M = function () { function n() { } return n.value = new n, n }(), S = function () { function n() { } return n.value = new n, n }(), I = function () { function n() { } return n.value = new n, n }(); e.InputCheckbox = r, e.InputEmail = i, e.InputFile = c, e.InputPassword = p, e.InputText = b, e.renderInputType = function (n) { if (n instanceof t) return "button"; if (n instanceof r) return "checkbox"; if (n instanceof a) return "color"; if (n instanceof o) return "date"; if (n instanceof u) return "datetime-local"; if (n instanceof i) return "email"; if (n instanceof c) return "file"; if (n instanceof l) return "hidden"; if (n instanceof f) return "image"; if (n instanceof s) return "month"; if (n instanceof d) return "number"; if (n instanceof p) return "password"; if (n instanceof v) return "radio"; if (n instanceof m) return "range"; if (n instanceof g) return "reset"; if (n instanceof w) return "search"; if (n instanceof y) return "submit"; if (n instanceof h) return "tel"; if (n instanceof b) return "text"; if (n instanceof M) return "time"; if (n instanceof S) return "url"; if (n instanceof I) return "week"; throw new Error("Failed pattern match at DOM.HTML.Indexed.InputType (line 28, column 19 - line 50, column 22): " + [n.constructor.name]) } }(PS), function (n) { "use strict"; n.fromNumberImpl = function (n) { return function (e) { return function (t) { return (0 | t) === t ? n(t) : e } } }, n.toNumber = function (n) { return n }, n.fromStringAsImpl = function (n) { return function (e) { return function (t) { var r; r = t < 11 ? "[0-" + (t - 1).toString() + "]" : 11 === t ? "[0-9a]" : "[0-9a-" + String.fromCharCode(86 + t) + "]"; var a = new RegExp("^[\\+\\-]?" + r + "+$", "i"); return function (r) { if (a.test(r)) { var o = parseInt(r, t); return (0 | o) === o ? n(o) : e } return e } } } } }(PS["Data.Int"] = PS["Data.Int"] || {}), function (n) { "use strict"; n.topInt = 2147483647, n.bottomInt = -2147483648, n.topChar = String.fromCharCode(65535), n.bottomChar = String.fromCharCode(0) }(PS["Data.Bounded"] = PS["Data.Bounded"] || {}), function (n) { "use strict"; n["Data.Bounded"] = n["Data.Bounded"] || {}; var e = n["Data.Bounded"], t = n["Data.Bounded"], r = n["Data.Ord"], a = function (n, e, t) { this.Ord0 = n, this.bottom = e, this.top = t }, o = new a(function () { return r.ordInt }, t.bottomInt, t.topInt), u = new a(function () { return r.ordChar }, t.bottomChar, t.topChar); e.Bounded = a, e.bottom = function (n) { return n.bottom }, e.top = function (n) { return n.top }, e.boundedInt = o, e.boundedChar = u }(PS), function (n) { "use strict"; n.floor = Math.floor }(PS.Math = PS.Math || {}), function (n) { "use strict"; n.Math = n.Math || {}; var e = n.Math, t = n.Math; e.floor = t.floor }(PS), function (n) { "use strict"; n["Data.Int"] = n["Data.Int"] || {}; var e = n["Data.Int"], t = n["Data.Int"], r = n["Data.Boolean"], a = n["Data.Bounded"], o = n["Data.Maybe"], u = n.Global, i = n.Math, c = t.fromStringAsImpl(o.Just.create)(o.Nothing.value)(10), l = t.fromNumberImpl(o.Just.create)(o.Nothing.value); e.fromNumber = l, e.floor = function (n) { return function (n) { if (n === u.infinity) return 0; if (n === -u.infinity) return 0; if (n >= t.toNumber(a.top(a.boundedInt))) return a.top(a.boundedInt); if (n <= t.toNumber(a.bottom(a.boundedInt))) return a.bottom(a.boundedInt); if (r.otherwise) return o.fromMaybe(0)(l(n)); throw new Error("Failed pattern match at Data.Int (line 66, column 1 - line 66, column 29): " + [n.constructor.name]) }(i.floor(n)) }, e.fromString = c, e.toNumber = t.toNumber }(PS), function (n) { "use strict"; n.Record = n.Record || {}; var e = n.Record, t = n["Data.Symbol"], r = n["Record.Unsafe"]; e.get = function (n) { return function (e) { return function (e) { return function (a) { return r.unsafeGet(t.reflectSymbol(n)(e))(a) } } } }, e.insert = function (n) { return function (e) { return function (e) { return function (e) { return function (a) { return function (o) { return r.unsafeSet(t.reflectSymbol(n)(e))(a)(o) } } } } } } }(PS), function (n) { "use strict"; n["Data.Argonaut.Decode.Class"] = n["Data.Argonaut.Decode.Class"] || {}; var e, t, r, a = n["Data.Argonaut.Decode.Class"], o = n["Control.Bind"], u = n["Data.Argonaut.Core"], i = n["Data.Bifunctor"], c = n["Data.Either"], l = n["Data.Int"], f = n["Data.Maybe"], s = n["Data.Show"], d = n["Data.Symbol"], p = n["Data.Traversable"], v = n["Data.TraversableWithIndex"], m = n["Foreign.Object"], g = n.Record, w = n["Type.Data.RowList"], y = function (n) { this.gDecodeJson = n }, h = function (n) { this.decodeJson = n }, b = new y(function (n) { return function (n) { return new c.Right({}) } }), M = function (n) { return n.gDecodeJson }, S = new h(u.caseJsonString(new c.Left("Value is not a String"))(c.Right.create)), I = new h(u.caseJsonNumber(new c.Left("Value is not a Number"))(c.Right.create)), E = new h(c.Right.create), C = new h(u.caseJsonBoolean(new c.Left("Value is not a Boolean"))(c.Right.create)), H = function (n) { return n.decodeJson }, D = new h(o.composeKleisliFlipped(c.bindEither)((e = f.maybe(new c.Left("Value is not an integer"))(c.Right.create), function (n) { return e(l.fromNumber(n)) }))(H(I))), A = (t = f.maybe(new c.Left("Value is not an Object"))(c.Right.create), function (n) { return t(u.toObject(n)) }), k = (r = f.maybe(new c.Left("Value is not an Array"))(c.Right.create), function (n) { return r(u.toArray(n)) }); a.decodeJson = H, a.decodeJsonBoolean = C, a.decodeJsonInt = D, a.decodeJsonString = S, a.decodeJsonJson = E, a.decodeForeignObject = function (n) { return new h((e = i.lmap(c.bifunctorEither)(function (n) { return "Couldn't decode ForeignObject: " + n }), t = o.composeKleisliFlipped(c.bindEither)(p.traverse(m.traversableObject)(c.applicativeEither)(H(n)))(A), function (n) { return e(t(n)) })); var e, t }, a.decodeArray = function (n) { return new h((e = i.lmap(c.bifunctorEither)(function (n) { return "Couldn't decode Array (" + n }), t = o.composeKleisliFlipped(c.bindEither)(v.traverseWithIndex(v.traversableWithIndexArray)(c.applicativeEither)(function (e) { var t = i.lmap(c.bifunctorEither)(function (n) { return function (e) { return "Failed at index " + s.show(s.showInt)(n) + "): " + e } }(e)), r = H(n); return function (n) { return t(r(n)) } }))(k), function (n) { return e(t(n)) })); var e, t }, a.decodeRecord = function (n) { return function (e) { return new h(function (e) { var t = u.toObject(e); if (t instanceof f.Just) return M(n)(t.value0)(w.RLProxy.value); if (t instanceof f.Nothing) return new c.Left("Could not convert JSON to object"); throw new Error("Failed pattern match at Data.Argonaut.Decode.Class (line 128, column 5 - line 130, column 61): " + [t.constructor.name]) }) } }, a.gDecodeJsonNil = b, a.gDecodeJsonCons = function (n) { return function (e) { return function (t) { return function (r) { return function (r) { return new y(function (r) { return function (a) { var u = d.reflectSymbol(t)(d.SProxy.value); return o.bind(c.bindEither)(M(e)(r)(w.RLProxy.value))(function (e) { var a = m.lookup(u)(r); if (a instanceof f.Just) return o.bind(c.bindEither)(H(n)(a.value0))(function (n) { return c.Right.create(g.insert(t)()()(d.SProxy.value)(n)(e)) }); if (a instanceof f.Nothing) return c.Left.create("JSON was missing expected field: " + u); throw new Error("Failed pattern match at Data.Argonaut.Decode.Class (line 155, column 5 - line 161, column 64): " + [a.constructor.name]) }) } }) } } } } } }(PS), function (n) { "use strict"; n["Data.Argonaut.Decode.Combinators"] = n["Data.Argonaut.Decode.Combinators"] || {}; var e = n["Data.Argonaut.Decode.Combinators"], t = n["Data.Argonaut.Decode.Class"], r = n["Data.Bifunctor"], a = n["Data.Either"], o = n["Data.Maybe"], u = n["Data.Show"], i = n["Foreign.Object"]; e.getField = function (n) { return function (e) { return function (c) { return o.maybe(a.Left.create("Expected field " + u.show(u.showString)(c)))((l = function (n) { return function (e) { return r.lmap(a.bifunctorEither)(function (e) { return "Failed to decode key '" + n + "': " + e })(e) } }(c), f = t.decodeJson(n), function (n) { return l(f(n)) }))(i.lookup(c)(e)); var l, f } } } }(PS), function (n) { "use strict"; n["Data.Argonaut.Encode.Class"] = n["Data.Argonaut.Encode.Class"] || {}; var e = n["Data.Argonaut.Encode.Class"], t = n["Control.Category"], r = n["Data.Argonaut.Core"], a = n["Data.Functor"], o = n["Data.Int"], u = n["Data.Maybe"], i = n["Data.Symbol"], c = n["Foreign.Object"], l = n.Record, f = n["Type.Data.RowList"], s = function (n) { this.gEncodeJson = n }, d = function (n) { this.encodeJson = n }, p = new s(function (n) { return function (n) { return c.empty } }), v = function (n) { return n.gEncodeJson }, m = new d(t.identity(t.categoryFn)), g = new d(r.fromString), w = new d(r.fromBoolean), y = new d(function (n) { return r.fromNumber(o.toNumber(n)) }), h = function (n) { return n.encodeJson }; e.encodeJson = h, e.encodeJsonMaybe = function (n) { return new d(function (e) { if (e instanceof u.Nothing) return r.jsonNull; if (e instanceof u.Just) return h(n)(e.value0); throw new Error("Failed pattern match at Data.Argonaut.Encode.Class (line 29, column 1 - line 31, column 37): " + [e.constructor.name]) }) }, e.encodeJsonJBoolean = w, e.encodeJsonInt = y, e.encodeJsonJString = g, e.encodeJsonJson = m, e.encodeJsonArray = function (n) { return new d(function (e) { return r.fromArray(a.map(a.functorArray)(h(n))(e)) }) }, e.encodeForeignObject = function (n) { return new d((e = a.map(c.functorObject)(h(n)), function (n) { return r.fromObject(e(n)) })); var e }, e.encodeRecord = function (n) { return function (e) { return new d(function (e) { return r.fromObject(v(n)(e)(f.RLProxy.value)) }) } }, e.gEncodeJsonNil = p, e.gEncodeJsonCons = function (n) { return function (e) { return function (t) { return function (r) { return new s(function (r) { return function (a) { return c.insert(i.reflectSymbol(t)(i.SProxy.value))(h(n)(l.get(t)()(i.SProxy.value)(r)))(v(e)(r)(f.RLProxy.value)) } }) } } } } }(PS), function (n) { "use strict"; n.intSub = function (n) { return function (e) { return n - e | 0 } } }(PS["Data.Ring"] = PS["Data.Ring"] || {}), function (n) { "use strict"; n.intAdd = function (n) { return function (e) { return n + e | 0 } }, n.intMul = function (n) { return function (e) { return n * e | 0 } } }(PS["Data.Semiring"] = PS["Data.Semiring"] || {}), function (n) { "use strict"; n["Data.Semiring"] = n["Data.Semiring"] || {}; var e = n["Data.Semiring"], t = n["Data.Semiring"], r = function (n, e, t, r) { this.add = n, this.mul = e, this.one = t, this.zero = r }, a = new r(t.intAdd, t.intMul, 1, 0); e.Semiring = r, e.add = function (n) { return n.add }, e.mul = function (n) { return n.mul }, e.one = function (n) { return n.one }, e.semiringInt = a }(PS), function (n) { "use strict"; n["Data.Ring"] = n["Data.Ring"] || {}; var e = n["Data.Ring"], t = n["Data.Ring"], r = n["Data.Semiring"], a = new function (n, e) { this.Semiring0 = n, this.sub = e }(function () { return r.semiringInt }, t.intSub); e.ringInt = a }(PS), function (n) { "use strict"; n["Data.CommutativeRing"] = n["Data.CommutativeRing"] || {}; var e = n["Data.CommutativeRing"], t = n["Data.Ring"], r = new function (n) { this.Ring0 = n }(function () { return t.ringInt }); e.commutativeRingInt = r }(PS), function (n) { "use strict"; n["Data.Coyoneda"] = n["Data.Coyoneda"] || {}; var e = n["Data.Coyoneda"], t = n["Control.Category"], r = n["Data.Exists"], a = n["Data.Functor"], o = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), u = function (n) { return function (e) { return r.mkExists(new o(n, e)) } }, i = new a.Functor(function (n) { return function (e) { return r.runExists(function (e) { return u(function (t) { return n(e.value0(t)) })(e.value1) })(e) } }), c = u(t.identity(t.categoryFn)); e.unCoyoneda = function (n) { return function (e) { return r.runExists(function (e) { return n(e.value0)(e.value1) })(e) } }, e.liftCoyoneda = c, e.functorCoyoneda = i }(PS), function (n) { "use strict"; n.canonicalDateImpl = function (n, e, t, r) { var a = function (n, e, t) { var r = new Date(Date.UTC(n, e, t)); return n >= 0 && n < 100 && r.setUTCFullYear(n), r }(e, t - 1, r); return n(a.getUTCFullYear())(a.getUTCMonth() + 1)(a.getUTCDate()) } }(PS["Data.Date"] = PS["Data.Date"] || {}), function (n) { "use strict"; n.toCharCode = function (n) { return n.charCodeAt(0) }, n.fromCharCode = function (n) { return String.fromCharCode(n) } }(PS["Data.Enum"] = PS["Data.Enum"] || {}), function (n) { "use strict"; n["Data.Enum"] = n["Data.Enum"] || {}; var e, t = n["Data.Enum"], r = n["Data.Enum"], a = n["Data.Bounded"], o = n["Data.Maybe"], u = n["Data.Ord"], i = function (n, e, t) { this.Ord0 = n, this.pred = e, this.succ = t }, c = function (n, e, t, r, a) { this.Bounded0 = n, this.Enum1 = e, this.cardinality = t, this.fromEnum = r, this.toEnum = a }, l = function (n) { return n.toEnum }, f = function (n) { return n.fromEnum }, s = function (n) { return n >= a.bottom(a.boundedInt) && n <= a.top(a.boundedInt) ? new o.Just(r.fromCharCode(n)) : o.Nothing.value }, d = new i(function () { return u.ordChar }, (e = s, function (n) { return function (t) { return e(n(t) - 1 | 0) } })(r.toCharCode), function (n) { return function (e) { return function (t) { return n(e(t) + 1 | 0) } } }(s)(r.toCharCode)), p = new c(function () { return a.boundedChar }, function () { return d }, r.toCharCode(a.top(a.boundedChar)) - r.toCharCode(a.bottom(a.boundedChar)) | 0, r.toCharCode, s); t.Enum = i, t.BoundedEnum = c, t.toEnum = l, t.fromEnum = f, t.toEnumWithDefaults = function (n) { return function (e) { return function (t) { return function (r) { var u = l(n)(r); if (u instanceof o.Just) return u.value0; if (u instanceof o.Nothing) return r < f(n)(a.bottom(n.Bounded0())) ? e : t; throw new Error("Failed pattern match at Data.Enum (line 158, column 33 - line 160, column 62): " + [u.constructor.name]) } } } }, t.boundedEnumChar = p }(PS), function (n) { "use strict"; n["Data.Date.Component"] = n["Data.Date.Component"] || {}; var e, t, r, a, o, u, i, c, l, f, s, d, p = n["Data.Date.Component"], v = n["Data.Boolean"], m = n["Data.Bounded"], g = n["Data.Enum"], w = n["Data.Eq"], y = n["Data.Maybe"], h = n["Data.Ord"], b = n["Data.Ordering"], M = function () { function n() { } return n.value = new n, n }(), S = function () { function n() { } return n.value = new n, n }(), I = function () { function n() { } return n.value = new n, n }(), E = function () { function n() { } return n.value = new n, n }(), C = function () { function n() { } return n.value = new n, n }(), H = function () { function n() { } return n.value = new n, n }(), D = function () { function n() { } return n.value = new n, n }(), A = function () { function n() { } return n.value = new n, n }(), k = function () { function n() { } return n.value = new n, n }(), F = function () { function n() { } return n.value = new n, n }(), P = function () { function n() { } return n.value = new n, n }(), T = function () { function n() { } return n.value = new n, n }(), N = h.ordInt, L = h.ordInt, x = new w.Eq(function (n) { return function (e) { return n instanceof M && e instanceof M || (n instanceof S && e instanceof S || (n instanceof I && e instanceof I || (n instanceof E && e instanceof E || (n instanceof C && e instanceof C || (n instanceof H && e instanceof H || (n instanceof D && e instanceof D || (n instanceof A && e instanceof A || (n instanceof k && e instanceof k || (n instanceof F && e instanceof F || (n instanceof P && e instanceof P || n instanceof T && e instanceof T)))))))))) } }), U = new h.Ord(function () { return x }, function (n) { return function (e) { if (n instanceof M && e instanceof M) return b.EQ.value; if (n instanceof M) return b.LT.value; if (e instanceof M) return b.GT.value; if (n instanceof S && e instanceof S) return b.EQ.value; if (n instanceof S) return b.LT.value; if (e instanceof S) return b.GT.value; if (n instanceof I && e instanceof I) return b.EQ.value; if (n instanceof I) return b.LT.value; if (e instanceof I) return b.GT.value; if (n instanceof E && e instanceof E) return b.EQ.value; if (n instanceof E) return b.LT.value; if (e instanceof E) return b.GT.value; if (n instanceof C && e instanceof C) return b.EQ.value; if (n instanceof C) return b.LT.value; if (e instanceof C) return b.GT.value; if (n instanceof H && e instanceof H) return b.EQ.value; if (n instanceof H) return b.LT.value; if (e instanceof H) return b.GT.value; if (n instanceof D && e instanceof D) return b.EQ.value; if (n instanceof D) return b.LT.value; if (e instanceof D) return b.GT.value; if (n instanceof A && e instanceof A) return b.EQ.value; if (n instanceof A) return b.LT.value; if (e instanceof A) return b.GT.value; if (n instanceof k && e instanceof k) return b.EQ.value; if (n instanceof k) return b.LT.value; if (e instanceof k) return b.GT.value; if (n instanceof F && e instanceof F) return b.EQ.value; if (n instanceof F) return b.LT.value; if (e instanceof F) return b.GT.value; if (n instanceof P && e instanceof P) return b.EQ.value; if (n instanceof P) return b.LT.value; if (e instanceof P) return b.GT.value; if (n instanceof T && e instanceof T) return b.EQ.value; throw new Error("Failed pattern match at Data.Date.Component (line 61, column 1 - line 61, column 38): " + [n.constructor.name, e.constructor.name]) } }), J = new m.Bounded(function () { return N }, -271820, 275759), O = new m.Bounded(function () { return U }, M.value, T.value), R = new g.BoundedEnum(function () { return J }, function () { return _ }, 547580, function (n) { return n }, function (n) { if (n >= -271820 && n <= 275759) return new y.Just(n); if (v.otherwise) return y.Nothing.value; throw new Error("Failed pattern match at Data.Date.Component (line 35, column 1 - line 40, column 24): " + [n.constructor.name]) }), _ = new g.Enum(function () { return N }, (r = g.toEnum(R), a = g.fromEnum(R), function (n) { return r(a(n) - 1 | 0) }), (e = g.toEnum(R), t = g.fromEnum(R), function (n) { return e(t(n) + 1 | 0) })), q = new g.BoundedEnum(function () { return O }, function () { return W }, 12, function (n) { if (n instanceof M) return 1; if (n instanceof S) return 2; if (n instanceof I) return 3; if (n instanceof E) return 4; if (n instanceof C) return 5; if (n instanceof H) return 6; if (n instanceof D) return 7; if (n instanceof A) return 8; if (n instanceof k) return 9; if (n instanceof F) return 10; if (n instanceof P) return 11; if (n instanceof T) return 12; throw new Error("Failed pattern match at Data.Date.Component (line 87, column 14 - line 99, column 19): " + [n.constructor.name]) }, function (n) { return 1 === n ? new y.Just(M.value) : 2 === n ? new y.Just(S.value) : 3 === n ? new y.Just(I.value) : 4 === n ? new y.Just(E.value) : 5 === n ? new y.Just(C.value) : 6 === n ? new y.Just(H.value) : 7 === n ? new y.Just(D.value) : 8 === n ? new y.Just(A.value) : 9 === n ? new y.Just(k.value) : 10 === n ? new y.Just(F.value) : 11 === n ? new y.Just(P.value) : 12 === n ? new y.Just(T.value) : y.Nothing.value }), W = new g.Enum(function () { return U }, (i = g.toEnum(q), c = g.fromEnum(q), function (n) { return i(c(n) - 1 | 0) }), (o = g.toEnum(q), u = g.fromEnum(q), function (n) { return o(u(n) + 1 | 0) })), B = new m.Bounded(function () { return L }, 1, 31), Q = new g.BoundedEnum(function () { return B }, function () { return z }, 31, function (n) { return n }, function (n) { if (n >= 1 && n <= 31) return new y.Just(n); if (v.otherwise) return y.Nothing.value; throw new Error("Failed pattern match at Data.Date.Component (line 133, column 1 - line 138, column 23): " + [n.constructor.name]) }), z = new g.Enum(function () { return L }, (s = g.toEnum(Q), d = g.fromEnum(Q), function (n) { return s(d(n) - 1 | 0) }), (l = g.toEnum(Q), f = g.fromEnum(Q), function (n) { return l(f(n) + 1 | 0) })); p.boundedEnumYear = R, p.boundedEnumMonth = q, p.boundedEnumDay = Q }(PS), function (n) { "use strict"; n["Data.Date"] = n["Data.Date"] || {}; var e = n["Data.Date"], t = n["Data.Date"], r = n["Data.Date.Component"], a = n["Data.Enum"], o = n["Data.Maybe"], u = function () { function n(n, e, t) { this.value0 = n, this.value1 = e, this.value2 = t } return n.create = function (e) { return function (t) { return function (r) { return new n(e, t, r) } } }, n }(); e.canonicalDate = function (n) { return function (e) { return function (i) { return t.canonicalDateImpl(function (n) { return function (e) { return function (t) { return new u(n, o.fromJust()(a.toEnum(r.boundedEnumMonth)(e)), t) } } }, n, a.fromEnum(r.boundedEnumMonth)(e), i) } } }, e.year = function (n) { return n.value0 }, e.month = function (n) { return n.value1 }, e.day = function (n) { return n.value2 } }(PS), function (n) { "use strict"; n["Data.DateTime"] = n["Data.DateTime"] || {}; var e = n["Data.DateTime"], t = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(); e.DateTime = t, e.date = function (n) { return n.value0 }, e.time = function (n) { return n.value1 } }(PS), function (n) { "use strict"; n.toDateTimeImpl = function (n) { return function (e) { var t = new Date(e); return n(t.getUTCFullYear())(t.getUTCMonth() + 1)(t.getUTCDate())(t.getUTCHours())(t.getUTCMinutes())(t.getUTCSeconds())(t.getUTCMilliseconds()) } } }(PS["Data.DateTime.Instant"] = PS["Data.DateTime.Instant"] || {}), function (n) { "use strict"; n["Data.Time"] = n["Data.Time"] || {}; var e = n["Data.Time"], t = function () { function n(n, e, t, r) { this.value0 = n, this.value1 = e, this.value2 = t, this.value3 = r } return n.create = function (e) { return function (t) { return function (r) { return function (a) { return new n(e, t, r, a) } } } }, n }(); e.Time = t, e.hour = function (n) { return n.value0 }, e.minute = function (n) { return n.value1 } }(PS), function (n) { "use strict"; n["Data.DateTime.Instant"] = n["Data.DateTime.Instant"] || {}; var e = n["Data.DateTime.Instant"], t = n["Data.DateTime.Instant"], r = n["Data.Boolean"], a = n["Data.Date"], o = n["Data.Date.Component"], u = n["Data.DateTime"], i = n["Data.Enum"], c = n["Data.Maybe"], l = n["Data.Time"], f = t.toDateTimeImpl(function (n) { return function (e) { return function (t) { return function (r) { return function (f) { return function (s) { return function (d) { return new u.DateTime(a.canonicalDate(n)(c.fromJust()(i.toEnum(o.boundedEnumMonth)(e)))(t), new l.Time(r, f, s, d)) } } } } } } }); e.instant = function (n) { if (n >= -86399778816e5 && n <= 8639977881599999) return new c.Just(n); if (r.otherwise) return c.Nothing.value; throw new Error("Failed pattern match at Data.DateTime.Instant (line 44, column 1 - line 44, column 41): " + [n.constructor.name]) }, e.toDateTime = f }(PS), function (n) { "use strict"; var e = "function" == typeof Array.from, t = "undefined" != typeof Symbol && null != Symbol && void 0 !== Symbol.iterator && "function" == typeof String.prototype[Symbol.iterator], r = "function" == typeof String.prototype.fromCodePoint, a = "function" == typeof String.prototype.codePointAt; n._unsafeCodePointAt0 = function (n) { return a ? function (n) { return n.codePointAt(0) } : n }, n._singleton = function (n) { return r ? String.fromCodePoint : n }, n._take = function (n) { return function (e) { return t ? function (n) { for (var t = "", r = n[Symbol.iterator](), a = 0; a < e; ++a) { var o = r.next(); if (o.done) return t; t += o.value } return t } : n(e) } }, n._toCodePointArray = function (n) { return function (t) { return e ? function (n) { return Array.from(n, t) } : n } } }(PS["Data.String.CodePoints"] = PS["Data.String.CodePoints"] || {}), function (n) { "use strict"; n.intDegree = function (n) { return Math.min(Math.abs(n), 2147483647) }, n.intDiv = function (n) { return function (e) { return 0 === e ? 0 : e > 0 ? Math.floor(n / e) : -Math.floor(n / -e) } }, n.intMod = function (n) { return function (e) { if (0 === e) return 0; var t = Math.abs(e); return (n % t + t) % t } } }(PS["Data.EuclideanRing"] = PS["Data.EuclideanRing"] || {}), function (n) { "use strict"; n["Data.EuclideanRing"] = n["Data.EuclideanRing"] || {}; var e = n["Data.EuclideanRing"], t = n["Data.EuclideanRing"], r = n["Data.CommutativeRing"], a = new function (n, e, t, r) { this.CommutativeRing0 = n, this.degree = e, this.div = t, this.mod = r }(function () { return r.commutativeRingInt }, t.intDegree, t.intDiv, t.intMod); e.div = function (n) { return n.div }, e.mod = function (n) { return n.mod }, e.euclideanRingInt = a }(PS), function (n) { "use strict"; n.fromCharArray = function (n) { return n.join("") }, n.singleton = function (n) { return n }, n._charAt = function (n) { return function (e) { return function (t) { return function (r) { return t >= 0 && t < r.length ? n(r.charAt(t)) : e } } } }, n.length = function (n) { return n.length }, n._indexOf = function (n) { return function (e) { return function (t) { return function (r) { var a = r.indexOf(t); return -1 === a ? e : n(a) } } } }, n.take = function (n) { return function (e) { return e.substr(0, n) } }, n.drop = function (n) { return function (e) { return e.substring(n) } } }(PS["Data.String.CodeUnits"] = PS["Data.String.CodeUnits"] || {}), function (n) { "use strict"; n["Data.String.CodeUnits"] = n["Data.String.CodeUnits"] || {}; var e = n["Data.String.CodeUnits"], t = n["Data.String.CodeUnits"], r = n["Data.Maybe"], a = t._indexOf(r.Just.create)(r.Nothing.value), o = t._charAt(r.Just.create)(r.Nothing.value); e.contains = function (n) { var e = a(n); return function (n) { return r.isJust(e(n)) } }, e.charAt = o, e.indexOf = a, e.singleton = t.singleton, e.fromCharArray = t.fromCharArray, e.length = t.length, e.take = t.take, e.drop = t.drop }(PS), function (n) { "use strict"; n.charAt = function (n) { return function (e) { if (n >= 0 && n < e.length) return e.charAt(n); throw new Error("Data.String.Unsafe.charAt: Invalid index.") } } }(PS["Data.String.Unsafe"] = PS["Data.String.Unsafe"] || {}), function (n) { "use strict"; n["Data.String.Unsafe"] = n["Data.String.Unsafe"] || {}; var e = n["Data.String.Unsafe"], t = n["Data.String.Unsafe"]; e.charAt = t.charAt }(PS), function (n) { "use strict"; n["Data.String.CodePoints"] = n["Data.String.CodePoints"] || {}; var e, t = n["Data.String.CodePoints"], r = n["Data.String.CodePoints"], a = n["Data.Array"], o = n["Data.Bounded"], u = n["Data.Enum"], i = n["Data.EuclideanRing"], c = n["Data.Functor"], l = n["Data.Maybe"], f = n["Data.String.CodeUnits"], s = n["Data.String.Unsafe"], d = n["Data.Tuple"], p = n["Data.Unfoldable"], v = function (n) { return function (e) { return 65536 + ((1024 * (n - 55296 | 0) | 0) + (e - 56320 | 0) | 0) | 0 } }, m = function (n) { return 56320 <= n && n <= 57343 }, g = function (n) { return 55296 <= n && n <= 56319 }, w = function (n) { var e = f.length(n); if (0 === e) return l.Nothing.value; if (1 === e) return new l.Just({ head: u.fromEnum(u.boundedEnumChar)(s.charAt(0)(n)), tail: "" }); var t = u.fromEnum(u.boundedEnumChar)(s.charAt(1)(n)), r = u.fromEnum(u.boundedEnumChar)(s.charAt(0)(n)); return g(r) && m(t) ? new l.Just({ head: v(r)(t), tail: f.drop(2)(n) }) : new l.Just({ head: r, tail: f.drop(1)(n) }) }, y = function (n) { return c.map(l.functorMaybe)(function (n) { return new d.Tuple(n.head, n.tail) })(w(n)) }, h = r._unsafeCodePointAt0(function (n) { var e = u.fromEnum(u.boundedEnumChar)(s.charAt(0)(n)); if (g(e) && f.length(n) > 1) { var t = u.fromEnum(u.boundedEnumChar)(s.charAt(1)(n)); return m(t) ? v(e)(t) : e } return e }), b = r._toCodePointArray(function (n) { return p.unfoldr(p.unfoldableArray)(y)(n) })(h), M = function (n) { return a.length(b(n)) }, S = (e = u.toEnumWithDefaults(u.boundedEnumChar)(o.bottom(o.boundedChar))(o.top(o.boundedChar)), function (n) { return f.singleton(e(n)) }), I = r._singleton(function (n) { if (n <= 65535) return S(n); var e = i.div(i.euclideanRingInt)(n - 65536 | 0)(1024) + 55296 | 0, t = i.mod(i.euclideanRingInt)(n - 65536 | 0)(1024) + 56320 | 0; return S(e) + S(t) }), E = function (n) { return function (e) { if (n < 1) return ""; var t = w(e); return t instanceof l.Just ? I(t.value0.head) + E(n - 1 | 0)(t.value0.tail) : e } }, C = r._take(E); t.length = M, t.indexOf = function (n) { return function (e) { return c.map(l.functorMaybe)(function (n) { return M(f.take(n)(e)) })(f.indexOf(n)(e)) } }, t.drop = function (n) { return function (e) { return f.drop(f.length(C(n)(e)))(e) } }, t.splitAt = function (n) { return function (e) { var t = C(n)(e); return { before: t, after: f.drop(f.length(t))(e) } } } }(PS), function (n) { "use strict"; n["Data.Time.Component"] = n["Data.Time.Component"] || {}; var e, t, r, a, o, u, i, c, l = n["Data.Time.Component"], f = n["Data.Boolean"], s = n["Data.Bounded"], d = n["Data.Enum"], p = n["Data.Maybe"], v = n["Data.Ord"], m = v.ordInt, g = v.ordInt, w = new s.Bounded(function () { return m }, 0, 59), y = new s.Bounded(function () { return g }, 0, 23), h = new d.BoundedEnum(function () { return w }, function () { return b }, 60, function (n) { return n }, function (n) { if (n >= 0 && n <= 59) return new p.Just(n); if (f.otherwise) return p.Nothing.value; throw new Error("Failed pattern match at Data.Time.Component (line 61, column 1 - line 66, column 26): " + [n.constructor.name]) }), b = new d.Enum(function () { return m }, (r = d.toEnum(h), a = d.fromEnum(h), function (n) { return r(a(n) - 1 | 0) }), (e = d.toEnum(h), t = d.fromEnum(h), function (n) { return e(t(n) + 1 | 0) })), M = new d.BoundedEnum(function () { return y }, function () { return S }, 24, function (n) { return n }, function (n) { if (n >= 0 && n <= 23) return new p.Just(n); if (f.otherwise) return p.Nothing.value; throw new Error("Failed pattern match at Data.Time.Component (line 32, column 1 - line 37, column 24): " + [n.constructor.name]) }), S = new d.Enum(function () { return g }, (i = d.toEnum(M), c = d.fromEnum(M), function (n) { return i(c(n) - 1 | 0) }), (o = d.toEnum(M), u = d.fromEnum(M), function (n) { return o(u(n) + 1 | 0) })); l.boundedEnumHour = M, l.boundedEnumMinute = h }(PS), function (n) { "use strict"; n["Data.Time.Duration"] = n["Data.Time.Duration"] || {}; n["Data.Time.Duration"].Milliseconds = function (n) { return n } }(PS), function (n) { "use strict"; n["Data.DateTime.Utils"] = n["Data.DateTime.Utils"] || {}; var e = n["Data.DateTime.Utils"], t = n["Data.Date"], r = n["Data.Date.Component"], a = n["Data.DateTime"], o = n["Data.DateTime.Instant"], u = n["Data.Enum"], i = n["Data.Functor"], c = n["Data.Maybe"], l = n["Data.Show"], f = n["Data.String.CodePoints"], s = n["Data.Time"], d = n["Data.Time.Component"], p = n["Data.Time.Duration"], v = function (n) { var e = a.time(n), o = a.date(n), i = function (n) { var e = l.show(l.showInt), t = u.fromEnum(n); return function (n) { return r = e(t(n)), 1 === f.length(r) ? "0" + r : r; var r } }, c = i(r.boundedEnumDay)(t.day(o)), p = i(d.boundedEnumHour)(s.hour(e)), v = i(d.boundedEnumMinute)(s.minute(e)), m = i(r.boundedEnumMonth)(t.month(o)); return i(r.boundedEnumYear)(t.year(o)) + "/" + m + "/" + c + " " + p + ":" + v }; e.fromTimestampToString = function (n) { return c.maybe("")(v)(function (n) { return i.map(c.functorMaybe)(o.toDateTime)(o.instant(p.Milliseconds(1e3 * (n + 32400)))) }(n)) } }(PS), function (n) { "use strict"; n["Data.Map.Internal"] = n["Data.Map.Internal"] || {}; var e = n["Data.Map.Internal"], t = n["Control.Applicative"], r = n["Data.Foldable"], a = n["Data.Function"], o = n["Data.Functor"], u = n["Data.List.Types"], i = n["Data.Maybe"], c = n["Data.Ord"], l = n["Data.Ordering"], f = n["Data.Semigroup"], s = n["Data.Show"], d = n["Data.Tuple"], p = n["Data.Unfoldable"], v = function () { function n() { } return n.value = new n, n }(), m = function () { function n(n, e, t, r) { this.value0 = n, this.value1 = e, this.value2 = t, this.value3 = r } return n.create = function (e) { return function (t) { return function (r) { return function (a) { return new n(e, t, r, a) } } } }, n }(), g = function () { function n(n, e, t, r, a, o, u) { this.value0 = n, this.value1 = e, this.value2 = t, this.value3 = r, this.value4 = a, this.value5 = o, this.value6 = u } return n.create = function (e) { return function (t) { return function (r) { return function (a) { return function (o) { return function (u) { return function (i) { return new n(e, t, r, a, o, u, i) } } } } } } }, n }(), w = function () { function n(n, e, t) { this.value0 = n, this.value1 = e, this.value2 = t } return n.create = function (e) { return function (t) { return function (r) { return new n(e, t, r) } } }, n }(), y = function () { function n(n, e, t) { this.value0 = n, this.value1 = e, this.value2 = t } return n.create = function (e) { return function (t) { return function (r) { return new n(e, t, r) } } }, n }(), h = function () { function n(n, e, t, r, a, o) { this.value0 = n, this.value1 = e, this.value2 = t, this.value3 = r, this.value4 = a, this.value5 = o } return n.create = function (e) { return function (t) { return function (r) { return function (a) { return function (o) { return function (u) { return new n(e, t, r, a, o, u) } } } } } }, n }(), b = function () { function n(n, e, t, r, a, o) { this.value0 = n, this.value1 = e, this.value2 = t, this.value3 = r, this.value4 = a, this.value5 = o } return n.create = function (e) { return function (t) { return function (r) { return function (a) { return function (o) { return function (u) { return new n(e, t, r, a, o, u) } } } } } }, n }(), M = function () { function n(n, e, t, r, a, o) { this.value0 = n, this.value1 = e, this.value2 = t, this.value3 = r, this.value4 = a, this.value5 = o } return n.create = function (e) { return function (t) { return function (r) { return function (a) { return function (o) { return function (u) { return new n(e, t, r, a, o, u) } } } } } }, n }(), S = function () { function n(n, e, t, r) { this.value0 = n, this.value1 = e, this.value2 = t, this.value3 = r } return n.create = function (e) { return function (t) { return function (r) { return function (a) { return new n(e, t, r, a) } } } }, n }(), I = function (n) { if (n instanceof v) return u.Nil.value; if (n instanceof m) return f.append(u.semigroupList)(I(n.value0))(f.append(u.semigroupList)(t.pure(u.applicativeList)(n.value2))(I(n.value3))); if (n instanceof g) return f.append(u.semigroupList)(I(n.value0))(f.append(u.semigroupList)(t.pure(u.applicativeList)(n.value2))(f.append(u.semigroupList)(I(n.value3))(f.append(u.semigroupList)(t.pure(u.applicativeList)(n.value5))(I(n.value6))))); throw new Error("Failed pattern match at Data.Map.Internal (line 612, column 1 - line 612, column 40): " + [n.constructor.name]) }, E = function (n) { return function (e) { return new m(v.value, n, e, v.value) } }, C = function (n) { return function (e) { return p.unfoldr(n)(function (n) { var e, t = !1; function r(e) { if (e instanceof u.Nil) return t = !0, i.Nothing.value; if (e instanceof u.Cons) { if (e.value0 instanceof v) return void (n = e.value1); if (e.value0 instanceof m && e.value0.value0 instanceof v && e.value0.value3 instanceof v) return t = !0, i.Just.create(new d.Tuple(new d.Tuple(e.value0.value1, e.value0.value2), e.value1)); if (e.value0 instanceof m && e.value0.value0 instanceof v) return t = !0, i.Just.create(new d.Tuple(new d.Tuple(e.value0.value1, e.value0.value2), new u.Cons(e.value0.value3, e.value1))); if (e.value0 instanceof m) return void (n = new u.Cons(e.value0.value0, new u.Cons(E(e.value0.value1)(e.value0.value2), new u.Cons(e.value0.value3, e.value1)))); if (e.value0 instanceof g) return void (n = new u.Cons(e.value0.value0, new u.Cons(E(e.value0.value1)(e.value0.value2), new u.Cons(e.value0.value3, new u.Cons(E(e.value0.value4)(e.value0.value5), new u.Cons(e.value0.value6, e.value1)))))); throw new Error("Failed pattern match at Data.Map.Internal (line 577, column 18 - line 586, column 71): " + [e.value0.constructor.name]) } throw new Error("Failed pattern match at Data.Map.Internal (line 576, column 3 - line 576, column 19): " + [e.constructor.name]) } for (; !t;)e = r(n); return e })(new u.Cons(e, u.Nil.value)) } }, H = C(p.unfoldableArray), D = function (n) { return function (e) { var t = c.compare(n); return function (n) { var r, a = !1; function o(r) { if (r instanceof v) return a = !0, i.Nothing.value; if (r instanceof m) { var o = t(e)(r.value1); return o instanceof l.EQ ? (a = !0, new i.Just(r.value2)) : o instanceof l.LT ? void (n = r.value0) : void (n = r.value3) } if (r instanceof g) { var u = t(e)(r.value1); if (u instanceof l.EQ) return a = !0, new i.Just(r.value2); var c = t(e)(r.value4); return c instanceof l.EQ ? (a = !0, new i.Just(r.value5)) : u instanceof l.LT ? void (n = r.value0) : c instanceof l.GT ? void (n = r.value6) : void (n = r.value3) } throw new Error("Failed pattern match at Data.Map.Internal (line 200, column 5 - line 200, column 22): " + [r.constructor.name]) } for (; !a;)r = o(n); return r } } }, A = function (n) { if (n instanceof v) return u.Nil.value; if (n instanceof m) return f.append(u.semigroupList)(A(n.value0))(f.append(u.semigroupList)(t.pure(u.applicativeList)(n.value1))(A(n.value3))); if (n instanceof g) return f.append(u.semigroupList)(A(n.value0))(f.append(u.semigroupList)(t.pure(u.applicativeList)(n.value1))(f.append(u.semigroupList)(A(n.value3))(f.append(u.semigroupList)(t.pure(u.applicativeList)(n.value4))(A(n.value6))))); throw new Error("Failed pattern match at Data.Map.Internal (line 606, column 1 - line 606, column 38): " + [n.constructor.name]) }, k = new o.Functor(function (n) { return function (e) { if (e instanceof v) return v.value; if (e instanceof m) return new m(o.map(k)(n)(e.value0), e.value1, n(e.value2), o.map(k)(n)(e.value3)); if (e instanceof g) return new g(o.map(k)(n)(e.value0), e.value1, n(e.value2), o.map(k)(n)(e.value3), e.value4, n(e.value5), o.map(k)(n)(e.value6)); throw new Error("Failed pattern match at Data.Map.Internal (line 96, column 1 - line 99, column 110): " + [n.constructor.name, e.constructor.name]) } }), F = function (n) { return function (e) { return function (t) { var r, a = n, o = e, i = !1; function c(n, e, r) { if (e instanceof u.Nil) return i = !0, r; if (e instanceof u.Cons) { if (e.value0 instanceof w) return a = n, o = e.value1, void (t = new m(r, e.value0.value0, e.value0.value1, e.value0.value2)); if (e.value0 instanceof y) return a = n, o = e.value1, void (t = new m(e.value0.value0, e.value0.value1, e.value0.value2, r)); if (e.value0 instanceof h) return a = n, o = e.value1, void (t = new g(r, e.value0.value0, e.value0.value1, e.value0.value2, e.value0.value3, e.value0.value4, e.value0.value5)); if (e.value0 instanceof b) return a = n, o = e.value1, void (t = new g(e.value0.value0, e.value0.value1, e.value0.value2, r, e.value0.value3, e.value0.value4, e.value0.value5)); if (e.value0 instanceof M) return a = n, o = e.value1, void (t = new g(e.value0.value0, e.value0.value1, e.value0.value2, e.value0.value3, e.value0.value4, e.value0.value5, r)); throw new Error("Failed pattern match at Data.Map.Internal (line 418, column 3 - line 423, column 88): " + [e.value0.constructor.name]) } throw new Error("Failed pattern match at Data.Map.Internal (line 415, column 1 - line 415, column 80): " + [e.constructor.name, r.constructor.name]) } for (; !i;)r = c(a, o, t); return r } } }, P = function (n) { return function (e) { return function (t) { var r, a = function (e) { return function (t) { var r, a = e, o = !1; function i(e, r) { if (e instanceof u.Nil) return o = !0, new m(r.value0, r.value1, r.value2, r.value3); if (e instanceof u.Cons) { if (e.value0 instanceof w) return o = !0, F(n)(e.value1)(new g(r.value0, r.value1, r.value2, r.value3, e.value0.value0, e.value0.value1, e.value0.value2)); if (e.value0 instanceof y) return o = !0, F(n)(e.value1)(new g(e.value0.value0, e.value0.value1, e.value0.value2, r.value0, r.value1, r.value2, r.value3)); if (e.value0 instanceof h) return a = e.value1, void (t = new S(new m(r.value0, r.value1, r.value2, r.value3), e.value0.value0, e.value0.value1, new m(e.value0.value2, e.value0.value3, e.value0.value4, e.value0.value5))); if (e.value0 instanceof b) return a = e.value1, void (t = new S(new m(e.value0.value0, e.value0.value1, e.value0.value2, r.value0), r.value1, r.value2, new m(r.value3, e.value0.value3, e.value0.value4, e.value0.value5))); if (e.value0 instanceof M) return a = e.value1, void (t = new S(new m(e.value0.value0, e.value0.value1, e.value0.value2, e.value0.value3), e.value0.value4, e.value0.value5, new m(r.value0, r.value1, r.value2, r.value3))); throw new Error("Failed pattern match at Data.Map.Internal (line 454, column 5 - line 459, column 108): " + [e.value0.constructor.name, r.constructor.name]) } throw new Error("Failed pattern match at Data.Map.Internal (line 451, column 3 - line 451, column 56): " + [e.constructor.name, r.constructor.name]) } for (; !o;)r = i(a, t); return r } }, o = c.compare(n); return r = u.Nil.value, function (i) { var c, f = r, s = !1; function d(r, c) { if (c instanceof v) return s = !0, a(r)(new S(v.value, e, t, v.value)); if (c instanceof m) { var d = o(e)(c.value1); return d instanceof l.EQ ? (s = !0, F(n)(r)(new m(c.value0, e, t, c.value3))) : d instanceof l.LT ? (f = new u.Cons(new w(c.value1, c.value2, c.value3), r), void (i = c.value0)) : (f = new u.Cons(new y(c.value0, c.value1, c.value2), r), void (i = c.value3)) } if (c instanceof g) { var p = o(e)(c.value1); if (p instanceof l.EQ) return s = !0, F(n)(r)(new g(c.value0, e, t, c.value3, c.value4, c.value5, c.value6)); var I = o(e)(c.value4); return I instanceof l.EQ ? (s = !0, F(n)(r)(new g(c.value0, c.value1, c.value2, c.value3, e, t, c.value6))) : p instanceof l.LT ? (f = new u.Cons(new h(c.value1, c.value2, c.value3, c.value4, c.value5, c.value6), r), void (i = c.value0)) : p instanceof l.GT && I instanceof l.LT ? (f = new u.Cons(new b(c.value0, c.value1, c.value2, c.value4, c.value5, c.value6), r), void (i = c.value3)) : (f = new u.Cons(new M(c.value0, c.value1, c.value2, c.value3, c.value4, c.value5), r), void (i = c.value6)) } throw new Error("Failed pattern match at Data.Map.Internal (line 434, column 3 - line 434, column 55): " + [r.constructor.name, c.constructor.name]) } for (; !s;)c = d(f, i); return c } } } }, T = function (n) { return function (e) { var t, r = function (e) { return function (t) { var r, a = e, o = !1; function i(e, r) { if (e instanceof u.Nil) return o = !0, r; if (e instanceof u.Cons) { if (e.value0 instanceof w && e.value0.value2 instanceof v && r instanceof v) return o = !0, F(n)(e.value1)(new m(v.value, e.value0.value0, e.value0.value1, v.value)); if (e.value0 instanceof y && e.value0.value0 instanceof v && r instanceof v) return o = !0, F(n)(e.value1)(new m(v.value, e.value0.value1, e.value0.value2, v.value)); if (e.value0 instanceof w && e.value0.value2 instanceof m) return a = e.value1, void (t = new g(r, e.value0.value0, e.value0.value1, e.value0.value2.value0, e.value0.value2.value1, e.value0.value2.value2, e.value0.value2.value3)); if (e.value0 instanceof y && e.value0.value0 instanceof m) return a = e.value1, void (t = new g(e.value0.value0.value0, e.value0.value0.value1, e.value0.value0.value2, e.value0.value0.value3, e.value0.value1, e.value0.value2, r)); if (e.value0 instanceof w && e.value0.value2 instanceof g) return o = !0, F(n)(e.value1)(new m(new m(r, e.value0.value0, e.value0.value1, e.value0.value2.value0), e.value0.value2.value1, e.value0.value2.value2, new m(e.value0.value2.value3, e.value0.value2.value4, e.value0.value2.value5, e.value0.value2.value6))); if (e.value0 instanceof y && e.value0.value0 instanceof g) return o = !0, F(n)(e.value1)(new m(new m(e.value0.value0.value0, e.value0.value0.value1, e.value0.value0.value2, e.value0.value0.value3), e.value0.value0.value4, e.value0.value0.value5, new m(e.value0.value0.value6, e.value0.value1, e.value0.value2, r))); if (e.value0 instanceof h && e.value0.value2 instanceof v && e.value0.value5 instanceof v && r instanceof v) return o = !0, F(n)(e.value1)(new g(v.value, e.value0.value0, e.value0.value1, v.value, e.value0.value3, e.value0.value4, v.value)); if (e.value0 instanceof b && e.value0.value0 instanceof v && e.value0.value5 instanceof v && r instanceof v) return o = !0, F(n)(e.value1)(new g(v.value, e.value0.value1, e.value0.value2, v.value, e.value0.value3, e.value0.value4, v.value)); if (e.value0 instanceof M && e.value0.value0 instanceof v && e.value0.value3 instanceof v && r instanceof v) return o = !0, F(n)(e.value1)(new g(v.value, e.value0.value1, e.value0.value2, v.value, e.value0.value4, e.value0.value5, v.value)); if (e.value0 instanceof h && e.value0.value2 instanceof m) return o = !0, F(n)(e.value1)(new m(new g(r, e.value0.value0, e.value0.value1, e.value0.value2.value0, e.value0.value2.value1, e.value0.value2.value2, e.value0.value2.value3), e.value0.value3, e.value0.value4, e.value0.value5)); if (e.value0 instanceof b && e.value0.value0 instanceof m) return o = !0, F(n)(e.value1)(new m(new g(e.value0.value0.value0, e.value0.value0.value1, e.value0.value0.value2, e.value0.value0.value3, e.value0.value1, e.value0.value2, r), e.value0.value3, e.value0.value4, e.value0.value5)); if (e.value0 instanceof b && e.value0.value5 instanceof m) return o = !0, F(n)(e.value1)(new m(e.value0.value0, e.value0.value1, e.value0.value2, new g(r, e.value0.value3, e.value0.value4, e.value0.value5.value0, e.value0.value5.value1, e.value0.value5.value2, e.value0.value5.value3))); if (e.value0 instanceof M && e.value0.value3 instanceof m) return o = !0, F(n)(e.value1)(new m(e.value0.value0, e.value0.value1, e.value0.value2, new g(e.value0.value3.value0, e.value0.value3.value1, e.value0.value3.value2, e.value0.value3.value3, e.value0.value4, e.value0.value5, r))); if (e.value0 instanceof h && e.value0.value2 instanceof g) return o = !0, F(n)(e.value1)(new g(new m(r, e.value0.value0, e.value0.value1, e.value0.value2.value0), e.value0.value2.value1, e.value0.value2.value2, new m(e.value0.value2.value3, e.value0.value2.value4, e.value0.value2.value5, e.value0.value2.value6), e.value0.value3, e.value0.value4, e.value0.value5)); if (e.value0 instanceof b && e.value0.value0 instanceof g) return o = !0, F(n)(e.value1)(new g(new m(e.value0.value0.value0, e.value0.value0.value1, e.value0.value0.value2, e.value0.value0.value3), e.value0.value0.value4, e.value0.value0.value5, new m(e.value0.value0.value6, e.value0.value1, e.value0.value2, r), e.value0.value3, e.value0.value4, e.value0.value5)); if (e.value0 instanceof b && e.value0.value5 instanceof g) return o = !0, F(n)(e.value1)(new g(e.value0.value0, e.value0.value1, e.value0.value2, new m(r, e.value0.value3, e.value0.value4, e.value0.value5.value0), e.value0.value5.value1, e.value0.value5.value2, new m(e.value0.value5.value3, e.value0.value5.value4, e.value0.value5.value5, e.value0.value5.value6))); if (e.value0 instanceof M && e.value0.value3 instanceof g) return o = !0, F(n)(e.value1)(new g(e.value0.value0, e.value0.value1, e.value0.value2, new m(e.value0.value3.value0, e.value0.value3.value1, e.value0.value3.value2, e.value0.value3.value3), e.value0.value3.value4, e.value0.value3.value5, new m(e.value0.value3.value6, e.value0.value4, e.value0.value5, r))); throw new Error("Failed pattern match at Data.Map.Internal (line 511, column 9 - line 528, column 136): " + [e.value0.constructor.name, r.constructor.name]) } throw new Error("Failed pattern match at Data.Map.Internal (line 508, column 5 - line 528, column 136): " + [e.constructor.name]) } for (; !o;)r = i(a, t); return r } }, a = function (n) { return function (e) { var t, a = n, o = !1; function i(n, t) { if (t instanceof m && t.value0 instanceof v && t.value3 instanceof v) return o = !0, r(n)(v.value); if (t instanceof m) return a = new u.Cons(new y(t.value0, t.value1, t.value2), n), void (e = t.value3); if (t instanceof g && t.value0 instanceof v && t.value3 instanceof v && t.value6 instanceof v) return o = !0, r(new u.Cons(new y(v.value, t.value1, t.value2), n))(v.value); if (t instanceof g) return a = new u.Cons(new M(t.value0, t.value1, t.value2, t.value3, t.value4, t.value5), n), void (e = t.value6); throw new Error("Failed pattern match at Data.Map.Internal (line 540, column 5 - line 544, column 107): " + [t.constructor.name]) } for (; !o;)t = i(a, e); return t } }, o = function (n) { var e, t = !1; function r(e) { if (e instanceof m && e.value3 instanceof v) return t = !0, { key: e.value1, value: e.value2 }; if (e instanceof m) n = e.value3; else { if (e instanceof g && e.value6 instanceof v) return t = !0, { key: e.value4, value: e.value5 }; if (!(e instanceof g)) throw new Error("Failed pattern match at Data.Map.Internal (line 531, column 33 - line 535, column 45): " + [e.constructor.name]); n = e.value6 } } for (; !t;)e = r(n); return e }, f = c.compare(n); return t = u.Nil.value, function (c) { var s, p = t, S = !1; function I(t, s) { if (s instanceof v) return S = !0, i.Nothing.value; if (s instanceof m) { var I = f(e)(s.value1); if (s.value3 instanceof v && I instanceof l.EQ) return S = !0, new i.Just(new d.Tuple(s.value2, r(t)(v.value))); if (I instanceof l.EQ) { var E = o(s.value0); return S = !0, new i.Just(new d.Tuple(s.value2, a(new u.Cons(new w(E.key, E.value, s.value3), t))(s.value0))) } return I instanceof l.LT ? (p = new u.Cons(new w(s.value1, s.value2, s.value3), t), void (c = s.value0)) : (p = new u.Cons(new y(s.value0, s.value1, s.value2), t), void (c = s.value3)) } if (s instanceof g) { var C = s.value0 instanceof v && s.value3 instanceof v && s.value6 instanceof v, H = (I = f(e)(s.value4), f(e)(s.value1)); return C && H instanceof l.EQ ? (S = !0, new i.Just(new d.Tuple(s.value2, F(n)(t)(new m(v.value, s.value4, s.value5, v.value))))) : C && I instanceof l.EQ ? (S = !0, new i.Just(new d.Tuple(s.value5, F(n)(t)(new m(v.value, s.value1, s.value2, v.value))))) : H instanceof l.EQ ? (E = o(s.value0), S = !0, new i.Just(new d.Tuple(s.value2, a(new u.Cons(new h(E.key, E.value, s.value3, s.value4, s.value5, s.value6), t))(s.value0)))) : I instanceof l.EQ ? (E = o(s.value3), S = !0, new i.Just(new d.Tuple(s.value5, a(new u.Cons(new b(s.value0, s.value1, s.value2, E.key, E.value, s.value6), t))(s.value3)))) : H instanceof l.LT ? (p = new u.Cons(new h(s.value1, s.value2, s.value3, s.value4, s.value5, s.value6), t), void (c = s.value0)) : H instanceof l.GT && I instanceof l.LT ? (p = new u.Cons(new b(s.value0, s.value1, s.value2, s.value4, s.value5, s.value6), t), void (c = s.value3)) : (p = new u.Cons(new M(s.value0, s.value1, s.value2, s.value3, s.value4, s.value5), t), void (c = s.value6)) } throw new Error("Failed pattern match at Data.Map.Internal (line 481, column 34 - line 504, column 80): " + [s.constructor.name]) } for (; !S;)s = I(p, c); return s } } }, N = new r.Foldable(function (n) { return function (e) { return function (t) { return r.foldMap(u.foldableList)(n)(e)(I(t)) } } }, function (n) { return function (e) { return function (t) { return r.foldl(u.foldableList)(n)(e)(I(t)) } } }, function (n) { return function (e) { return function (t) { return r.foldr(u.foldableList)(n)(e)(I(t)) } } }), L = v.value, x = function (n) { return function (e) { return function (t) { return i.maybe(t)(d.snd)(T(n)(e)(t)) } } }, U = function (n) { return function (e) { return function (t) { return function (r) { var a = e(D(n)(t)(r)); if (a instanceof i.Nothing) return x(n)(t)(r); if (a instanceof i.Just) return P(n)(t)(a.value0)(r); throw new Error("Failed pattern match at Data.Map.Internal (line 549, column 15 - line 551, column 25): " + [a.constructor.name]) } } } }; e.empty = L, e.isEmpty = function (n) { return n instanceof v }, e.singleton = E, e.insert = P, e.insertWith = function (n) { return function (e) { return function (t) { return function (r) { return U(n)((o = i.maybe(r)(a.flip(e)(r)), function (n) { return i.Just.create(o(n)) }))(t); var o } } } }, e.lookup = D, e.fromFoldable = function (n) { return function (e) { return r.foldl(e)(function (e) { return function (t) { return P(n)(t.value0)(t.value1)(e) } })(L) } }, e.toUnfoldable = C, e.delete = x, e.pop = T, e.member = function (n) { return function (e) { return function (t) { return i.isJust(D(n)(e)(t)) } } }, e.alter = U, e.keys = A, e.values = I, e.union = function (n) { return function (n) { return function (e) { return function (t) { return function (a) { return r.foldl(u.foldableList)(function (t) { return function (r) { return U(n)((a = i.maybe(r.value1)(e(r.value1)), function (n) { return i.Just.create(a(n)) }))(r.value0)(t); var a } })(a)(C(u.unfoldableList)(t)) } } } }(n)(a.const) }, e.showMap = function (n) { return function (e) { return new s.Show(function (t) { return "(fromFoldable " + s.show(s.showArray(d.showTuple(n)(e)))(H(t)) + ")" }) } }, e.functorMap = k, e.foldableMap = N }(PS), function (n) { "use strict"; n["Data.Map"] = n["Data.Map"] || {}; var e, t = n["Data.Map"], r = n["Data.Functor"], a = n["Data.Map.Internal"], o = (e = r.void(a.functorMap), function (n) { return e(n) }); t.keys = o }(PS), function (n) { "use strict"; n["Data.Maybe.Utils"] = n["Data.Maybe.Utils"] || {}; var e = n["Data.Maybe.Utils"], t = n["Data.Array"], r = n["Data.Either"], a = n["Data.Function"], o = n["Data.Functor"], u = n["Data.Maybe"], i = r.either(a.const(u.Nothing.value))(function (n) { return new u.Just(n) }), c = function (n) { var e = t.uncons(n); return e instanceof u.Just && e.value0.head instanceof u.Just ? o.map(u.functorMaybe)(t.cons(e.value0.head.value0))(c(e.value0.tail)) : e instanceof u.Just && e.value0.head instanceof u.Nothing ? u.Nothing.value : new u.Just([]) }; e.flatten = function (n) { return n instanceof u.Just && n.value0 instanceof u.Just ? new u.Just(n.value0.value0) : u.Nothing.value }, e.allJust = c, e.fromEither = i }(PS), function (n) { "use strict"; n["Data.Map.Utils"] = n["Data.Map.Utils"] || {}; var e = n["Data.Map.Utils"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Data.Argonaut.Decode.Class"], o = n["Data.Either"], u = n["Data.Foldable"], i = n["Data.Functor"], c = n["Data.Map.Internal"], l = n["Data.Maybe"], f = n["Data.Maybe.Utils"], s = n["Data.Ord"], d = n["Data.Tuple"], p = n["Data.Unfoldable"], v = n["Foreign.Object"]; e.mergeFromArray = function (n) { return function (e) { return function (t) { return function (r) { var a = c.fromFoldable(s.ordString)(u.foldableArray)(i.map(i.functorArray)(function (e) { return d.Tuple.create(n(e))(new d.Tuple(new l.Just(e), l.Nothing.value)) })(t)); return u.foldl(u.foldableArray)(function (n) { return function (t) { return c.alter(s.ordString)(function (n) { return function (e) { if (e instanceof l.Just) return l.Just.create(d.Tuple.create(e.value0.value0)(new l.Just(n))); if (e instanceof l.Nothing) return l.Just.create(d.Tuple.create(l.Nothing.value)(new l.Just(n))); throw new Error("Failed pattern match at Data.Map.Utils (line 27, column 11 - line 29, column 45): " + [e.constructor.name]) } }(t))(e(t))(n) } })(a)(r) } } } }, e.decodeToMap = function (n) { return f.fromEither(r.bind(o.bindEither)(a.decodeJson(a.decodeForeignObject(a.decodeJsonJson))(n))(function (n) { return t.pure(o.applicativeEither)(c.fromFoldable(s.ordString)(u.foldableArray)(v.toUnfoldable(p.unfoldableArray)(n))) })) } }(PS), function (n) { "use strict"; n["Data.Semiring.Free"] = n["Data.Semiring.Free"] || {}; var e = n["Data.Semiring.Free"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Data.List"], o = n["Data.List.Types"], u = n["Data.Newtype"], i = n["Data.Semigroup"], c = new n["Data.Semiring"].Semiring(function (n) { return function (e) { return i.append(o.semigroupList)(n)(e) } }, function (n) { return function (e) { return r.bind(o.bindList)(n)(function (n) { return r.bind(o.bindList)(e)(function (e) { return t.pure(o.applicativeList)(i.append(o.semigroupList)(n)(e)) }) }) } }, a.singleton(o.Nil.value), o.Nil.value), l = new u.Newtype(function (n) { return n }, function (n) { return n }); e.free = function (n) { return a.singleton(a.singleton(n)) }, e.newtypeFree = l, e.semiringFree = c }(PS), function (n) { "use strict"; n["Data.Set"] = n["Data.Set"] || {}; var e = n["Data.Set"], t = n["Data.Foldable"], r = n["Data.List"], a = n["Data.List.Types"], o = n["Data.Map.Internal"], u = n["Data.Unit"], i = function (n) { return o.keys(n) }, c = function (n) { return function (e) { return function (t) { return o.insert(n)(e)(u.unit)(t) } } }, l = new t.Foldable(function (n) { return function (e) { var r = t.foldMap(a.foldableList)(n)(e); return function (n) { return r(i(n)) } } }, function (n) { return function (e) { var r = t.foldl(a.foldableList)(n)(e); return function (n) { return r(i(n)) } } }, function (n) { return function (e) { var r = t.foldr(a.foldableList)(n)(e); return function (n) { return r(i(n)) } } }), f = o.empty; e.fromFoldable = function (n) { return function (e) { return t.foldl(n)(function (n) { return function (t) { return c(e)(t)(n) } })(f) } }, e.toUnfoldable = function (n) { var e = r.toUnfoldable(n); return function (n) { return e(i(n)) } }, e.empty = f, e.singleton = function (n) { return o.singleton(n)(u.unit) }, e.insert = c, e.foldableSet = l }(PS), function (n) { "use strict"; n["Data.Validation.Semiring"] = n["Data.Validation.Semiring"] || {}; var e = n["Data.Validation.Semiring"], t = n["Control.Alt"], r = n["Control.Applicative"], a = n["Control.Apply"], o = n["Data.Either"], u = n["Data.Semiring"], i = function (n) { return n }, c = o.functorEither; e.unV = function (n) { return function (e) { return function (t) { if (t instanceof o.Left) return n(t.value0); if (t instanceof o.Right) return e(t.value0); throw new Error("Failed pattern match at Data.Validation.Semiring (line 48, column 1 - line 48, column 77): " + [n.constructor.name, e.constructor.name, t.constructor.name]) } } }, e.invalid = function (n) { return i(o.Left.create(n)) }, e.applicativeV = function (n) { return new r.Applicative(function () { return function (n) { return new a.Apply(function () { return c }, function (e) { return function (t) { if (e instanceof o.Left && t instanceof o.Left) return new o.Left(u.mul(n)(e.value0)(t.value0)); if (e instanceof o.Left) return new o.Left(e.value0); if (t instanceof o.Left) return new o.Left(t.value0); if (e instanceof o.Right && t instanceof o.Right) return new o.Right(e.value0(t.value0)); throw new Error("Failed pattern match at Data.Validation.Semiring (line 89, column 1 - line 93, column 54): " + [e.constructor.name, t.constructor.name]) } }) }(n) }, function (n) { return i(o.Right.create(n)) }) }, e.altV = function (n) { return new t.Alt(function () { return c }, function (e) { return function (t) { if (e instanceof o.Left && t instanceof o.Left) return new o.Left(u.add(n)(e.value0)(t.value0)); if (e instanceof o.Left) return t; if (e instanceof o.Right) return new o.Right(e.value0); throw new Error("Failed pattern match at Data.Validation.Semiring (line 104, column 1 - line 107, column 36): " + [e.constructor.name, t.constructor.name]) } }) } }(PS), function (n) { "use strict"; n["Data.Void"] = n["Data.Void"] || {}; n["Data.Void"].absurd = function (n) { return function (n) { for (var e; ;)e = void (n = n); return e }(n) } }(PS), function (n) { "use strict"; n["Effect.Aff.Class"] = n["Effect.Aff.Class"] || {}; var e = n["Effect.Aff.Class"], t = n["Control.Category"], r = n["Control.Monad.Reader.Trans"], a = n["Control.Monad.Trans.Class"], o = n["Effect.Aff"], u = function (n, e) { this.MonadEffect0 = n, this.liftAff = e }, i = new u(function () { return o.monadEffectAff }, t.identity(t.categoryFn)), c = function (n) { return n.liftAff }; e.liftAff = c, e.MonadAff = u, e.monadAffAff = i, e.monadAffReader = function (n) { return new u(function () { return r.monadEffectReader(n.MonadEffect0()) }, (e = a.lift(r.monadTransReaderT)(n.MonadEffect0().Monad0()), t = c(n), function (n) { return e(t(n)) })); var e, t } }(PS), function (n) { "use strict"; n.log = function (n) { return function () { return console.log(n), {} } }, n.warn = function (n) { return function () { return console.warn(n), {} } } }(PS["Effect.Console"] = PS["Effect.Console"] || {}), function (n) { "use strict"; n["Effect.Console"] = n["Effect.Console"] || {}; var e = n["Effect.Console"], t = n["Effect.Console"], r = n["Data.Show"]; e.logShow = function (n) { return function (e) { return t.log(r.show(n)(e)) } }, e.log = t.log, e.warn = t.warn }(PS), function (n) { "use strict"; n["Effect.Class.Console"] = n["Effect.Class.Console"] || {}; var e = n["Effect.Class.Console"], t = n["Effect.Class"], r = n["Effect.Console"]; e.logShow = function (n) { return function (e) { var a = t.liftEffect(n), o = r.logShow(e); return function (n) { return a(o(n)) } } } }(PS), function (n) { "use strict"; n.random = Math.random }(PS["Effect.Random"] = PS["Effect.Random"] || {}), function (n) { "use strict"; n["Effect.Random"] = n["Effect.Random"] || {}; var e = n["Effect.Random"], t = n["Effect.Random"], r = n["Data.Int"]; e.randomInt = function (n) { return function (e) { return function () { var a = t.random(), o = (r.toNumber(e) - r.toNumber(n) + 1) * a + r.toNumber(n); return r.floor(o) } } } }(PS), function (n) { "use strict"; n.runEffectFn1 = function (n) { return function (e) { return function () { return n(e) } } } }(PS["Effect.Uncurried"] = PS["Effect.Uncurried"] || {}), function (n) { "use strict"; n["Effect.Uncurried"] = n["Effect.Uncurried"] || {}; var e = n["Effect.Uncurried"], t = n["Effect.Uncurried"]; e.runEffectFn1 = t.runEffectFn1 }(PS), function (n) { "use strict"; n.unsafeReadPropImpl = function (n, e, t, r) { return null == r ? n : e(r[t]) } }(PS["Foreign.Index"] = PS["Foreign.Index"] || {}), function (n) { "use strict"; n["Foreign.Index"] = n["Foreign.Index"] || {}; var e = n["Foreign.Index"], t = n["Foreign.Index"], r = n["Control.Applicative"], a = n["Control.Monad.Except.Trans"], o = n["Data.Identity"], u = n.Foreign, i = function (n) { return function (e) { return t.unsafeReadPropImpl(u.fail(new u.TypeMismatch("object", u.typeOf(e))), r.pure(a.applicativeExceptT(o.monadIdentity)), n, e) } }; e.readProp = i }(PS), function (n) { "use strict"; n.parseJSONImpl = function (n) { return JSON.parse(n) } }(PS["Foreign.JSON"] = PS["Foreign.JSON"] || {}), function (n) { "use strict"; n["Foreign.JSON"] = n["Foreign.JSON"] || {}; var e, t, r, a = n["Foreign.JSON"], o = n["Foreign.JSON"], u = n["Control.Applicative"], i = n["Control.Monad.Except.Trans"], c = n["Data.Bifunctor"], l = n["Data.Either"], f = n["Data.Identity"], s = n["Data.List.Types"], d = n["Effect.Exception"], p = n["Effect.Uncurried"], v = n["Effect.Unsafe"], m = n.Foreign, g = (t = c.lmap(l.bifunctorEither)((e = u.pure(s.applicativeNonEmptyList), function (n) { return e(m.ForeignError.create(d.message(n))) })), r = p.runEffectFn1(o.parseJSONImpl), function (n) { return i.ExceptT(f.Identity(t(v.unsafePerformEffect(d.try(r(n)))))) }); a.parseJSON = g }(PS), (PS["Foreign.NullOrUndefined"] = PS["Foreign.NullOrUndefined"] || {}).null = null, function (n) { "use strict"; n["Foreign.NullOrUndefined"] = n["Foreign.NullOrUndefined"] || {}; var e = n["Foreign.NullOrUndefined"], t = n["Foreign.NullOrUndefined"]; e.null = t.null }(PS), function (n) { "use strict"; n.unsafeDecodeURIComponent = decodeURIComponent }(PS["Global.Unsafe"] = PS["Global.Unsafe"] || {}), function (n) { "use strict"; n["Global.Unsafe"] = n["Global.Unsafe"] || {}; var e = n["Global.Unsafe"], t = n["Global.Unsafe"]; e.unsafeDecodeURIComponent = t.unsafeDecodeURIComponent }(PS), function (n) { "use strict"; n["Halogen.Data.OrdBox"] = n["Halogen.Data.OrdBox"] || {}; var e = n["Halogen.Data.OrdBox"], t = n["Data.Eq"], r = n["Data.Ord"], a = function () { function n(n, e, t) { this.value0 = n, this.value1 = e, this.value2 = t } return n.create = function (e) { return function (t) { return function (r) { return new n(e, t, r) } } }, n }(), o = new t.Eq(function (n) { return function (e) { return n.value0(n.value2)(e.value2) } }), u = new r.Ord(function () { return o }, function (n) { return function (e) { return n.value1(n.value2)(e.value2) } }); e.mkOrdBox = function (n) { return a.create(t.eq(n.Eq0()))(r.compare(n)) }, e.ordOrdBox = u }(PS), function (n) { "use strict"; n["Halogen.Data.Slot"] = n["Halogen.Data.Slot"] || {}; var e = n["Halogen.Data.Slot"], t = n["Data.Foldable"], r = n["Data.Map.Internal"], a = n["Data.Ord"], o = n["Data.Symbol"], u = n["Data.Tuple"], i = n["Halogen.Data.OrdBox"], c = r.empty; e.empty = c, e.lookup = function (n) { return function (n) { return function (e) { return function (t) { return function (c) { return function (l) { return r.lookup(u.ordTuple(a.ordString)(i.ordOrdBox))(new u.Tuple(o.reflectSymbol(n)(t), i.mkOrdBox(e)(c)))(l) } } } } } }, e.insert = function (n) { return function (n) { return function (e) { return function (t) { return function (c) { return function (l) { return function (f) { return r.insert(u.ordTuple(a.ordString)(i.ordOrdBox))(new u.Tuple(o.reflectSymbol(n)(t), i.mkOrdBox(e)(c)))(l)(f) } } } } } } }, e.pop = function (n) { return function (n) { return function (e) { return function (t) { return function (c) { return function (l) { return r.pop(u.ordTuple(a.ordString)(i.ordOrdBox))(new u.Tuple(o.reflectSymbol(n)(t), i.mkOrdBox(e)(c)))(l) } } } } } }, e.foreachSlot = function (n) { return function (e) { return function (a) { return t.traverse_(n)(r.foldableMap)(function (n) { return a(n) })(e) } } } }(PS), function (n) { "use strict"; n["Halogen.Aff.Driver.State"] = n["Halogen.Aff.Driver.State"] || {}; var e = n["Halogen.Aff.Driver.State"], t = n["Data.Foldable"], r = n["Data.List.Types"], a = n["Data.Map.Internal"], o = n["Data.Maybe"], u = n["Effect.Ref"], i = n["Halogen.Data.Slot"], c = n["Unsafe.Coerce"], l = c.unsafeCoerce, f = c.unsafeCoerce, s = c.unsafeCoerce, d = c.unsafeCoerce; e.mapDriverState = function (n) { return function (e) { return n(e) } }, e.unDriverStateX = f, e.renderStateX = function (n) { return function (n) { return f(function (e) { return s(n(e.rendering)) }) } }, e.renderStateX_ = function (n) { return function (e) { return f(function (r) { return t.traverse_(n)(t.foldableMaybe)(e)(r.rendering) }) } }, e.unRenderStateX = l, e.initDriverState = function (n) { return function (e) { return function (t) { return function (c) { return function () { var l = u.new({})(), f = u.new(i.empty)(), s = u.new(i.empty)(), p = u.new(t)(), v = u.new(new o.Just(r.Nil.value))(), m = u.new(new o.Just(r.Nil.value))(), g = u.new(o.Nothing.value)(), w = u.new(1)(), y = u.new(new o.Just(a.empty))(), h = u.new(a.empty)(), b = { component: n, state: n.initialState(e), refs: a.empty, children: i.empty, childrenIn: f, childrenOut: s, selfRef: l, handlerRef: p, pendingQueries: v, pendingOuts: m, pendingHandlers: g, rendering: o.Nothing.value, fresh: w, subscriptions: y, forks: h, lifecycleHandlers: c }; return u.write(b)(l)(), d(l) } } } } } }(PS), function (n) { "use strict"; n["Halogen.Query.ChildQuery"] = n["Halogen.Query.ChildQuery"] || {}; var e = n["Halogen.Query.ChildQuery"], t = n["Unsafe.Coerce"], r = function () { function n(n, e, t) { this.value0 = n, this.value1 = e, this.value2 = t } return n.create = function (e) { return function (t) { return function (r) { return new n(e, t, r) } } }, n }(), a = t.unsafeCoerce, o = t.unsafeCoerce; e.ChildQuery = r, e.mkChildQueryBox = o, e.unChildQueryBox = a }(PS), function (n) { "use strict"; n["Halogen.Query.EventSource"] = n["Halogen.Query.EventSource"] || {}; var e = n["Halogen.Query.EventSource"], t = n["Control.Applicative"], r = n["Control.Apply"], a = n["Control.Bind"], o = n["Control.Coroutine"], u = n["Control.Monad.Free.Trans"], i = n["Control.Monad.Trans.Class"], c = n["Data.Either"], l = n["Data.Function"], f = n["Data.Functor"], s = n["Data.Monoid"], d = n["Data.Profunctor"], p = n["Data.Semigroup"], v = n["Data.Unit"], m = n.Effect, g = n["Effect.Aff"], w = n["Effect.Aff.AVar"], y = n["Effect.Aff.Class"], h = n["Effect.Class"], b = n["Effect.Exception"], M = function (n) { return n }, S = function (n) { return function (e) { return n(e) } }, I = function (n) { return n }, E = function (n) { return function (e) { return M(y.liftAff(n)(a.bind(g.bindAff)(w.empty)(function (r) { return a.bind(g.bindAff)(w.empty)(function (f) { var s = a.discard(a.discardUnit)(u.bindFreeT(o.functorEmit)(n.MonadEffect0().Monad0()))(i.lift(u.monadTransFreeT(o.functorEmit))(n.MonadEffect0().Monad0())(y.liftAff(n)(a.bindFlipped(g.bindAff)(l.flip(w.put)(f))(e(l.flip(w.put)(r))))))(function () { return o.producer(n.MonadEffect0().Monad0())(y.liftAff(n)(w.take(r))) }), d = a.bind(n.MonadEffect0().Monad0().Bind1())(y.liftAff(n)(g.attempt(w.take(f))))(function (e) { if (e instanceof c.Left) return t.pure(n.MonadEffect0().Monad0().Applicative0())(v.unit); if (e instanceof c.Right) return y.liftAff(n)(a.discard(a.discardUnit)(g.bindAff)(w.kill(b.error("finalized"))(f))(function () { return I(e.value0) })); throw new Error("Failed pattern match at Halogen.Query.EventSource (line 71, column 51 - line 75, column 21): " + [e.constructor.name]) }); return t.pure(g.applicativeAff)({ producer: s, finalizer: d }) }) }))) } }; e.hoist = function (n) { return function (e) { return function (t) { return M(f.map(n)(function (t) { return { producer: u.hoistFreeT(o.functorEmit)(n)(e)(t.producer), finalizer: S(e)(t.finalizer) } })(e(t))) } } }, e.affEventSource = E, e.effectEventSource = function (n) { var e, t, r, a = E(n), o = d.dimap(d.profunctorFn)((r = g.launchAff_, function (n) { return function (e) { return r(n(e)) } }))((e = h.liftEffect(g.monadEffectAff), t = f.map(m.functorEffect)(S(h.liftEffect(g.monadEffectAff))), function (n) { return e(t(n)) })); return function (n) { return a(o(n)) } }, e.emit = function (n) { return function (e) { return n(new c.Left(e)) } }, e.finalize = I, e.monoidFinalizer = function (n) { return new s.Monoid(function () { return e = n.Apply0(), new p.Semigroup(function (n) { return function (t) { return r.applySecond(e)(n)(t) } }); var e }, t.pure(n)(v.unit)) } }(PS), function (n) { "use strict"; n["Halogen.Query.HalogenM"] = n["Halogen.Query.HalogenM"] || {}; var e = n["Halogen.Query.HalogenM"], t = n["Control.Applicative"], r = n["Control.Applicative.Free"], a = n["Control.Category"], o = n["Control.Monad.Free"], u = n["Control.Monad.Reader.Class"], i = n["Control.Monad.State.Class"], c = n["Control.Monad.Trans.Class"], l = n["Data.Maybe"], f = n["Data.Newtype"], s = n["Data.Ord"], d = n["Data.Unit"], p = n["Effect.Aff.Class"], v = n["Effect.Class"], m = n["Halogen.Data.Slot"], g = n["Halogen.Query.ChildQuery"], w = n["Halogen.Query.EventSource"], y = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), h = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), b = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), M = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), S = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), I = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), H = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), D = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), A = function (n) { return n }, k = function (n) { return n }, F = s.ordInt, P = s.ordInt, T = new f.Newtype(function (n) { return n }, A), N = new c.MonadTrans(function (n) { return function (n) { return k(o.liftF(M.create(n))) } }), L = o.freeMonad, x = new i.MonadState(function () { return L }, function (n) { return k(o.liftF(y.create(n))) }), U = function (n) { return new v.MonadEffect(function () { return L }, (e = v.liftEffect(n), function (n) { return k(o.liftF(M.create(e(n)))) })); var e }, J = function (n) { return function (e) { return function (t) { return o.hoistFree(function (t) { if (t instanceof y) return new y(t.value0); if (t instanceof h) return new h((a = w.hoist(n)(e), function (n) { return a(t.value0(n)) }), t.value1); var a; if (t instanceof b) return new b(t.value0, t.value1); if (t instanceof M) return new M(e(t.value0)); if (t instanceof S) return new S(t.value0); if (t instanceof I) return new I(t.value0, t.value1); if (t instanceof E) return new E(f.over(T)(T)(A)(r.hoistFreeAp(J(n)(e)))(t.value0)); if (t instanceof C) return new C(J(n)(e)(t.value0), t.value1); if (t instanceof H) return new H(t.value0, t.value1); if (t instanceof D) return new D(t.value0, t.value1); throw new Error("Failed pattern match at Halogen.Query.HalogenM (line 281, column 8 - line 291, column 29): " + [t.constructor.name]) })(t) } } }, O = o.freeFunctor, R = o.freeBind, _ = o.freeApplicative; e.State = y, e.Subscribe = h, e.Unsubscribe = b, e.Lift = M, e.ChildQuery = S, e.Raise = I, e.Par = E, e.Fork = C, e.Kill = H, e.GetRef = D, e.raise = function (n) { return k(o.liftF(new I(n, d.unit))) }, e.query = function (n) { return function (n) { return function (e) { return function (r) { return function (u) { return function (i) { return k(o.liftF(S.create(g.mkChildQueryBox(new g.ChildQuery(function (a) { return function (o) { var i = l.maybe(t.pure(a)(l.Nothing.value))(o), c = m.lookup()(n)(e)(r)(u); return function (n) { return i(c(n)) } } }, i, a.identity(a.categoryFn)))))) } } } } } }, e.SubscriptionId = function (n) { return n }, e.subscribe = function (n) { return k(o.liftF(new h(function (e) { return n }, a.identity(a.categoryFn)))) }, e.unsubscribe = function (n) { return k(o.liftF(new b(n, d.unit))) }, e.ForkId = function (n) { return n }, e.fork = function (n) { return k(o.liftF(new C(n, a.identity(a.categoryFn)))) }, e.getRef = function (n) { return k(o.liftF(new D(n, a.identity(a.categoryFn)))) }, e.hoist = J, e.functorHalogenM = O, e.applicativeHalogenM = _, e.bindHalogenM = R, e.monadEffectHalogenM = U, e.monadAffHalogenM = function (n) { return new p.MonadAff(function () { return U(n.MonadEffect0()) }, (e = p.liftAff(n), function (n) { return k(o.liftF(M.create(e(n)))) })); var e }, e.monadTransHalogenM = N, e.monadStateHalogenM = x, e.monadAskHalogenM = function (n) { return new u.MonadAsk(function () { return L }, k(o.liftF(new M(u.ask(n))))) }, e.ordSubscriptionId = F, e.ordForkId = P }(PS), function (n) { "use strict"; n["Halogen.Query.HalogenQ"] = n["Halogen.Query.HalogenQ"] || {}; var e = n["Halogen.Query.HalogenQ"], t = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), r = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), a = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), o = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), u = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(); e.Initialize = t, e.Finalize = r, e.Receive = a, e.Action = o, e.Query = u }(PS), function (n) { "use strict"; n["Halogen.Query.Input"] = n["Halogen.Query.Input"] || {}; var e = n["Halogen.Query.Input"], t = n["Data.Functor"], r = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), a = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), o = new t.Functor(function (n) { return function (e) { if (e instanceof r) return new r(e.value0, e.value1); if (e instanceof a) return new a(n(e.value0)); throw new Error("Failed pattern match at Halogen.Query.Input (line 19, column 1 - line 19, column 46): " + [e.constructor.name]) } }); e.RefUpdate = r, e.Action = a, e.functorInput = o }(PS), function (n) { "use strict"; n.reallyUnsafeRefEq = function (n) { return function (e) { return n === e } } }(PS["Unsafe.Reference"] = PS["Unsafe.Reference"] || {}), function (n) { "use strict"; n["Unsafe.Reference"] = n["Unsafe.Reference"] || {}; var e = n["Unsafe.Reference"], t = n["Unsafe.Reference"].reallyUnsafeRefEq; e.unsafeRefEq = t }(PS), function (n) { "use strict"; n["Halogen.Aff.Driver.Eval"] = n["Halogen.Aff.Driver.Eval"] || {}; var e = n["Halogen.Aff.Driver.Eval"], t = n["Control.Applicative"], r = n["Control.Applicative.Free"], a = n["Control.Bind"], o = n["Control.Coroutine"], u = n["Control.Monad"], i = n["Control.Monad.Fork.Class"], c = n["Control.Monad.Free"], l = n["Control.Monad.Free.Trans"], f = n["Control.Monad.Trans.Class"], s = n["Control.Parallel"], d = n["Control.Parallel.Class"], p = n["Data.Boolean"], v = n["Data.Coyoneda"], m = n["Data.Eq"], g = n["Data.Foldable"], w = n["Data.Function"], y = n["Data.Functor"], h = n["Data.List.Types"], b = n["Data.Map.Internal"], M = n["Data.Maybe"], S = n["Data.Ord"], I = n["Data.Unit"], E = n.Effect, C = n["Effect.Aff"], H = n["Effect.Class"], D = n["Effect.Exception"], A = n["Effect.Ref"], k = n["Halogen.Aff.Driver.State"], F = n["Halogen.Query.ChildQuery"], P = n["Halogen.Query.EventSource"], T = n["Halogen.Query.HalogenM"], N = n["Halogen.Query.HalogenQ"], L = n["Halogen.Query.Input"], x = n["Unsafe.Reference"], U = function (n) { return function (e) { return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(n)))(function (t) { if (t instanceof M.Nothing) return e; if (t instanceof M.Just) return H.liftEffect(C.monadEffectAff)(A.write(new M.Just(new h.Cons(e, t.value0)))(n)); throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 195, column 33 - line 197, column 57): " + [t.constructor.name]) }) } }, J = function (n) { return function (e) { return a.discard(a.discardUnit)(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.write({ initializers: h.Nil.value, finalizers: h.Nil.value })(n)))(function () { return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(e))(function (e) { return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(n)))(function (n) { return a.discard(a.discardUnit)(C.bindAff)(g.traverse_(C.applicativeAff)(h.foldableList)(i.fork(i.monadForkAff))(n.finalizers))(function () { return a.discard(a.discardUnit)(C.bindAff)(s.parSequence_(C.parallelAff)(h.foldableList)(n.initializers))(function () { return t.pure(C.applicativeAff)(e) }) }) }) }) }) } }, O = function (n) { return function (e) { return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(e)))(function (e) { return H.liftEffect(C.monadEffectAff)(A["modify'"](function (e) { return { state: e + 1 | 0, value: n(e) } })(e.fresh)) }) } }, R = function (n) { return function (e) { return function (t) { return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(e)))(function (r) { return _(n)(e)(r.component.eval(new N.Query(y.map(v.functorCoyoneda)(M.Just.create)(v.liftCoyoneda(t)), w.const(M.Nothing.value)))) }) } } }, _ = function (n) { return function (e) { return function (s) { var v; return c.foldFree(C.monadRecAff)((v = e, function (e) { if (e instanceof T.State) return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(v)))(function (r) { var o = e.value0(r.state); if (x.unsafeRefEq(r.state)(o.value1)) return t.pure(C.applicativeAff)(o.value0); if (p.otherwise) return a.discard(a.discardUnit)(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.write({ component: r.component, state: o.value1, refs: r.refs, children: r.children, childrenIn: r.childrenIn, childrenOut: r.childrenOut, selfRef: r.selfRef, handlerRef: r.handlerRef, pendingQueries: r.pendingQueries, pendingOuts: r.pendingOuts, pendingHandlers: r.pendingHandlers, rendering: r.rendering, fresh: r.fresh, subscriptions: r.subscriptions, forks: r.forks, lifecycleHandlers: r.lifecycleHandlers })(v)))(function () { return a.discard(a.discardUnit)(C.bindAff)(J(r.lifecycleHandlers)(n(r.lifecycleHandlers)(v)))(function () { return t.pure(C.applicativeAff)(o.value0) }) }); throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 85, column 7 - line 91, column 21): " + [o.constructor.name]) }); if (e instanceof T.Subscribe) return a.bind(C.bindAff)(O(T.SubscriptionId)(v))(function (r) { var u = e.value0(r); return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(v)))(function (c) { return a.bind(C.bindAff)(i.fork(i.monadForkAff)(a.bind(C.bindAff)(u)(function (e) { var u = a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(c.subscriptions)))(function (n) { return a.discard(a.discardUnit)(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.modify_(y.map(M.functorMaybe)(b.delete(T.ordSubscriptionId)(r)))(c.subscriptions)))(function () { return t.when(C.applicativeAff)(M.maybe(!1)(b.member(T.ordSubscriptionId)(r))(n))(P.finalize(e.finalizer)) }) }), s = a.bind(l.bindFreeT(o.functorAwait)(C.monadAff))(o.await(C.monadAff))(function (e) { return a.bind(l.bindFreeT(o.functorAwait)(C.monadAff))(f.lift(l.monadTransFreeT(o.functorAwait))(C.monadAff)(H.liftEffect(C.monadEffectAff)(A.read(c.subscriptions))))(function (u) { return t.when(l.applicativeFreeT(o.functorAwait)(C.monadAff))(m.eq(M.eqMaybe(m.eqBoolean))(y.map(M.functorMaybe)(b.member(T.ordSubscriptionId)(r))(u))(new M.Just(!0)))(a.bind(l.bindFreeT(o.functorAwait)(C.monadAff))(f.lift(l.monadTransFreeT(o.functorAwait))(C.monadAff)(i.fork(i.monadForkAff)(q(n)(v)(new L.Action(e)))))(function () { return s })) }) }); return a.discard(a.discardUnit)(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.modify_(y.map(M.functorMaybe)(b.insert(T.ordSubscriptionId)(r)(u)))(c.subscriptions)))(function () { return a.discard(a.discardUnit)(C.bindAff)(o.runProcess(C.monadRecAff)(o.pullFrom(C.monadRecAff)(s)(e.producer)))(function () { return P.finalize(u) }) }) })))(function () { return t.pure(C.applicativeAff)(e.value1(r)) }) }) }); if (e instanceof T.Unsubscribe) return a.discard(a.discardUnit)(C.bindAff)((c = e.value0, function (n) { return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(n)))(function (n) { return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(n.subscriptions)))(function (n) { return g.traverse_(C.applicativeAff)(g.foldableMaybe)(P.finalize)(a.bindFlipped(M.bindMaybe)(b.lookup(T.ordSubscriptionId)(c))(n)) }) }) })(v))(function () { return t.pure(C.applicativeAff)(e.value1) }); var c, s, w; if (e instanceof T.Lift) return e.value0; if (e instanceof T.ChildQuery) return function (e) { return function (t) { return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(e)))(function (e) { return F.unChildQueryBox(function (t) { return y.map(C.functorAff)(t.value2)(d.sequential(C.parallelAff)(t.value0(C.applicativeParAff)(function (e) { return d.parallel(C.parallelAff)(a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(e)))(function (e) { return k.unDriverStateX(function (e) { return R(n)(e.selfRef)(t.value1) })(e) })) })(e.children))) })(t) }) } }(v)(e.value0); if (e instanceof T.Raise) return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(v)))(function (n) { return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(n.handlerRef)))(function (r) { return a.discard(a.discardUnit)(C.bindAff)(U(n.pendingOuts)(r(e.value0)))(function () { return t.pure(C.applicativeAff)(e.value1) }) }) }); if (e instanceof T.Par) return d.sequential(C.parallelAff)(r.retractFreeAp(C.applicativeParAff)(r.hoistFreeAp((s = d.parallel(C.parallelAff), w = _(n)(v), function (n) { return s(w(n)) }))(e.value0))); if (e instanceof T.Fork) return a.bind(C.bindAff)(O(T.ForkId)(v))(function (r) { return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(v)))(function (o) { return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.new(!1)))(function (c) { return a.bind(C.bindAff)(i.fork(i.monadForkAff)(C.finally(H.liftEffect(C.monadEffectAff)(function () { return A.modify_(b.delete(T.ordForkId)(r))(o.forks)(), A.write(!0)(c)() }))(_(n)(v)(e.value0))))(function (n) { return a.discard(a.discardUnit)(C.bindAff)(H.liftEffect(C.monadEffectAff)(u.unlessM(E.monadEffect)(A.read(c))(A.modify_(b.insert(T.ordForkId)(r)(n))(o.forks))))(function () { return t.pure(C.applicativeAff)(e.value1(r)) }) }) }) }) }); if (e instanceof T.Kill) return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(v)))(function (n) { return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(n.forks)))(function (n) { return a.discard(a.discardUnit)(C.bindAff)(g.traverse_(C.applicativeAff)(g.foldableMaybe)(C.killFiber(D.error("Cancelled")))(b.lookup(T.ordForkId)(e.value0)(n)))(function () { return t.pure(C.applicativeAff)(e.value1) }) }) }); if (e instanceof T.GetRef) return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(v)))(function (n) { return t.pure(C.applicativeAff)(e.value1(b.lookup(S.ordString)(e.value0)(n.refs))) }); throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 82, column 12 - line 146, column 33): " + [e.constructor.name]) }))(s) } } }, q = function (n) { return function (e) { return function (t) { if (t instanceof L.RefUpdate) return H.liftEffect(C.monadEffectAff)(w.flip(A.modify_)(e)(k.mapDriverState(function (n) { return { component: n.component, state: n.state, refs: b.alter(S.ordString)(w.const(t.value1))(t.value0)(n.refs), children: n.children, childrenIn: n.childrenIn, childrenOut: n.childrenOut, selfRef: n.selfRef, handlerRef: n.handlerRef, pendingQueries: n.pendingQueries, pendingOuts: n.pendingOuts, pendingHandlers: n.pendingHandlers, rendering: n.rendering, fresh: n.fresh, subscriptions: n.subscriptions, forks: n.forks, lifecycleHandlers: n.lifecycleHandlers } }))); if (t instanceof L.Action) return a.bind(C.bindAff)(H.liftEffect(C.monadEffectAff)(A.read(e)))(function (r) { return _(n)(e)(r.component.eval(new N.Action(t.value0, I.unit))) }); throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 51, column 20 - line 57, column 62): " + [t.constructor.name]) } } }; e.evalF = q, e.evalQ = R, e.evalM = _, e.handleLifecycle = J, e.queueOrRun = U }(PS), function (n) { "use strict"; n["Halogen.VDom.Machine"] = n["Halogen.VDom.Machine"] || {}; var e = n["Halogen.VDom.Machine"], t = n["Unsafe.Coerce"], r = function () { function n(n, e, t, r) { this.value0 = n, this.value1 = e, this.value2 = t, this.value3 = r } return n.create = function (e) { return function (t) { return function (r) { return function (a) { return new n(e, t, r, a) } } } }, n }(), a = t.unsafeCoerce, o = t.unsafeCoerce, u = a(function (n) { return n.value0 }); e.Step = r, e.mkStep = o, e.unStep = a, e.extract = u, e.step = function (n, e) { return n.value2(n.value1, e) }, e.halt = function (n) { return n.value3(n.value1) } }(PS), function (n) { "use strict"; n["Halogen.VDom.Types"] = n["Halogen.VDom.Types"] || {}; var e = n["Halogen.VDom.Types"], t = n["Data.Bifunctor"], r = n["Data.Functor"], a = n["Data.Tuple"], o = n["Unsafe.Coerce"], u = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), i = function () { function n(n, e, t, r) { this.value0 = n, this.value1 = e, this.value2 = t, this.value3 = r } return n.create = function (e) { return function (t) { return function (r) { return function (a) { return new n(e, t, r, a) } } } }, n }(), c = function () { function n(n, e, t, r) { this.value0 = n, this.value1 = e, this.value2 = t, this.value3 = r } return n.create = function (e) { return function (t) { return function (r) { return function (a) { return new n(e, t, r, a) } } } }, n }(), l = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), f = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), s = function () { function n(n, e, t) { this.value0 = n, this.value1 = e, this.value2 = t } return n.create = function (e) { return function (t) { return function (r) { return new n(e, t, r) } } }, n }(), d = function (n) { return function (e) { return n(e) } }, p = o.unsafeCoerce, v = new t.Bifunctor(function (n) { return function (e) { return d(function (t) { return p(new s(function (e) { return n(t.value0(e)) }, function (n) { return e(t.value1(n)) }, t.value2)) }) } }), m = new t.Bifunctor(function (n) { return function (e) { return function (r) { return r instanceof u ? new u(r.value0) : new f(r instanceof f ? t.bimap(v)(n)(e)(r.value0) : p(new s(n, e, r))) } } }), g = d(function (n) { var e = function (o) { if (o instanceof u) return new u(o.value0); if (o instanceof i) return new i(o.value0, o.value1, n.value0(o.value2), r.map(r.functorArray)(e)(o.value3)); if (o instanceof c) return new c(o.value0, o.value1, n.value0(o.value2), r.map(r.functorArray)(r.map(a.functorTuple)(e))(o.value3)); if (o instanceof l) return new l(n.value1(o.value0)); if (o instanceof f) return new f(t.bimap(v)(n.value0)(n.value1)(o.value0)); throw new Error("Failed pattern match at Halogen.VDom.Types (line 86, column 7 - line 86, column 27): " + [o.constructor.name]) }; return e(n.value2) }); e.Text = u, e.Elem = i, e.Keyed = c, e.Widget = l, e.Grafted = f, e.runGraft = g, e.bifunctorVDom = m }(PS), function (n) { "use strict"; n.unsafeGetAny = function (n, e) { return e[n] }, n.unsafeHasAny = function (n, e) { return e.hasOwnProperty(n) }, n.unsafeSetAny = function (n, e, t) { t[n] = e }, n.forE = function (n, e) { for (var t = [], r = 0; r < n.length; r++)t.push(e(r, n[r])); return t }, n.forEachE = function (n, e) { for (var t = 0; t < n.length; t++)e(n[t]) }, n.forInE = function (n, e) { for (var t = Object.keys(n), r = 0; r < t.length; r++) { var a = t[r]; e(a, n[a]) } }, n.diffWithIxE = function (n, e, t, r, a) { for (var o = [], u = n.length, i = e.length, c = 0; ;) { if (c < u) c < i ? o.push(t(c, n[c], e[c])) : r(c, n[c]); else { if (!(c < i)) break; o.push(a(c, e[c])) } c++ } return o }, n.strMapWithIxE = function (n, e, t) { for (var r = {}, a = 0; a < n.length; a++) { var o = n[a], u = e(o); r[u] = t(u, a, o) } return r }, n.diffWithKeyAndIxE = function (n, e, t, r, a, o) { for (var u = {}, i = 0; i < e.length; i++) { var c = e[i], l = t(c); n.hasOwnProperty(l) ? u[l] = r(l, i, n[l], c) : u[l] = o(l, i, c) } for (var l in n) l in u || a(l, n[l]); return u }, n.refEq = function (n, e) { return n === e }, n.createTextNode = function (n, e) { return e.createTextNode(n) }, n.setTextContent = function (n, e) { e.textContent = n }, n.createElement = function (n, e, t) { return null != n ? t.createElementNS(n, e) : t.createElement(e) }, n.insertChildIx = function (n, e, t) { var r = t.childNodes.item(n) || null; r !== e && t.insertBefore(e, r) }, n.removeChild = function (n, e) { e && n.parentNode === e && e.removeChild(n) }, n.parentNode = function (n) { return n.parentNode }, n.setAttribute = function (n, e, t, r) { null != n ? r.setAttributeNS(n, e, t) : r.setAttribute(e, t) }, n.removeAttribute = function (n, e, t) { null != n ? t.removeAttributeNS(n, e) : t.removeAttribute(e) }, n.hasAttribute = function (n, e, t) { return null != n ? t.hasAttributeNS(n, e) : t.hasAttribute(e) }, n.addEventListener = function (n, e, t) { t.addEventListener(n, e, !1) }, n.removeEventListener = function (n, e, t) { t.removeEventListener(n, e, !1) }, n.jsUndefined = void 0 }(PS["Halogen.VDom.Util"] = PS["Halogen.VDom.Util"] || {}), function (n) { "use strict"; n["Halogen.VDom.Util"] = n["Halogen.VDom.Util"] || {}; var e = n["Halogen.VDom.Util"], t = n["Halogen.VDom.Util"], r = n["Foreign.Object.ST"], a = n["Unsafe.Coerce"], o = t.unsafeGetAny, u = a.unsafeCoerce, i = t.unsafeSetAny, c = r.new; e.newMutMap = c, e.pokeMutMap = i, e.unsafeFreeze = u, e.unsafeLookup = o, e.unsafeGetAny = t.unsafeGetAny, e.unsafeHasAny = t.unsafeHasAny, e.unsafeSetAny = t.unsafeSetAny, e.forE = t.forE, e.forEachE = t.forEachE, e.forInE = t.forInE, e.diffWithIxE = t.diffWithIxE, e.diffWithKeyAndIxE = t.diffWithKeyAndIxE, e.strMapWithIxE = t.strMapWithIxE, e.refEq = t.refEq, e.createTextNode = t.createTextNode, e.setTextContent = t.setTextContent, e.createElement = t.createElement, e.insertChildIx = t.insertChildIx, e.removeChild = t.removeChild, e.parentNode = t.parentNode, e.setAttribute = t.setAttribute, e.removeAttribute = t.removeAttribute, e.hasAttribute = t.hasAttribute, e.addEventListener = t.addEventListener, e.removeEventListener = t.removeEventListener, e.jsUndefined = t.jsUndefined }(PS), function (n) { "use strict"; n["Web.DOM.Element"] = n["Web.DOM.Element"] || {}; var e = n["Web.DOM.Element"], t = n["Unsafe.Coerce"].unsafeCoerce; e.toNode = t }(PS), function (n) { "use strict"; n["Halogen.VDom.DOM"] = n["Halogen.VDom.DOM"] || {}; var e = n["Halogen.VDom.DOM"], t = n["Data.Array"], r = n["Data.Boolean"], a = n["Data.Maybe"], o = n["Data.Nullable"], u = n["Data.Tuple"], i = n["Halogen.VDom.Machine"], c = n["Halogen.VDom.Types"], l = n["Halogen.VDom.Util"], f = n["Web.DOM.Element"], s = function (n) { return i.halt(n.widget) }, d = function (n, e) { if (e instanceof c.Grafted) return d(n, c.runGraft(e.value0)); if (e instanceof c.Widget) { var t = i.step(n.widget, e.value0); return i.unStep(function (e) { return i.mkStep(new i.Step(e.value0, { build: n.build, widget: t }, d, s)) })(t) } return s(n), n.build(e) }, p = function (n) { var e = l.parentNode(n.node); return l.removeChild(n.node, e) }, v = function (n, e) { if (e instanceof c.Grafted) return v(n, c.runGraft(e.value0)); if (e instanceof c.Text) { if (n.value === e.value0) return i.mkStep(new i.Step(n.node, n, v, p)); if (r.otherwise) { var t = { build: n.build, node: n.node, value: e.value0 }; return l.setTextContent(e.value0, n.node), i.mkStep(new i.Step(n.node, t, v, p)) } } return p(n), n.build(e) }, m = function (n) { var e = l.parentNode(n.node); return l.removeChild(n.node, e), l.forInE(n.children, function (n, e) { return i.halt(e) }), i.halt(n.attrs) }, g = function (n) { var e = l.parentNode(n.node); return l.removeChild(n.node, e), l.forEachE(n.children, i.halt), i.halt(n.attrs) }, w = function (n, e, t, r) { return !(e !== r) && (n instanceof a.Just && t instanceof a.Just && n.value0 === t.value0 || n instanceof a.Nothing && t instanceof a.Nothing) }, y = function (n, e) { if (e instanceof c.Grafted) return y(n, c.runGraft(e.value0)); if (e instanceof c.Elem && w(n.ns, n.name, e.value0, e.value1)) { var r = t.length(e.value3); if (0 === t.length(n.children) && 0 === r) { var a = i.step(n.attrs, e.value2), o = { build: n.build, node: n.node, attrs: a, ns: e.value0, name: e.value1, children: n.children }; return i.mkStep(new i.Step(n.node, o, y, g)) } var u = l.diffWithIxE(n.children, e.value3, function (e, t, r) { var a = i.step(t, r); return l.insertChildIx(e, i.extract(a), n.node), a }, function (n, e) { return i.halt(e) }, function (e, t) { var r = n.build(t); return l.insertChildIx(e, i.extract(r), n.node), r }); a = i.step(n.attrs, e.value2), o = { build: n.build, node: n.node, attrs: a, ns: e.value0, name: e.value1, children: u }; return i.mkStep(new i.Step(n.node, o, y, g)) } return g(n), n.build(e) }, h = function (n, e) { if (e instanceof c.Grafted) return h(n, c.runGraft(e.value0)); if (e instanceof c.Keyed && w(n.ns, n.name, e.value0, e.value1)) { var r = t.length(e.value3); if (0 === n.length && 0 === r) { var a = i.step(n.attrs, e.value2), o = { build: n.build, node: n.node, attrs: a, ns: e.value0, name: e.value1, children: n.children, length: 0 }; return i.mkStep(new i.Step(n.node, o, h, m)) } var f = l.diffWithKeyAndIxE(n.children, e.value3, u.fst, function (e, t, r, a) { var o = i.step(r, a.value1); return l.insertChildIx(t, i.extract(o), n.node), o }, function (n, e) { return i.halt(e) }, function (e, t, r) { var a = n.build(r.value1); return l.insertChildIx(t, i.extract(a), n.node), a }); a = i.step(n.attrs, e.value2), o = { build: n.build, node: n.node, attrs: a, ns: e.value0, name: e.value1, children: f, length: r }; return i.mkStep(new i.Step(n.node, o, h, m)) } return m(n), n.build(e) }; e.buildVDom = function (n) { var e = function (r) { if (r instanceof c.Text) return function (n, e, t) { var r = l.createTextNode(t, n.document), a = { build: e, node: r, value: t }; return i.mkStep(new i.Step(r, a, v, p)) }(n, e, r.value0); if (r instanceof c.Elem) return function (n, e, t, r, a, u) { var c = l.createElement(o.toNullable(t), r, n.document), s = f.toNode(c), d = l.forE(u, function (n, t) { var r = e(t); return l.insertChildIx(n, i.extract(r), s), r }), p = n.buildAttributes(c)(a), v = { build: e, node: s, attrs: p, ns: t, name: r, children: d }; return i.mkStep(new i.Step(s, v, y, g)) }(n, e, r.value0, r.value1, r.value2, r.value3); if (r instanceof c.Keyed) return function (n, e, r, a, c, s) { var d = l.createElement(o.toNullable(r), a, n.document), p = f.toNode(d), v = l.strMapWithIxE(s, u.fst, function (n, t, r) { var a = e(r.value1); return l.insertChildIx(t, i.extract(a), p), a }), g = n.buildAttributes(d)(c), w = { build: e, node: p, attrs: g, ns: r, name: a, children: v, length: t.length(s) }; return i.mkStep(new i.Step(p, w, h, m)) }(n, e, r.value0, r.value1, r.value2, r.value3); if (r instanceof c.Widget) return function (n, e, t) { var r = n.buildWidget(n)(t); return i.unStep(function (n) { return i.mkStep(new i.Step(n.value0, { build: e, widget: r }, d, s)) })(r) }(n, e, r.value0); if (r instanceof c.Grafted) return e(c.runGraft(r.value0)); throw new Error("Failed pattern match at Halogen.VDom.DOM (line 58, column 27 - line 63, column 52): " + [r.constructor.name]) }; return e } }(PS), function (n) { "use strict"; n["Halogen.VDom.Thunk"] = n["Halogen.VDom.Thunk"] || {}; var e = n["Halogen.VDom.Thunk"], t = n["Data.Function.Uncurried"], r = n["Halogen.VDom.DOM"], a = n["Halogen.VDom.Machine"], o = n["Halogen.VDom.Util"], u = n["Unsafe.Coerce"], i = function () { function n(n, e, t, r) { this.value0 = n, this.value1 = e, this.value2 = t, this.value3 = r } return n.create = function (e) { return function (t) { return function (r) { return function (a) { return new n(e, t, r, a) } } } }, n }(), c = u.unsafeCoerce, l = function (n) { return n.value2(n.value3) }, f = function (n) { return function (e) { return new i(e.value0, e.value1, function (t) { return n(e.value2(t)) }, e.value3) } }; e.buildThunk = function (n) { var e = function (n) { return a.halt(n.vdom) }, t = function (r, u) { var i, c; if (i = r.thunk, c = u, o.refEq(i.value0, c.value0) && o.refEq(i.value1, c.value1) && o.refEq(i.value3, c.value3)) return a.mkStep(new a.Step(a.extract(r.vdom), r, t, e)); var f = a.step(r.vdom, n(l(u))); return a.mkStep(new a.Step(a.extract(f), { vdom: f, thunk: u }, t, e)) }; return function (o) { return function (u) { var i = r.buildVDom(o)(n(l(u))); return a.mkStep(new a.Step(a.extract(i), { thunk: u, vdom: i }, t, e)) } } }, e.hoist = f, e.thunked = function (n) { return function (e) { var r = c({ f: e }), a = t.mkFn2(n); return function (n) { return function (n, e, t, r) { return new i(n, e, t, r) }(r, a, e, n) } } } }(PS), function (n) { "use strict"; n["Halogen.Component"] = n["Halogen.Component"] || {}; var e = n["Halogen.Component"], t = n["Control.Applicative"], r = n["Data.Bifunctor"], a = n["Data.Coyoneda"], o = n["Data.Foldable"], u = n["Data.Function"], i = n["Data.Functor"], c = n["Data.Maybe"], l = n["Data.Unit"], f = n["Halogen.Data.Slot"], s = n["Halogen.Query.HalogenM"], d = n["Halogen.Query.HalogenQ"], p = n["Halogen.VDom.Thunk"], v = n["Unsafe.Coerce"], m = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), g = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), w = v.unsafeCoerce, y = v.unsafeCoerce, h = v.unsafeCoerce, b = v.unsafeCoerce, M = function (n) { return function (e) { return function (t) { return function (a) { if (a instanceof m) return w(function (r) { return m.create(h({ get: r.get, pop: r.pop, set: r.set, component: S(n)(e)(t)(r.component), input: r.input, output: r.output })) })(a.value0); if (a instanceof g) return g.create(p.hoist(r.lmap(n)(M(n)(e)(t)))(a.value0)); throw new Error("Failed pattern match at Halogen.Component (line 271, column 17 - line 276, column 53): " + [a.constructor.name]) } } } }, S = function (n) { return function (e) { return function (t) { return y(function (a) { return b({ initialState: a.initialState, render: (u = r.lmap(n)(M(n)(e)(t)), function (n) { return u(a.render(n)) }), eval: (o = s.hoist(e)(t), function (n) { return o(a.eval(n)) }) }); var o, u }) } } }, I = { handleAction: u.const(t.pure(s.applicativeHalogenM)(l.unit)), handleQuery: u.const(t.pure(s.applicativeHalogenM)(c.Nothing.value)), receive: u.const(c.Nothing.value), initialize: c.Nothing.value, finalize: c.Nothing.value }; e.mkComponent = b, e.unComponent = y, e.hoist = S, e.mkEval = function (n) { return function (e) { if (e instanceof d.Initialize) return i.voidLeft(s.functorHalogenM)(o.traverse_(s.applicativeHalogenM)(o.foldableMaybe)(n.handleAction)(n.initialize))(e.value0); if (e instanceof d.Finalize) return i.voidLeft(s.functorHalogenM)(o.traverse_(s.applicativeHalogenM)(o.foldableMaybe)(n.handleAction)(n.finalize))(e.value0); if (e instanceof d.Receive) return i.voidLeft(s.functorHalogenM)(o.traverse_(s.applicativeHalogenM)(o.foldableMaybe)(n.handleAction)(n.receive(e.value0)))(e.value1); if (e instanceof d.Action) return i.voidLeft(s.functorHalogenM)(n.handleAction(e.value0))(e.value1); if (e instanceof d.Query) return a.unCoyoneda(function (t) { var r = i.map(s.functorHalogenM)(c.maybe(e.value1(l.unit))(t)); return function (e) { return r(n.handleQuery(e)) } })(e.value0); throw new Error("Failed pattern match at Halogen.Component (line 172, column 15 - line 182, column 70): " + [e.constructor.name]) } }, e.defaultEval = I, e.ComponentSlot = m, e.ThunkSlot = g, e.componentSlot = function (n) { return function (n) { return function (e) { return function (t) { return function (r) { return function (a) { return function (o) { return function (u) { return h({ get: f.lookup()(n)(e)(t)(r), pop: f.pop()(n)(e)(t)(r), set: f.insert()(n)(e)(t)(r), component: a, input: new d.Receive(o, l.unit), output: u }) } } } } } } } }, e.unComponentSlot = w }(PS), function (n) { "use strict"; n["Halogen.Aff.Driver"] = n["Halogen.Aff.Driver"] || {}; var e = n["Halogen.Aff.Driver"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Category"], o = n["Control.Coroutine"], u = n["Control.Monad.Error.Class"], i = n["Control.Monad.Fork.Class"], c = n["Control.Monad.Rec.Class"], l = n["Control.Parallel"], f = n["Data.Either"], s = n["Data.Foldable"], d = n["Data.Function"], p = n["Data.Functor"], v = n["Data.List"], m = n["Data.List.Types"], g = n["Data.Map.Internal"], w = n["Data.Maybe"], y = n["Data.Ord"], h = n["Data.Unit"], b = n.Effect, M = n["Effect.Aff"], S = n["Effect.Aff.AVar"], I = n["Effect.Class"], E = n["Effect.Console"], C = n["Effect.Exception"], H = n["Effect.Ref"], D = n["Halogen.Aff.Driver.Eval"], A = n["Halogen.Aff.Driver.State"], k = n["Halogen.Component"], F = n["Halogen.Data.Slot"], P = n["Halogen.Query.EventSource"], T = n["Halogen.Query.HalogenQ"], N = n["Halogen.Query.Input"], L = H.new({ initializers: m.Nil.value, finalizers: m.Nil.value }), x = M.runAff_(f.either(C.throwException)(d.const(t.pure(b.applicativeEffect)(h.unit)))), U = function (n) { return function () { var e, t = H.read(n)(); return H.write(w.Nothing.value)(n)(), s.for_(b.applicativeEffect)(s.foldableMaybe)(t)((e = s.traverse_(M.applicativeAff)(m.foldableList)(i.fork(i.monadForkAff)), function (n) { return x(e(v.reverse(n))) }))() } }; e.runUI = function (n) { return function (e) { return function (J) { var O = function (n) { return function (e) { return function (t) { return k.unComponent(function (a) { return function () { var o, u = L(), i = A.initDriverState(a)(t)(e)(u)(), c = H.read(n)(); return H.write({ initializers: m.Nil.value, finalizers: c.finalizers })(n)(), r.bindFlipped(b.bindEffect)(A.unDriverStateX((o = R(n), function (n) { return o(n.selfRef) })))(H.read(i))(), r.bindFlipped(b.bindEffect)(function (n) { return function (e) { return A.unDriverStateX(function (t) { var a = D.evalM(R)(t.selfRef)(t.component.eval(new T.Initialize(h.unit))); return H.modify_(function (n) { return { initializers: new m.Cons(r.discard(r.discardUnit)(M.bindAff)(l.parSequence_(M.parallelAff)(m.foldableList)(v.reverse(n.initializers)))(function () { return r.discard(r.discardUnit)(M.bindAff)(a)(function () { return I.liftEffect(M.monadEffectAff)(function () { return U(t.pendingQueries)(), U(t.pendingOuts)() }) }) }), e), finalizers: n.finalizers } })(n) }) } }(n)(c.initializers))(H.read(i))(), i } }) } } }, R = function (e) { return function (o) { return function () { var u = H.read(o)(), l = p.map(b.functorEffect)(w.isNothing)(H.read(u.pendingHandlers))(); t.when(b.applicativeEffect)(l)(H.write(new w.Just(m.Nil.value))(u.pendingHandlers))(), H.write(F.empty)(u.childrenOut)(), H.write(u.children)(u.childrenIn)(); var f, g, y, S, I = a.identity(a.categoryFn)(u.selfRef), P = a.identity(a.categoryFn)(u.pendingQueries), L = a.identity(a.categoryFn)(u.pendingHandlers), U = (f = D.queueOrRun(L), g = p.void(M.functorAff), y = D.evalF(R)(I), function (n) { return f(g(y(n))) }), J = (S = D.queueOrRun(P), function (n) { return S(U(N.Action.create(n))) }), q = n.render(function (n) { return x(U(n)) })(function (e) { return function (a) { return function (o) { return function (u) { return k.unComponentSlot(function (i) { return function () { var c = p.map(b.functorEffect)(i.pop)(H.read(o))(), l = function () { if (c instanceof w.Just) { H.write(c.value0.value1)(o)(); var n = H.read(c.value0.value0)(); return A.unDriverStateX(function (n) { return function () { var e; return d.flip(H.write)(n.handlerRef)((e = w.maybe(t.pure(M.applicativeAff)(h.unit))(a), function (n) { return e(i.output(n)) }))(), x(D.evalM(R)(n.selfRef)(n.component.eval(i.input)))() } })(n)(), c.value0.value0 } if (c instanceof w.Nothing) return i.input instanceof T.Receive ? O(e)((r = w.maybe(t.pure(M.applicativeAff)(h.unit))(a), function (n) { return r(i.output(n)) }))(i.input.value0)(i.component)() : C.throw("Halogen internal error: slot input was not a Receive query")(); var r; throw new Error("Failed pattern match at Halogen.Aff.Driver (line 236, column 14 - line 249, column 81): " + [c.constructor.name]) }(), f = p.map(b.functorEffect)(function (n) { return w.isJust(i.get(n)) })(H.read(u))(); return t.when(b.applicativeEffect)(f)(E.warn("Halogen: Duplicate slot address was detected during rendering, unexpected results may occur"))(), H.modify_(i.set(l))(u)(), r.bind(b.bindEffect)(H.read(l))(A.renderStateX(b.functorEffect)(function (e) { if (e instanceof w.Nothing) return C.throw("Halogen internal error: child was not initialized in renderChild"); if (e instanceof w.Just) return t.pure(b.applicativeEffect)(n.renderChild(e.value0)); throw new Error("Failed pattern match at Halogen.Aff.Driver (line 254, column 37 - line 256, column 50): " + [e.constructor.name]) }))() } }) } } } }(e)(J)(u.childrenIn)(u.childrenOut))(u.component.render(u.state))(u.rendering)(), W = H.read(u.childrenOut)(), B = H.read(u.childrenIn)(); return F.foreachSlot(b.applicativeEffect)(B)(function (t) { return function () { var r = H.read(t)(); return A.renderStateX_(b.applicativeEffect)(n.removeChild)(r)(), _(e)(r)() } })(), d.flip(H.modify_)(u.selfRef)(A.mapDriverState(function (n) { return { component: n.component, state: n.state, refs: n.refs, children: W, childrenIn: n.childrenIn, childrenOut: n.childrenOut, selfRef: n.selfRef, handlerRef: n.handlerRef, pendingQueries: n.pendingQueries, pendingOuts: n.pendingOuts, pendingHandlers: n.pendingHandlers, rendering: new w.Just(q), fresh: n.fresh, subscriptions: n.subscriptions, forks: n.forks, lifecycleHandlers: n.lifecycleHandlers } }))(), t.when(b.applicativeEffect)(l)(d.flip(c.tailRecM(c.monadRecEffect))(h.unit)(function (n) { return function () { var n, e = H.read(L)(); H.write(new w.Just(m.Nil.value))(L)(), s.traverse_(b.applicativeEffect)(s.foldableMaybe)((n = s.traverse_(M.applicativeAff)(m.foldableList)(i.fork(i.monadForkAff)), function (e) { return x(n(v.reverse(e))) }))(e)(); var t = H.read(L)(); return w.maybe(!1)(v.null)(t) ? p.voidLeft(b.functorEffect)(H.write(w.Nothing.value)(L))(new c.Done(h.unit))() : new c.Loop(h.unit) } }))() } } }, _ = function (n) { return A.unDriverStateX(function (e) { return function () { var t; (t = e, function () { var n, e, a; return r.bindFlipped(b.bindEffect)(s.traverse_(b.applicativeEffect)(s.foldableMaybe)((e = s.traverse_(M.applicativeAff)(g.foldableMap)((n = i.fork(i.monadForkAff), function (e) { return n(P.finalize(e)) })), function (n) { return x(e(n)) })))(H.read(t.subscriptions))(), H.write(w.Nothing.value)(t.subscriptions)(), r.bindFlipped(b.bindEffect)(s.traverse_(b.applicativeEffect)(g.foldableMap)((a = M.killFiber(C.error("finalized")), function (n) { return x(a(n)) })))(H.read(t.forks))(), H.write(g.empty)(t.forks)() })(); var a = D.evalM(R)(e.selfRef)(e.component.eval(new T.Finalize(h.unit))); return H.modify_(function (n) { return { initializers: n.initializers, finalizers: new m.Cons(a, n.finalizers) } })(n)(), F.foreachSlot(b.applicativeEffect)(e.children)(function (e) { return function () { var t = H.read(e)(); return _(n)(t)() } })() } }) }; return r.bind(M.bindAff)(I.liftEffect(M.monadEffectAff)(L))(function (a) { return r.bind(M.bindAff)(I.liftEffect(M.monadEffectAff)(H.new(0)))(function (c) { return r.bind(M.bindAff)(I.liftEffect(M.monadEffectAff)(H.new(!1)))(function (l) { return D.handleLifecycle(a)(function () { var v, m = H.new(g.empty)(), E = r.bindFlipped(b.bindEffect)(H.read)(O(a)((v = m, function (n) { return r.bind(M.bindAff)(I.liftEffect(M.monadEffectAff)(H.read(v)))(function (e) { return s.traverse_(M.applicativeAff)(g.foldableMap)(i.fork(i.monadForkAff))(p.map(g.functorMap)(S.put(n))(e)) }) }))(J)(e))(); return A.unDriverStateX(function (e) { return t.pure(b.applicativeEffect)({ query: function (n) { return function (e) { return function (a) { return r.bind(M.bindAff)(I.liftEffect(M.monadEffectAff)(H.read(n)))(function (n) { return n ? t.pure(M.applicativeAff)(w.Nothing.value) : D.evalQ(R)(e)(a) }) } } }(l)(e.selfRef), subscribe: function (n) { return function (e) { return function (t) { return r.bind(M.bindAff)(S.empty)(function (a) { return r.bind(M.bindAff)(I.liftEffect(M.monadEffectAff)(function () { var t = H.read(n)(); return H.modify_(function (n) { return n + 1 | 0 })(n)(), H.modify_(g.insert(y.ordInt)(t)(a))(e)(), t }))(function (n) { var c = o.producer(M.monadAff)(p.map(M.functorAff)(f.either(d.const(new f.Right(h.unit)))(f.Left.create))(u.try(M.monadErrorAff)(S.take(a)))); return p.void(M.functorAff)(i.fork(i.monadForkAff)(r.discard(r.discardUnit)(M.bindAff)(o.runProcess(M.monadRecAff)(o.connect(M.monadRecAff)(M.parallelAff)(c)(t)))(function () { return r.discard(r.discardUnit)(M.bindAff)(I.liftEffect(M.monadEffectAff)(H.modify_(g.delete(y.ordInt)(n))(e)))(function () { return S.kill(C.error("ended"))(a) }) }))) }) }) } } }(c)(m), dispose: function (e) { return function (t) { return function (a) { return function (o) { return D.handleLifecycle(t)(function () { var u, i; return H.read(e)() ? h.unit : (H.write(!0)(e)(), r.bindFlipped(b.bindEffect)(s.traverse_(b.applicativeEffect)(g.foldableMap)((u = S.kill(C.error("disposed")), function (n) { return M.launchAff_(u(n)) })))(H.read(o))(), _(t)(a)(), A.unDriverStateX((i = s.traverse_(b.applicativeEffect)(s.foldableMaybe)(n.dispose), function (n) { return i(n.rendering) }))(a)()) }) } } } }(l)(a)(E)(m) }) })(E)() }) }) }) }) } } } }(PS), function (n) { "use strict"; n._querySelector = function (n) { return function (e) { return function () { return e.querySelector(n) } } } }(PS["Web.DOM.ParentNode"] = PS["Web.DOM.ParentNode"] || {}), function (n) { "use strict"; n["Web.DOM.ParentNode"] = n["Web.DOM.ParentNode"] || {}; var e = n["Web.DOM.ParentNode"], t = n["Web.DOM.ParentNode"], r = n["Data.Functor"], a = n["Data.Nullable"], o = n.Effect; e.querySelector = function (n) { var e = r.map(o.functorEffect)(a.toMaybe), u = t._querySelector(n); return function (n) { return e(u(n)) } } }(PS), function (n) { "use strict"; n.eventListener = function (n) { return function () { return function (e) { return n(e)() } } }, n.addEventListener = function (n) { return function (e) { return function (t) { return function (r) { return function () { return r.addEventListener(n, e, t) } } } } }, n.removeEventListener = function (n) { return function (e) { return function (t) { return function (r) { return function () { return r.removeEventListener(n, e, t) } } } } } }(PS["Web.Event.EventTarget"] = PS["Web.Event.EventTarget"] || {}), function (n) { "use strict"; n["Web.Event.EventTarget"] = n["Web.Event.EventTarget"] || {}; var e = n["Web.Event.EventTarget"], t = n["Web.Event.EventTarget"]; e.eventListener = t.eventListener, e.addEventListener = t.addEventListener, e.removeEventListener = t.removeEventListener }(PS), function (n) { "use strict"; n.window = function () { return window } }(PS["Web.HTML"] = PS["Web.HTML"] || {}), function (n) { "use strict"; n["Web.HTML"] = n["Web.HTML"] || {}; var e = n["Web.HTML"], t = n["Web.HTML"]; e.window = t.window }(PS), function (n) { "use strict"; n["Web.HTML.Event.EventTypes"] = n["Web.HTML.Event.EventTypes"] || {}; var e = n["Web.HTML.Event.EventTypes"]; e.blur = "blur", e.change = "change", e.domcontentloaded = "DOMContentLoaded", e.input = "input" }(PS), function (n) { "use strict"; n._readyState = function (n) { return function () { return n.readyState } } }(PS["Web.HTML.HTMLDocument"] = PS["Web.HTML.HTMLDocument"] || {}), function (n) { "use strict"; n["Web.HTML.HTMLDocument.ReadyState"] = n["Web.HTML.HTMLDocument.ReadyState"] || {}; var e = n["Web.HTML.HTMLDocument.ReadyState"], t = n["Data.Maybe"], r = function () { function n() { } return n.value = new n, n }(), a = function () { function n() { } return n.value = new n, n }(), o = function () { function n() { } return n.value = new n, n }(); e.Loading = r, e.parse = function (n) { return "loading" === n ? new t.Just(r.value) : "interactive" === n ? new t.Just(a.value) : "complete" === n ? new t.Just(o.value) : t.Nothing.value } }(PS), function (n) { "use strict"; n["Web.HTML.HTMLDocument"] = n["Web.HTML.HTMLDocument"] || {}; var e, t, r = n["Web.HTML.HTMLDocument"], a = n["Web.HTML.HTMLDocument"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n.Effect, c = n["Unsafe.Coerce"], l = n["Web.HTML.HTMLDocument.ReadyState"], f = c.unsafeCoerce, s = c.unsafeCoerce, d = (t = o.map(i.functorEffect)((e = u.fromMaybe(l.Loading.value), function (n) { return e(l.parse(n)) })), function (n) { return t(a._readyState(n)) }); r.toDocument = s, r.toParentNode = f, r.readyState = d }(PS), function (n) { "use strict"; n._read = function (n, e, t) { var r = Object.prototype.toString.call(t); return 0 === r.indexOf("[object HTML") && r.indexOf("Element]") === r.length - 8 ? e(t) : n }, n.focus = function (n) { return function () { return n.focus() } } }(PS["Web.HTML.HTMLElement"] = PS["Web.HTML.HTMLElement"] || {}), function (n) { "use strict"; n["Web.HTML.HTMLElement"] = n["Web.HTML.HTMLElement"] || {}; var e = n["Web.HTML.HTMLElement"], t = n["Web.HTML.HTMLElement"], r = n["Data.Maybe"], a = n["Unsafe.Coerce"].unsafeCoerce; e.fromElement = function (n) { return t._read(r.Nothing.value, r.Just.create, n) }, e.toNode = a, e.focus = t.focus }(PS), function (n) { "use strict"; n.document = function (n) { return function () { return n.document } }, n.location = function (n) { return function () { return n.location } }, n.history = function (n) { return function () { return n.history } } }(PS["Web.HTML.Window"] = PS["Web.HTML.Window"] || {}), function (n) { "use strict"; n["Web.HTML.Window"] = n["Web.HTML.Window"] || {}; var e = n["Web.HTML.Window"], t = n["Web.HTML.Window"], r = n["Unsafe.Coerce"].unsafeCoerce; e.toEventTarget = r, e.document = t.document, e.location = t.location, e.history = t.history }(PS), function (n) { "use strict"; n["Halogen.Aff.Util"] = n["Halogen.Aff.Util"] || {}; var e = n["Halogen.Aff.Util"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.Error.Class"], o = n["Data.Either"], u = n["Data.Function"], i = n["Data.Functor"], c = n["Data.Maybe"], l = n["Data.Unit"], f = n.Effect, s = n["Effect.Aff"], d = n["Effect.Class"], p = n["Effect.Exception"], v = n["Web.DOM.ParentNode"], m = n["Web.Event.EventTarget"], g = n["Web.HTML"], w = n["Web.HTML.Event.EventTypes"], y = n["Web.HTML.HTMLDocument"], h = n["Web.HTML.HTMLDocument.ReadyState"], b = n["Web.HTML.HTMLElement"], M = n["Web.HTML.Window"], S = s.runAff_(o.either(p.throwException)(u.const(t.pure(f.applicativeEffect)(l.unit)))), I = s.makeAff(function (n) { return function () { if (r.bindFlipped(f.bindEffect)(y.readyState)(r.bindFlipped(f.bindEffect)(M.document)(g.window))() instanceof h.Loading) { var e = i.map(f.functorEffect)(M.toEventTarget)(g.window)(), t = m.eventListener(function (e) { return n(new o.Right(l.unit)) })(); return m.addEventListener(w.domcontentloaded)(t)(!1)(e)(), s.effectCanceler(m.removeEventListener(w.domcontentloaded)(t)(!1)(e)) } return n(new o.Right(l.unit))(), s.nonCanceler } }), E = r.discard(r.discardUnit)(s.bindAff)(I)(function () { return r.bind(s.bindAff)((n = "body", r.bind(s.bindAff)(d.liftEffect(s.monadEffectAff)(r.bindFlipped(f.bindEffect)(r.composeKleisliFlipped(f.bindEffect)((e = v.querySelector(n), function (n) { return e(y.toParentNode(n)) }))(M.document))(g.window)))(function (n) { return t.pure(s.applicativeAff)(r.bindFlipped(c.bindMaybe)(b.fromElement)(n)) })))(function (n) { return c.maybe(a.throwError(s.monadThrowAff)(p.error("Could not find body")))(t.pure(s.applicativeAff))(n) }); var n, e }); e.awaitBody = E, e.runHalogenAff = S }(PS), function (n) { "use strict"; n["Halogen.VDom.DOM.Prop"] = n["Halogen.VDom.DOM.Prop"] || {}; var e = n["Halogen.VDom.DOM.Prop"], t = n["Data.Functor"], r = n["Data.Maybe"], a = n["Data.Nullable"], o = n["Data.Tuple"], u = n["Data.Unit"], i = n["Effect.Ref"], c = n.Foreign, l = n["Foreign.Object"], f = n["Halogen.VDom.Machine"], s = n["Halogen.VDom.Util"], d = n["Unsafe.Coerce"], p = n["Web.Event.EventTarget"], v = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), m = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), g = function () { function n(n, e, t) { this.value0 = n, this.value1 = e, this.value2 = t } return n.create = function (e) { return function (t) { return function (r) { return new n(e, t, r) } } }, n }(), w = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), y = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), h = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), b = s.unsafeGetAny, M = s.unsafeSetAny, S = function (n) { if (n instanceof g && n.value0 instanceof r.Just) return "attr/" + n.value0.value0 + ":" + n.value1; if (n instanceof g) return "attr/:" + n.value1; if (n instanceof w) return "prop/" + n.value0; if (n instanceof y) return "handler/" + n.value0; if (n instanceof h) return "ref"; throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 182, column 16 - line 187, column 16): " + [n.constructor.name]) }, I = d.unsafeCoerce, E = d.unsafeCoerce, C = d.unsafeCoerce, H = new t.Functor(function (n) { return function (e) { return e instanceof y ? new y(e.value0, t.map(t.functorFn)(t.map(r.functorMaybe)(n))(e.value1)) : e instanceof h ? new h(t.map(t.functorFn)(t.map(r.functorMaybe)(n))(e.value0)) : e } }); e.Property = w, e.Handler = y, e.Ref = h, e.Created = v, e.Removed = m, e.propFromString = I, e.propFromBoolean = C, e.propFromInt = E, e.buildProp = function (n) { return function (e) { var t = function (n) { return function (t, r) { if (r instanceof g) return s.removeAttribute(a.toNullable(r.value0), r.value1, e); if (r instanceof w) return function (n, e) { return s.hasAttribute(a.null, n, e) ? s.removeAttribute(a.null, n, e) : "string" === c.typeOf(s.unsafeGetAny(n, e)) ? s.unsafeSetAny(n, "", e) : "rowSpan" === n ? s.unsafeSetAny(n, 1, e) : "colSpan" === n ? s.unsafeSetAny(n, 1, e) : s.unsafeSetAny(n, s.jsUndefined, e) }(r.value0, e); if (r instanceof y) { var i = s.unsafeLookup(r.value0, n); return s.removeEventListener(r.value0, o.fst(i), e) } if (r instanceof h) return u.unit; throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 169, column 5 - line 179, column 18): " + [r.constructor.name]) } }, d = function (e) { return e instanceof r.Just ? n(e.value0)() : u.unit }, I = function (n) { var t = l.lookup("ref")(n.props); return t instanceof r.Just && t.value0 instanceof h ? d(t.value0.value0(new m(e))) : u.unit }, E = function (n) { return function (t, r, u) { if (u instanceof g) return s.setAttribute(a.toNullable(u.value0), u.value1, u.value2, e), u; if (u instanceof w) return M(u.value0, u.value1, e), u; if (u instanceof y) { var c = s.unsafeGetAny(u.value0, n); if (s.unsafeHasAny(u.value0, n)) return i.write(u.value1)(o.snd(c))(), u; var l = i.new(u.value1)(), f = p.eventListener(function (n) { return function () { var e = i.read(l)(); return d(e(n)) } })(); return s.pokeMutMap(u.value0, new o.Tuple(f, l), n), s.addEventListener(u.value0, f, e), u } if (u instanceof h) return d(u.value0(new v(e))), u; throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 113, column 5 - line 135, column 15): " + [u.constructor.name]) } }, C = function (n, r) { var c = s.newMutMap(), l = t(n.events), d = function (n, t) { return function (r, u, c, l) { if (c instanceof g && l instanceof g) return c.value2 === l.value2 ? l : (s.setAttribute(a.toNullable(l.value0), l.value1, l.value2, e), l); if (c instanceof w && l instanceof w) { if (s.refEq(c.value1, l.value1)) return l; if ("value" === l.value0) { var f = b("value", e); return s.refEq(f, l.value1) ? l : (M(l.value0, l.value1, e), l) } return M(l.value0, l.value1, e), l } if (c instanceof y && l instanceof y) { var d = s.unsafeLookup(l.value0, n); return i.write(l.value1)(o.snd(d))(), s.pokeMutMap(l.value0, d, t), l } return l } }(n.events, c), p = E(c), v = s.diffWithKeyAndIxE(n.props, r, S, d, l, p), m = { events: s.unsafeFreeze(c), props: v }; return f.mkStep(new f.Step(u.unit, m, C, I)) }; return function (n) { var e = s.newMutMap(), t = s.strMapWithIxE(n, S, E(e)), r = { events: s.unsafeFreeze(e), props: t }; return f.mkStep(new f.Step(u.unit, r, C, I)) } } }, e.functorProp = H }(PS), function (n) { "use strict"; n["Halogen.HTML.Core"] = n["Halogen.HTML.Core"] || {}; var e = n["Halogen.HTML.Core"], t = n["DOM.HTML.Indexed.InputAcceptType"], r = n["DOM.HTML.Indexed.InputType"], a = n["Data.Bifunctor"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.Newtype"], c = n["Halogen.Query.Input"], l = n["Halogen.VDom.DOM.Prop"], f = n["Halogen.VDom.Types"], s = function (n) { return n }, d = function (n) { return n }, p = function (n) { this.toPropValue = n }, v = new i.Newtype(function (n) { return n }, s), m = new i.Newtype(function (n) { return n }, d), g = new p(l.propFromString), w = new p(l.propFromInt), y = new p(function (n) { return l.propFromString(r.renderInputType(n)) }), h = new p(function (n) { return l.propFromString(t.renderInputAcceptType(n)) }), b = new p(l.propFromBoolean), M = l.Handler.create, S = new a.Bifunctor(function (n) { return function (e) { return function (t) { return a.bimap(f.bifunctorVDom)(o.map(o.functorArray)(o.map(l.functorProp)(o.map(c.functorInput)(e))))(n)(t) } } }); e.widget = function (n) { return s(f.Widget.create(n)) }, e.text = function (n) { return s(f.Text.create(n)) }, e.element = function (n) { return function (e) { return function (t) { return function (r) { return new f.Elem(n, e, t, r) } } } }, e.prop = function (n) { return function (e) { var t = l.Property.create(e), r = n.toPropValue; return function (n) { return t(r(n)) } } }, e.handler = M, e.ref = function (n) { return l.Ref.create(function (e) { return n(function (n) { if (n instanceof l.Created) return new u.Just(n.value0); if (n instanceof l.Removed) return u.Nothing.value; throw new Error("Failed pattern match at Halogen.HTML.Core (line 104, column 21 - line 106, column 23): " + [n.constructor.name]) }(e)) }) }, e.ClassName = d, e.newtypeHTML = v, e.bifunctorHTML = S, e.isPropString = g, e.isPropInt = w, e.isPropBoolean = b, e.isPropInputType = y, e.isPropInputAcceptType = h, e.newtypeClassName = m }(PS), function (n) { "use strict"; n["Halogen.HTML"] = n["Halogen.HTML"] || {}; var e = n["Halogen.HTML"], t = n["Halogen.Component"], r = n["Halogen.HTML.Core"], a = n["Halogen.VDom.Thunk"]; e.slot = function (n) { return function (n) { return function (e) { return function (a) { return function (o) { return function (u) { return function (i) { return function (c) { return r.widget(new t.ComponentSlot(t.componentSlot()(n)(e)(a)(o)(u)(i)(c))) } } } } } } } }, e.memoized = function (n) { return function (e) { return function (o) { return r.widget(new t.ThunkSlot(a.thunked(n)(e)(o))) } } } }(PS), function (n) { "use strict"; n["Halogen.HTML.Elements"] = n["Halogen.HTML.Elements"] || {}; var e, t = n["Halogen.HTML.Elements"], r = n["Data.Maybe"], a = n["Halogen.HTML.Core"].element(r.Nothing.value), o = a("footer"), u = a("header"), i = a("label")([]), c = a("li"), l = a("nav"), f = a("span"), s = f([]), d = a("table"), p = d([]), v = a("tbody"), m = a("td"), g = a("th"), w = a("thead"), y = a("tr"), h = a("ul"), b = a("dt"), M = a("dl"), S = a("div"), I = S([]), E = a("dd"), C = a("button"), H = (e = [], a("br")(e)([])), D = a("a"); t.a = D, t.br_ = H, t.button = C, t.dd = E, t.div = S, t.div_ = I, t.dl = M, t.dt = b, t.footer = o, t.header = u, t.img = function (n) { return a("img")(n)([]) }, t.input = function (n) { return a("input")(n)([]) }, t.label_ = i, t.li = c, t.nav = l, t.span = f, t.span_ = s, t.table = d, t.table_ = p, t.tbody = v, t.td = m, t.textarea = function (n) { return a("textarea")(n)([]) }, t.th = g, t.thead = w, t.tr = y, t.ul = h }(PS), function (n) { "use strict"; n._currentTarget = function (n) { return n.currentTarget }, n.preventDefault = function (n) { return function () { return n.preventDefault() } } }(PS["Web.Event.Event"] = PS["Web.Event.Event"] || {}), function (n) { "use strict"; n["Web.Event.Event"] = n["Web.Event.Event"] || {}; var e = n["Web.Event.Event"], t = n["Web.Event.Event"], r = n["Data.Nullable"]; e.currentTarget = function (n) { return r.toMaybe(t._currentTarget(n)) }, e.preventDefault = t.preventDefault }(PS), function (n) { "use strict"; n["Web.UIEvent.FocusEvent.EventTypes"] = n["Web.UIEvent.FocusEvent.EventTypes"] || {}; n["Web.UIEvent.FocusEvent.EventTypes"].focus = "focus" }(PS), function (n) { "use strict"; n["Web.UIEvent.MouseEvent.EventTypes"] = n["Web.UIEvent.MouseEvent.EventTypes"] || {}; var e = n["Web.UIEvent.MouseEvent.EventTypes"]; e.click = "click", e.mouseenter = "mouseenter", e.mouseleave = "mouseleave" }(PS), function (n) { "use strict"; n["Halogen.HTML.Events"] = n["Halogen.HTML.Events"] || {}; var e, t, r, a, o, u = n["Halogen.HTML.Events"], i = n["Control.Bind"], c = n["Control.Monad.Except"], l = n["Control.Monad.Except.Trans"], f = n["Data.Either"], s = n["Data.Function"], d = n["Data.Functor"], p = n["Data.Identity"], v = n["Data.Maybe"], m = n.Foreign, g = n["Foreign.Index"], w = n["Halogen.HTML.Core"], y = n["Halogen.Query.Input"], h = n["Unsafe.Coerce"], b = n["Web.Event.Event"], M = n["Web.HTML.Event.EventTypes"], S = n["Web.UIEvent.FocusEvent.EventTypes"], I = n["Web.UIEvent.MouseEvent.EventTypes"], E = h.unsafeCoerce, C = function (n) { var e = w.handler(n), t = d.map(d.functorFn)(d.map(v.functorMaybe)(y.Action.create)); return function (n) { return e(t(n)) } }, H = C(M.change), D = (e = C(I.click), function (n) { return e(E(n)) }), A = (t = C(I.mouseenter), function (n) { return t(E(n)) }), k = (r = C(I.mouseleave), function (n) { return r(E(n)) }), F = h.unsafeCoerce, P = (a = C(M.blur), function (n) { return a(F(n)) }), T = (o = C(S.focus), function (n) { return o(F(n)) }), N = function (n) { return function (e) { return function (t) { return function (r) { return C(n)(i.composeKleisli(v.bindMaybe)(b.currentTarget)(function (n) { return f.either(s.const(v.Nothing.value))(r)(c.runExcept((a = n, i.composeKleisliFlipped(l.bindExceptT(p.monadIdentity))(t)(g.readProp(e))(m.unsafeToForeign(a))))); var a })) } } } }, L = N(M.change)("checked")(m.readBoolean), x = N(M.change)("value")(m.readString), U = N(M.input)("value")(m.readString); u.onChange = H, u.onClick = D, u.onMouseEnter = A, u.onMouseLeave = k, u.onBlur = P, u.onFocus = T, u.onValueChange = x, u.onValueInput = U, u.onChecked = L }(PS), function (n) { "use strict"; n["Halogen.HTML.Properties"] = n["Halogen.HTML.Properties"] || {}; var e, t, r = n["Halogen.HTML.Properties"], a = n["Data.Maybe"], o = n["Data.Newtype"], u = n["Halogen.HTML.Core"], i = n["Halogen.Query.Input"], c = function (n) { return u.ref((e = n, function (n) { return new a.Just(new i.RefUpdate(e, n)) })); var e }, l = function (n) { return u.prop(n) }, f = l(u.isPropBoolean)("spellcheck"), s = l(u.isPropString)("src"), d = l(u.isPropString)("value"), p = l(u.isPropString)("placeholder"), v = l(u.isPropString)("href"), m = l(u.isPropBoolean)("disabled"), g = l(u.isPropInt)("colSpan"), w = (e = l(u.isPropString)("className"), t = o.unwrap(u.newtypeClassName), function (n) { return e(t(n)) }), y = l(u.isPropBoolean)("checked"), h = l(u.isPropInputAcceptType)("accept"); r.ref = c, r.class_ = w, r.colSpan = g, r.href = v, r.src = s, r.type_ = function (n) { return l(n)("type") }, r.value = d, r.disabled = m, r.spellcheck = f, r.checked = y, r.placeholder = p, r.accept = h }(PS), function (n) { "use strict"; n["Halogen.Query"] = n["Halogen.Query"] || {}; var e, t = n["Halogen.Query"], r = n["Control.Bind"], a = n["Control.Category"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.Unit"], c = n["Halogen.Query.HalogenM"], l = n["Web.HTML.HTMLElement"], f = (e = o.map(c.functorHalogenM)(function (n) { return r.bindFlipped(u.bindMaybe)(l.fromElement)(n) }), function (n) { return e(c.getRef(n)) }); t.tell = function (n) { return n(i.unit) }, t.request = function (n) { return n(a.identity(a.categoryFn)) }, t.getHTMLElementRef = f }(PS), function (n) { "use strict"; var e = function (n) { return function (e) { return function () { return e[n] } } }; n._parentNode = e("parentNode"), n._nextSibling = e("nextSibling"), n.setNodeValue = function (n) { return function (e) { return function () { return e.nodeValue = n, {} } } }, n.insertBefore = function (n) { return function (e) { return function (t) { return function () { return t.insertBefore(n, e) } } } }, n.appendChild = function (n) { return function (e) { return function () { return e.appendChild(n) } } }, n.removeChild = function (n) { return function (e) { return function () { return e.removeChild(n) } } } }(PS["Web.DOM.Node"] = PS["Web.DOM.Node"] || {}), function (n) { "use strict"; n["Web.DOM.Node"] = n["Web.DOM.Node"] || {}; var e, t, r = n["Web.DOM.Node"], a = n["Web.DOM.Node"], o = n["Data.Functor"], u = n["Data.Nullable"], i = n.Effect, c = (e = o.map(i.functorEffect)(u.toMaybe), function (n) { return e(a._parentNode(n)) }), l = (t = o.map(i.functorEffect)(u.toMaybe), function (n) { return t(a._nextSibling(n)) }); r.parentNode = c, r.nextSibling = l, r.setNodeValue = a.setNodeValue, r.insertBefore = a.insertBefore, r.appendChild = a.appendChild, r.removeChild = a.removeChild }(PS), function (n) { "use strict"; n["Halogen.VDom.Driver"] = n["Halogen.VDom.Driver"] || {}; var e = n["Halogen.VDom.Driver"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Category"], o = n["Data.Foldable"], u = n["Data.Functor"], i = n["Data.HeytingAlgebra"], c = n["Data.Maybe"], l = n["Data.Newtype"], f = n["Data.Unit"], s = n.Effect, d = n["Effect.Aff"], p = n["Effect.Class"], v = n["Effect.Ref"], m = n["Halogen.Aff.Driver"], g = n["Halogen.Aff.Driver.State"], w = n["Halogen.Component"], y = n["Halogen.HTML.Core"], h = n["Halogen.VDom.DOM"], b = n["Halogen.VDom.DOM.Prop"], M = n["Halogen.VDom.Machine"], S = n["Halogen.VDom.Thunk"], I = n["Unsafe.Reference"], E = n["Web.DOM.Node"], C = n["Web.HTML"], H = n["Web.HTML.HTMLDocument"], D = n["Web.HTML.HTMLElement"], A = n["Web.HTML.Window"], k = function (n) { return function () { var e = E.parentNode(n.node)(); return o.traverse_(s.applicativeEffect)(o.foldableMaybe)(function (e) { return E.removeChild(n.node)(e) })(e)() } }, F = function (n) { return function (e) { return { render: function (r) { return function (a) { return function (o) { return function (d) { if (d instanceof c.Nothing) return function () { var t = v.new(a)(), i = function (n) { return function (e) { return function (t) { var r = g.unRenderStateX(function (n) { return n.node }), a = function (n) { return n instanceof c.Just ? M.halt(n.value0) : f.unit }; return { buildWidget: function (n) { var t = S.buildThunk(l.unwrap(y.newtypeHTML))(n), o = function (n) { var t = v.read(e)()(n)(), o = r(t); return M.mkStep(new M.Step(o, c.Nothing.value, i, a)) }, u = function (n) { if (n instanceof w.ComponentSlot) return o(n.value0); if (n instanceof w.ThunkSlot) { var e = t(n.value0); return M.mkStep(new M.Step(M.extract(e), new c.Just(e), i, a)) } throw new Error("Failed pattern match at Halogen.VDom.Driver (line 85, column 7 - line 90, column 75): " + [n.constructor.name]) }, i = function (n, e) { if (n instanceof c.Just) { if (e instanceof w.ComponentSlot) return M.halt(n.value0), o(e.value0); if (e instanceof w.ThunkSlot) { var t = M.step(n.value0, e.value0); return M.mkStep(new M.Step(M.extract(t), new c.Just(t), i, a)) } throw new Error("Failed pattern match at Halogen.VDom.Driver (line 98, column 22 - line 104, column 79): " + [e.constructor.name]) } return u(e) }; return u }, buildAttributes: b.buildProp(n), document: t } } } }(r)(t)(n), d = h.buildVDom(i)(o), p = M.extract(d); return u.void(s.functorEffect)(E.appendChild(p)(D.toNode(e)))(), { machine: d, node: p, renderChildRef: t } }; if (d instanceof c.Just) return function () { v.write(a)(d.value0.renderChildRef)(); var n = E.parentNode(d.value0.node)(), e = E.nextSibling(d.value0.node)(), r = M.step(d.value0.machine, o), l = M.extract(r); return t.when(s.applicativeEffect)(i.not(i.heytingAlgebraFunction(i.heytingAlgebraFunction(i.heytingAlgebraBoolean)))(I.unsafeRefEq)(d.value0.node)(l))(function (n) { return function (e) { return function (r) { return e instanceof c.Just && r instanceof c.Just ? u.void(s.functorEffect)(E.insertBefore(n)(e.value0)(r.value0)) : e instanceof c.Nothing && r instanceof c.Just ? u.void(s.functorEffect)(E.appendChild(n)(r.value0)) : t.pure(s.applicativeEffect)(f.unit) } } }(l)(e)(n))(), { machine: r, node: l, renderChildRef: d.value0.renderChildRef } }; throw new Error("Failed pattern match at Halogen.VDom.Driver (line 159, column 5 - line 175, column 80): " + [d.constructor.name]) } } } }, renderChild: a.identity(a.categoryFn), removeChild: k, dispose: k } } }; e.runUI = function (n) { return function (e) { return function (t) { return r.bind(d.bindAff)(p.liftEffect(d.monadEffectAff)(u.map(s.functorEffect)(H.toDocument)(r.bindFlipped(s.bindEffect)(A.document)(C.window))))(function (r) { return m.runUI(F(r)(t))(n)(e) }) } } } }(PS), function (n) { function e(n) { return Array.from(new Set(n)) } firebase = "firebase" == "firebase" ? (console.log("require firebase"), console.log(firebase), firebase) : null; const t = firebase.auth(), r = firebase.firestore(), a = firebase.storage(), o = { source: "server" }, u = "/assets/imgs/default_icon.jpg", i = { includeMetadataChanges: !0 }; n.defaultIconUrl = u, r.settings({ cacheSizeBytes: firebase.firestore.CACHE_SIZE_UNLIMITED }), r.enablePersistence({ synchronizeTabs: !0 }); var c = JSON.parse(window.localStorage.getItem("UID")); function l(n, e = "") { if (!n.errorInfo) return "\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f"; switch ((n = n.errorInfo).code) { case "auth/cancelled-popup-request": case "auth/popup-closed-by-user": return null; case "auth/email-already-exists": return "\u3053\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u65e2\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059"; case "auth/email-already-in-use": return -1 !== e.indexOf("signup") ? "\u3053\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u4f7f\u7528\u3055\u308c\u3066\u3044\u307e\u3059" : "\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u9055\u3044\u307e\u3059"; case "auth/invalid-email": return "\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u5f62\u5f0f\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093"; case "auth/user-disabled": return "\u30b5\u30fc\u30d3\u30b9\u306e\u5229\u7528\u304c\u505c\u6b62\u3055\u308c\u3066\u3044\u307e\u3059"; case "auth/user-not-found": return "\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u9055\u3044\u307e\u3059"; case "auth/user-mismatch": return "signin/popup" === e ? "\u8a8d\u8a3c\u3055\u308c\u3066\u3044\u308b\u30e6\u30fc\u30b6\u30fc\u3068\u7570\u306a\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u9078\u629e\u3055\u308c\u307e\u3057\u305f" : "\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u9055\u3044\u307e\u3059"; case "auth/weak-password": return "\u30d1\u30b9\u30ef\u30fc\u30c9\u306f6\u6587\u5b57\u4ee5\u4e0a\u306b\u3057\u3066\u304f\u3060\u3055\u3044"; case "auth/wrong-password": return "\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u307e\u305f\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u9055\u3044\u307e\u3059"; case "auth/popup-blocked": return "\u8a8d\u8a3c\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u304c\u30d6\u30ed\u30c3\u30af\u3055\u308c\u307e\u3057\u305f\u3002\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u30d6\u30ed\u30c3\u30af\u3092\u3054\u5229\u7528\u306e\u5834\u5408\u306f\u8a2d\u5b9a\u3092\u89e3\u9664\u3057\u3066\u304f\u3060\u3055\u3044"; case "auth/operation-not-supported-in-this-environment": case "auth/auth-domain-config-required": case "auth/operation-not-allowed": case "auth/unauthorized-domain": return "\u73fe\u5728\u3053\u306e\u8a8d\u8a3c\u65b9\u6cd5\u306f\u3054\u5229\u7528\u9802\u3051\u307e\u305b\u3093"; case "auth/requires-recent-login": return "\u8a8d\u8a3c\u306e\u6709\u52b9\u671f\u9650\u304c\u5207\u308c\u3066\u3044\u307e\u3059"; default: return -1 !== e.indexOf("signin") ? "\u8a8d\u8a3c\u306b\u5931\u6557\u3057\u307e\u3057\u305f" : "\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f" } } async function f(n, e = null, t) { const o = n.data(); if (o.spaceId = n.id, !e && c && (e = await r.collection("users").doc(c.uid).collection("spaces").doc(o.spaceId).get(t)), e && e.exists) { const n = e.data(); o.myStatus = n.type } else o.myStatus = "none"; var u = null; if (c && (u = await r.collection("spaces").doc(o.spaceId).collection("members").doc(c.uid).get(t)), u && u.exists ? o.myMember = await w(u, o.spaceId, t) : o.myMember = null, o.homeUrl) { const n = await a.ref().child(m(o.spaceId)).getDownloadURL(); o.homeUrl = n } else o.homeUrl = null; return o } function s(n) { const e = n.data(); return e.version = n.id, e } function d(n, e) { const t = n.data(); return t.formatId = n.id, t.structure = s(e), t.collectionPage || (t.collectionPage = { compositions: [] }), t.contentPage || (t.contentPage = { relations: [] }), t } function p(n, e, t, r) { const a = n.data(), o = r.data(); return a.contentId = n.id, a.formatId = e.id, a.spaceId = o.spaceId, a.containerId = r.id, a.format = d(e, t), a } function v(n) { return "users/" + n + "/icon" } function m(n) { return "spaces/" + n + "/home" } async function g(n) { const e = n.data(); if (e.userId = n.id, e.iconUrl) { const n = await a.ref().child(v(e.userId)).getDownloadURL(); e.iconUrl = n } else e.iconUrl = u; return e } async function w(n, e, t) { const a = n.data(); a.userId = n.id, a.spaceId = e; const o = await r.collection("users").doc(n.id).get(t); return a.user = await g(o), a } function y(n, e, t, r) { const a = n.data(); return a.workId = n.id, a.contentId || (a.contentId = null), e && (a.spaceId = e.spaceId), a.format = d(t, r), a } async function h(n, e) { const t = await r.collection("_users").doc(n.uid).get(); return n.setting = t.data(), n.user = await g(e), n.userId = n.uid, n } function b(n) { const e = n.data(); return e.snapshotId = n.id, e } function M(n) { if (console.log("receive"), console.log(n), n.data.error) throw console.log(n), n.data.error; return n.data } function S(n, e) { return r.collection("containers").where("spaceId", "==", n).where("formatId", "==", e) } async function I(n, e, t) { const r = await S(n, e).get(t); return r.empty ? null : r.docs[0] } t.onAuthStateChanged(n => { c = n, window.localStorage.setItem("UID", JSON.stringify(n)) }), getFormatDict = async function (n, t) { var a = async n => { const e = n.split(":"), a = e[0], o = e[1], u = r.collection("formats").doc(a), i = u.collection("structures").doc(o), [c, l] = await Promise.all([u.get(t), i.get(t)]); return { key: n, value: { format: c, structure: l } } }; const o = e(n.map(n => n.formatId + ":" + n.structureId)).map(a); return H(a = await Promise.all(o)) }, n.showError = (n => n.message), n.getCurrentUserId = (() => c ? c.uid : null), n.register = (async n => { var e; try { e = await functions.httpsCallable("createUser")(n).then(M) } catch (n) { throw console.log("register error"), console.log(n), l(n) } try { await t.sendSignInLinkToEmail(n.email, { url: "https://incentknow.com", handleCodeInApp: !0, iOS: { bundleId: "com.incentknow.ios" }, android: { packageName: "com.incentknow.android", installApp: !0, minimumVersion: "12" }, dynamicLinkDomain: "incentknow.page.link" }) } catch (n) { throw console.log(n), "\u78ba\u8a8d\u30e1\u30fc\u30eb\u306e\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f" } return e }), n.login = (n => t.signInWithEmailAndPassword(n.email, n.password).then(n => { console.log("login"), console.log(n), window.localStorage.setItem("UID", JSON.stringify(n.user)) }).catch(n => { throw l(n, "signin") })), n.logout = (n => t.signOut().then(n => { window.localStorage.removeItem("UID") }).catch(n => { throw l(n) })), n.createSpace = (n => functions.httpsCallable("createSpace")(n).then(M)), n.createFormat = (n => functions.httpsCallable("createFormat")(n).then(M)), n.createContent = (n => functions.httpsCallable("createContent")(n).then(M)), n.createCrawler = (n => functions.httpsCallable("createCrawler")(n).then(M)), n.runCrawler = (n => functions.httpsCallable("runCrawler")(n).then(M)), n.commitContent = (n => functions.httpsCallable("commitContent")(n).then(M)), n.writeContentWork = (n => functions.httpsCallable("writeContentWork")(n).then(M)), n.updateBlankWork = (n => functions.httpsCallable("updateBlankWork")(n).then(M)), n.createBlankWork = (n => functions.httpsCallable("createBlankWork")(n).then(M)), n.setMyDisplayName = (n => functions.httpsCallable("setMyDisplayName")(n).then(M)), n.checkSpaceDisplayId = (n => functions.httpsCallable("checkSpaceDisplayId")(n).then(M)), n.setMyIcon = (async n => (await a.ref().child(v(c.uid)).put(n).then(), await functions.httpsCallable("setMyIcon")({}).then(M))), n.setSpaceDisplayName = (n => e => { const t = { spaceId: n, displayName: e }; return functions.httpsCallable("setSpaceDisplayName")(t).then(M) }), n.setSpaceHomeImage = (n => async e => (await a.ref().child(m(n)).put(e).then(), await functions.httpsCallable("setSpaceHomeImage")({ spaceId: n }).then(M))), n.setSpacePublished = (n => e => { const t = { spaceId: n, published: e }; return functions.httpsCallable("setSpacePublished")(t).then(M) }), n.setSpaceDisplayId = (n => e => { const t = { spaceId: n, displayId: e }; return functions.httpsCallable("setSpaceDisplayId")(t).then(M) }), n.setSpaceAuthority = (n => e => { const t = { spaceId: n, authority: e }; return functions.httpsCallable("setSpaceAuthority")(t).then(M) }), n.setFormatContentPage = (n => e => { const t = { formatId: n, contentPage: e }; return functions.httpsCallable("setFormatContentPage")(t).then(M) }), n.setFormatCollectionPage = (n => e => { const t = { formatId: n, collectionPage: e }; return functions.httpsCallable("setFormatCollectionPage")(t).then(M) }), n.setMyPassword = (async n => { const e = t.currentUser.email, r = firebase.auth.EmailAuthProvider.credential(e, n.oldPassword); try { await t.currentUser.reauthenticateWithCredential(r) } catch (n) { throw "\u73fe\u5728\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u9593\u9055\u3063\u3066\u3044\u307e\u3059" } try { await t.currentUser.updatePassword(n.newPassword) } catch (n) { throw "\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u5909\u66f4\u306b\u5931\u6557\u3057\u307e\u3057\u305f" } return {} }), n.setMyEmail = (async n => (await t.currentUser.updateEmail(n), {})), n.getPublishedSpaces = (async n => { const e = await r.collection("spaces").where("published", "==", !0).get(n); return await Promise.all(e.docs.map(e => f(e, null, n))) }), n.getContent = (n => async e => { const t = (await r.collection("contents").doc(n).get(e)).data(), a = r.collection("containers").doc(t.containerId), o = a.collection("items").doc(n), u = r.collection("formats").doc(t.formatId), i = u.collection("structures").doc(t.structureId), [c, l, f, s] = await Promise.all([o.get(e), u.get(e), i.get(e), a.get(e)]); return p(c, l, f, s) }), n.getMySpaces = (async n => { const e = r.collection("users").doc(c.uid).collection("spaces"), t = (await e.get(n)).docs.map(async e => { const t = await r.collection("spaces").doc(e.id).get(n); return await f(t, e, n) }); return await Promise.all(t) }), n.onSnapshotContent = (n => e => () => { let t = null, a = !1; return r.collection("contents").doc(n).get().then(async o => { const u = o.data(), c = r.collection("containers").doc(u.containerId), l = c.collection("items").doc(n), f = r.collection("formats").doc(u.formatId), s = f.collection("structures").doc(u.structureId), d = await Promise.all([f.get(), s.get(), c.get()]), v = async n => { const t = p(n, d[0], d[1], d[2]); e(t)() }; a || (t = l.onSnapshot(i, v)) }), () => { t ? t() : a = !0 } }), n.getFormat = (n => async e => { const t = r.collection("formats").doc(n), a = await t.get(e); return d(a, await t.collection("structures").doc(a.data().defaultStructureId).get(e)) }), n.getSpace = (n => async e => { const t = await r.collection("spaces").doc(n).get(e); return await f(t, null, e) }), n.getUser = (n => async e => { const t = await r.collection("users").doc(n).get(e); return await g(t) }); const E = async function (n, t) { const a = e(n.docs.map(n => n.data().structureId)), o = t.data().formatId, u = a.map(async n => { const e = r.collection("formats").doc(o).collection("structures").doc(n); return { key: n, value: await e.get() } }), i = H(await Promise.all(u)), c = await r.collection("formats").doc(o).get(); return n.docs.map(n => p(n, c, i[n.data().structureId], t)) }, C = async function (n, e, t, r) { const a = await I(n, e, r); if (a) { let n = t.filters.reduce(function (n, e) { return n.where(e.fieldPath, e.opStr, e.value) }, a.ref.collection("items")); t.orderBy && (n = n.orderBy(t.orderBy)); const e = await n.get(); return await E(e, a) } return [] }; function H(n) { return n.reduce(function (n, e) { return n[e.key] = e.value, n }, {}) } var D; function A(n) { const e = n.data(); return e.crawlerId = n.id, e } n.getContents = (n => e => t => async r => await C(n, e, t, r)), n.getContentsByFormat = (n => async e => { const t = (await r.collection("formats").doc(n).get(e)).data(); return await C(t.spaceId, n, { filters: [], orderBy: null }, e) }), n.getAllSpaceContents = (n => async e => { const t = await r.collection("containers").where("spaceId", "==", n).get(e), a = t.docs.map(n => n.ref.collection("items").limit(100).get(e)), o = await Promise.all(a), u = o.map((n, e) => n.docs.map(n => { const r = t.docs[e], a = n.data(), o = r.data(); return a.formatId = o.formatId, a })).flat(), i = await getFormatDict(u, e); return o.map((n, e) => n.docs.map(n => { const r = n.data(), a = t.docs[e], o = a.data(), u = i[o.formatId + ":" + r.structureId]; return p(n, u.format, u.structure, a) })).flat() }), n.getFormats = (n => async e => { const t = (await r.collection("formats").where("spaceId", "==", n).get(e)).docs.map(async n => { const t = n.data(); return d(n, await n.ref.collection("structures").doc(t.defaultStructureId.toString()).get(e)) }); return await Promise.all(t) }), n.getFormatStructures = (n => async e => { return (await r.collection("formats").doc(n).collection("structures").get(e)).docs.map(s) }), n.getSpaceMembers = (n => e => async t => { var a = r.collection("spaces").doc(n).collection("members"); e && (a = a.where("type", "==", e)); const o = await a.get(t); return await Promise.all(o.docs.map(async e => await w(e, n, t))) }), n.getMyWorks = (n => async e => { var t = r.collection("users").doc(c.uid).collection("works"); null != n.state && (t = t.where("state", "==", n.state)); const a = await t.get(e), o = a.docs.map(n => n.data()), u = await getFormatDict(o, e); var i = async n => { if (n.contentId) { const e = await r.collection("contents").doc(n.contentId); return { key: n.workId, value: e } } return { key: n.workId, value: null } }; const l = o.map(i), f = H(i = await Promise.all(l)); return a.docs.map(n => { const e = n.data(), t = e.formatId + ":" + e.structureId, r = u[t]; return y(n, f[n.id], r.format, r.structure) }) }), n.onSnapshotWork = (n => e => () => { var t = null; return r.collection("users").doc(c.uid).collection("works").doc(n).onSnapshot(i, async n => { if (n.exists) { var a = n.data(); if (!t) { const n = r.collection("formats").doc(a.formatId), e = n.collection("structures").doc(a.structureId); if (a.contentId) { const o = r.collection("contents").doc(a.contentId); t = await Promise.all([n.get(), e.get(), o.get()]) } else (t = await Promise.all([n.get(), e.get()])).push(null) } a = y(n, t[2], t[0], t[1]), console.log(a), e(a)() } else e(null)() }) }), n.onSnapshotAccount = (n => () => { var e = null, a = null; c && (a = c.uid); const o = async e => { if (c) { const t = await h(c, e); n(t)() } else n(null)() }, u = t.onAuthStateChanged(async t => { if (t) { const u = await r.collection("users").doc(t.uid).get(), c = await h(t, u); n(c)(), a != t.uid && (e(), e = null), e || (e = r.collection("users").doc(t.uid).onSnapshot(i, o)), a = t.uid } else n(null)(), e && (e(), e = null) }); return () => { e && e(), u() } }), n.onSnapshotSpace = (n => e => () => { return r.collection("spaces").doc(n).onSnapshot(i, async n => { const t = await f(n, null, { source: "server" }); e(t)() }) }), n.onSnapshotSnapshots = (n => e => t => () => { return r.collection("users").doc(c.uid).collection("works").doc(n).collection("changes").doc(e).collection("snapshots").onSnapshot(i, async n => { t(n.docs.map(n => b(n)))() }) }), n.getSnapshot = (n => e => async t => { const a = r.collection("users").doc(c.uid).collection("works").doc(n).collection("changes").doc(e).collection("snapshots").doc(t); return b(await (D = a, D.get({ source: "cache" }).catch(n => D.get({ source: "server" })))) }), n.onSnapshotContents = (n => e => () => { let t = !1; return S(format.spaceId, n.formatId).get(options).then(n => { const r = n.docs[0], a = async n => { const t = await E(n, r); e(t)() }; t || r.ref.collection("items").onSnapshot(i, a) }), () => { t = !0 } }), n.applySpaceMembership = (n => { const e = { spaceId: n }; return functions.httpsCallable("applySpaceMembership")(e).then(M) }), n.acceptSpaceMembership = (n => e => { const t = { spaceId: n, userId: e }; return functions.httpsCallable("acceptSpaceMembership")(t).then(M) }), n.rejectSpaceMembership = (n => e => { const t = { spaceId: n, userId: e }; return functions.httpsCallable("rejectSpaceMembership")(t).then(M) }), n.setSpaceMembershipMethod = (n => e => { const t = { spaceId: n, membershipMethod: e }; return functions.httpsCallable("setSpaceMembershipMethod")(t).then(M) }), n.setContentGenerator = (n => e => { const t = { formatId: n, generator: e }; return functions.httpsCallable("setContentGenerator")(t).then(M) }), n.setReactorDefinitionId = (n => e => { const t = { formatId: n, definitionId: e }; return functions.httpsCallable("setReactorDefinitionId")(t).then(M) }), n.getReactor = (n => async e => { return function (n) { const e = n.data(); return e.formatId = n.id, e }(await r.collection("reactors").doc(n).get(e)) }), n.onLoadContentBySemanticId = (n => e => t => () => { !async function () { const a = r.collection("formats").doc(n), o = await a.get(), u = o.data(), i = await I(u.spaceId, n, options), c = await i.ref.collection("items").where("data." + u.semanticId, "==", e).get(); if (!c.empty) { const n = c.docs[0], e = p(n, o, await a.collection("structures").doc(n.data().structureId).get(), i); t(e)() } const l = await functions.httpsCallable("getContentBySemanticId")({ formatId: n, semanticId: e }).then(M), f = p({ id: l.contentId, data: () => l }, o, await a.collection("structures").doc(l.structureId).get(), i); t(f)() }() }), n.getContentsByReactor = (async n => { const e = (await r.collection("formats").doc(n.formatId).get()).data(), t = await I(e.spaceId, n.formatId, o), a = (await functions.httpsCallable("getContentsByReactor")(n).then(M)).map(n => ({ id: null, data: () => n })); return await E({ docs: a }, t) }), n.updateFormatStructure = (n => e => { const t = { formatId: n, properties: e }; return functions.httpsCallable("updateFormatStructure")(t).then(M) }), n.getCrawlers = (n => async e => { return (await r.collection("crawlers").where("spaceId", "==", n).get(e)).docs.map(A) }), n.getCrawlerOperations = (n => async e => { return (await r.collection("crawlers").doc(n).collection("crawlerOperations").orderBy("createdAt", "desc").get(e)).docs.map(e => (function (n, e) { const t = e.data(); return t.crawlerId = n, t.operationId = e.id, t })(n, e)) }), n.getCrawlerCaches = (n => async e => { return (await r.collection("crawlers").doc(n).collection("crawlerCaches").get(e)).docs.map(e => (function (n, e) { const t = e.data(); return t.crawlerId = n, t.cacheId = e.id, t })(n, e)) }), n.onSnapshotCrawlerTasks = (n => e => t => () => { return r.collection("crawlers").doc(n).collection("crawlerOperations").doc(e).collection("crawlerTasks").orderBy("createdAt", "desc").onSnapshot(i, async r => { const a = r.docs.map(t => (function (n, e, t) { const r = t.data(); return r.taskId = t.id, r.crawlerId = n, r.oprationId = e, r })(n, e, t)); t(a)() }) }), n.getCrawler = (n => async e => { return A(await r.collection("crawlers").doc(n).get(e)) }), n.applyFirestoreCondition = (n => e => { function t(n, e) { const t = function (n, e) { let t = n; return e.split(".").forEach(n => { t = t[n] }), t }(n, e.fieldPath); switch (e.opStr) { case "==": return t == e.value; case "!=": return t != e.value; case "<=": return t <= e.value; case "<": return t < e.value; case ">=": return t >= e.value; case ">": return t > e.value; case "in": return e.value.includes(t); case "array-contains": return t.includes(e.value); case "array-contains-any": return e.value.map(n => t.includes(n)).includes(!0) }throw "opStr is invaild" } return e.filter(function (e) { for (const r in n.filters) if (!t(e, r)) return !1; return !0 }) }) }(PS["Incentknow.Api"] = PS["Incentknow.Api"] || {}), function (n) { "use strict"; n["Incentknow.Api"] = n["Incentknow.Api"] || {}; var e = n["Incentknow.Api"], t = n["Incentknow.Api"], r = { filters: [], orderBy: n["Data.Nullable"].null }; e.defaultCondition = r, e.applyFirestoreCondition = t.applyFirestoreCondition, e.defaultIconUrl = t.defaultIconUrl, e.getCurrentUserId = t.getCurrentUserId, e.showError = t.showError, e.onSnapshotWork = t.onSnapshotWork, e.onSnapshotAccount = t.onSnapshotAccount, e.onSnapshotSpace = t.onSnapshotSpace, e.onSnapshotContent = t.onSnapshotContent, e.onSnapshotContents = t.onSnapshotContents, e.onSnapshotSnapshots = t.onSnapshotSnapshots, e.onSnapshotCrawlerTasks = t.onSnapshotCrawlerTasks, e.getContentsByReactor = t.getContentsByReactor, e.getCrawler = t.getCrawler, e.getReactor = t.getReactor, e.getPublishedSpaces = t.getPublishedSpaces, e.getFormat = t.getFormat, e.getSpace = t.getSpace, e.getUser = t.getUser, e.getContent = t.getContent, e.getCrawlers = t.getCrawlers, e.getCrawlerOperations = t.getCrawlerOperations, e.getCrawlerCaches = t.getCrawlerCaches, e.getAllSpaceContents = t.getAllSpaceContents, e.getSnapshot = t.getSnapshot, e.getContents = t.getContents, e.getContentsByFormat = t.getContentsByFormat, e.getFormats = t.getFormats, e.getSpaceMembers = t.getSpaceMembers, e.getFormatStructures = t.getFormatStructures, e.getMySpaces = t.getMySpaces, e.onLoadContentBySemanticId = t.onLoadContentBySemanticId, e.createContent = t.createContent, e.commitContent = t.commitContent, e.writeContentWork = t.writeContentWork, e.updateBlankWork = t.updateBlankWork, e.createBlankWork = t.createBlankWork, e.getMyWorks = t.getMyWorks, e.register = t.register, e.login = t.login, e.logout = t.logout, e.setMyDisplayName = t.setMyDisplayName, e.setMyIcon = t.setMyIcon, e.setMyPassword = t.setMyPassword, e.setMyEmail = t.setMyEmail, e.createSpace = t.createSpace, e.setSpaceDisplayName = t.setSpaceDisplayName, e.setSpaceHomeImage = t.setSpaceHomeImage, e.setSpacePublished = t.setSpacePublished, e.setSpaceDisplayId = t.setSpaceDisplayId, e.setSpaceAuthority = t.setSpaceAuthority, e.checkSpaceDisplayId = t.checkSpaceDisplayId, e.applySpaceMembership = t.applySpaceMembership, e.acceptSpaceMembership = t.acceptSpaceMembership, e.rejectSpaceMembership = t.rejectSpaceMembership, e.setSpaceMembershipMethod = t.setSpaceMembershipMethod, e.createFormat = t.createFormat, e.setFormatContentPage = t.setFormatContentPage, e.setFormatCollectionPage = t.setFormatCollectionPage, e.setContentGenerator = t.setContentGenerator, e.setReactorDefinitionId = t.setReactorDefinitionId, e.updateFormatStructure = t.updateFormatStructure, e.createCrawler = t.createCrawler, e.runCrawler = t.runCrawler }(PS), (PS["Incentknow.Api.Execution"] = PS["Incentknow.Api.Execution"] || {}).toCallbackApi = (n => e => () => { async function t(t) { try { const r = await n({ source: t }); e({ data: r, error: null, source: t })() } catch (n) { e({ data: null, error: n, source: t })() } } Promise.all[(t("cache"), t("server"))] }), function (n) { "use strict"; n["Type.Equality"] = n["Type.Equality"] || {}; var e = n["Type.Equality"], t = new function (n, e) { this.from = n, this.to = e }(function (n) { return n }, function (n) { return n }); e.from = function (n) { return n.from }, e.refl = t }(PS), function (n) { "use strict"; n["Web.UIEvent.MouseEvent"] = n["Web.UIEvent.MouseEvent"] || {}; var e = n["Web.UIEvent.MouseEvent"], t = n["Unsafe.Coerce"].unsafeCoerce; e.toEvent = t }(PS), function (n) { "use strict"; n["Incentknow.AppM"] = n["Incentknow.AppM"] || {}; var e = n["Incentknow.AppM"], t = n["Control.Bind"], r = n["Control.Monad.Reader.Class"], a = n["Control.Monad.Reader.Trans"], o = n["Control.Monad.Trans.Class"], u = n["Effect.Aff"], i = n["Effect.Aff.AVar"], c = n["Effect.Aff.Class"], l = n["Effect.Class"], f = n["Effect.Console"], s = n["Halogen.Query.HalogenM"], d = n["Type.Equality"], p = n["Web.Event.Event"], v = n["Web.UIEvent.MouseEvent"], m = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), g = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), w = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), y = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), h = function () { function n() { } return n.value = new n, n }(), b = function () { function n() { } return n.value = new n, n }(), M = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), S = function () { function n() { } return n.value = new n, n }(), I = function (n, e, t, r, a, o, u) { this.MonadEffect0 = n, this.message = e, this.navigate = t, this.pushState = r, this.resetMessage = a, this.startLoading = o, this.stopLoading = u }, E = function (n) { return n.resetMessage }, C = function (n) { return n.pushState }, H = function (n) { return n.navigate }, D = a.monadEffectReader(u.monadEffectAff), A = a.monadReaderT(u.monadAff), k = function (n) { return new r.MonadAsk(function () { return A }, r.asks(a.monadAskReaderT(u.monadAff))(d.from(n))) }, F = c.monadAffReader(c.monadAffAff), P = function (n) { return n.message }, T = a.bindReaderT(u.bindAff), N = new I(function () { return D }, function (n) { return t.bind(T)(r.asks(k(d.refl))(function (n) { return n.globalMessage }))(function (e) { return c.liftAff(F)(i.put(new M(n))(e)) }) }, function (n) { return t.bind(T)(r.asks(k(d.refl))(function (n) { return n.globalMessage }))(function (e) { return t.discard(t.discardUnit)(T)(c.liftAff(F)(i.put(S.value)(e)))(function () { return c.liftAff(F)(i.put(new w(n))(e)) }) }) }, function (n) { return t.bind(T)(r.asks(k(d.refl))(function (n) { return n.globalMessage }))(function (e) { return t.discard(t.discardUnit)(T)(c.liftAff(F)(i.put(S.value)(e)))(function () { return c.liftAff(F)(i.put(new y(n))(e)) }) }) }, t.bind(T)(r.asks(k(d.refl))(function (n) { return n.globalMessage }))(function (n) { return c.liftAff(F)(i.put(S.value)(n)) }), t.discard(t.discardUnit)(T)(l.liftEffect(D)(f.log("start &&&&&&&&&&&&&&&&&&&&&&&&&&&&&")))(function () { return t.bind(T)(r.asks(k(d.refl))(function (n) { return n.globalMessage }))(function (n) { return c.liftAff(F)(i.put(h.value)(n)) }) }), t.discard(t.discardUnit)(T)(l.liftEffect(D)(f.log("stop!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!")))(function () { return t.bind(T)(r.asks(k(d.refl))(function (n) { return n.globalMessage }))(function (n) { return c.liftAff(F)(i.put(b.value)(n)) }) })); e.message = P, e.navigate = H, e.pushState = C, e.resetMessage = E, e.Error = m, e.Success = g, e.NavigateG = w, e.PushStateG = y, e.StartLoadingG = h, e.StopLoadingG = b, e.MessageG = M, e.ResetMesssageG = S, e.runAppM = function (n) { return function (e) { return a.runReaderT(e)(n) } }, e.navigateRoute = function (n) { return function (e) { return function (r) { return t.discard(t.discardUnit)(n.MonadEffect0().Monad0().Bind1())(l.liftEffect(n.MonadEffect0())(p.preventDefault(v.toEvent(e))))(function () { return H(n)(r) }) } } }, e.monadAffAppM = F, e.monadAskAppM = k, e.behaviourHalogenM = function (n) { return new I(function () { return s.monadEffectHalogenM(n.MonadEffect0()) }, (u = o.lift(s.monadTransHalogenM)(n.MonadEffect0().Monad0()), i = P(n), function (n) { return u(i(n)) }), (r = o.lift(s.monadTransHalogenM)(n.MonadEffect0().Monad0()), a = H(n), function (n) { return r(a(n)) }), (e = o.lift(s.monadTransHalogenM)(n.MonadEffect0().Monad0()), t = C(n), function (n) { return e(t(n)) }), o.lift(s.monadTransHalogenM)(n.MonadEffect0().Monad0())(E(n)), o.lift(s.monadTransHalogenM)(n.MonadEffect0().Monad0())(n.startLoading), o.lift(s.monadTransHalogenM)(n.MonadEffect0().Monad0())(function (n) { return n.stopLoading }(n))); var e, t, r, a, u, i }, e.behaviourAppM = N }(PS), function (n) { "use strict"; try { !!process.stderr } catch (n) { !1 } n.consoleLog = function (n) { return function () { console.log(n) } }, n.consoleError = function (n) { return function () { console.error(n) } } }(PS["Test.Unit.Console"] = PS["Test.Unit.Console"] || {}), function (n) { "use strict"; n["Test.Unit.Console"] = n["Test.Unit.Console"] || {}; var e = n["Test.Unit.Console"], t = n["Test.Unit.Console"]; e.consoleLog = t.consoleLog, e.consoleError = t.consoleError }(PS), function (n) { "use strict"; n["Incentknow.Api.Execution"] = n["Incentknow.Api.Execution"] || {}; var e, t, r = n["Incentknow.Api.Execution"], a = n["Incentknow.Api.Execution"], o = n["Control.Applicative"], u = n["Control.Bind"], i = n["Control.Promise"], c = n["Data.Either"], l = n["Data.Foldable"], f = n["Data.Functor"], s = n["Data.Maybe"], d = n["Data.Monoid"], p = n["Data.Nullable"], v = n["Data.Unit"], m = n.Effect, g = n["Effect.Aff"], w = n["Effect.Aff.Class"], y = n["Effect.Class"], h = n["Halogen.Query.EventSource"], b = n["Halogen.Query.HalogenM"], M = n["Incentknow.Api"], S = n["Incentknow.AppM"], I = n["Test.Unit.Console"], E = function () { function n() { } return n.value = new n, n }(), C = function () { function n() { } return n.value = new n, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), F = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), P = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), T = function (n) { if (n instanceof E) return s.Nothing.value; if (n instanceof C) return s.Nothing.value; if (n instanceof H) return new s.Just(n.value0); if (n instanceof D) return s.Nothing.value; throw new Error("Failed pattern match at Incentknow.Api.Execution (line 53, column 11 - line 57, column 23): " + [n.constructor.name]) }, N = new f.Functor(function (n) { return function (e) { if (e instanceof E) return E.value; if (e instanceof C) return C.value; if (e instanceof H) return H.create(n(e.value0)); if (e instanceof D) return new D(e.value0); throw new Error("Failed pattern match at Incentknow.Api.Execution (line 38, column 11 - line 42, column 31): " + [e.constructor.name]) } }), L = function (n) { return function (e) { return function (t) { if (e instanceof A) return t(new H(e.value0)); if (e instanceof k) return t(new H(e.value0)); if (e instanceof F) return t(C.value); if (e instanceof P) return u.discard(u.discardUnit)(n.MonadEffect0().Monad0().Bind1())(t(new D(e.value0)))(function () { return y.liftEffect(n.MonadEffect0())(I.consoleError("forFetch:" + e.value0)) }); throw new Error("Failed pattern match at Incentknow.Api.Execution (line 69, column 3 - line 75, column 57): " + [e.constructor.name]) } } }, x = function (n) { return function (e) { return function (t) { return u.bind(b.bindHalogenM)(b.subscribe(h.effectEventSource(n)(function (n) { return function () { var r = t(function (t) { return h.emit(n)(e(t)) })(); return d.mempty(d.monoidFn(m.monoidEffect(h.monoidFinalizer(m.applicativeEffect))))(r)() } })))(function () { return o.pure(b.applicativeHalogenM)(v.unit) }) } } }, U = (e = w.liftAff(w.monadAffAff), t = f.map(g.functorAff)(c.either(function (n) { return c.Left.create(M.showError(n)) })(c.Right.create)), function (n) { return e(t(g.attempt(i.toAff(n)))) }); r.callApi = U, r.Loading = E, r.LoadingForServer = C, r.Holding = H, r.Missing = D, r.FromCache = A, r.FromServer = k, r.toMaybe = T, r.forFetch = L, r.forFetchItem = function (n) { return function (e) { return function (t) { return L(n)(e)(function (e) { return l.for_(n.MonadEffect0().Monad0().Applicative0())(l.foldableMaybe)(T(e))(function (n) { return t(n) }) }) } } }, r.fetchApi = function (n) { return function (e) { return function (t) { return x(n)(function (n) { return e((t = n, r = p.toMaybe(t.error), a = p.toMaybe(t.data), "cache" === t.source && a instanceof s.Just && r instanceof s.Nothing ? new A(a.value0) : "server" === t.source && a instanceof s.Just && r instanceof s.Nothing ? new k(a.value0) : "cache" === t.source && a instanceof s.Nothing && r instanceof s.Just ? new F(r.value0) : "server" === t.source && a instanceof s.Nothing && r instanceof s.Just ? new P(r.value0) : new P(""))); var t, r, a })(a.toCallbackApi(t)) } } }, r.executeApi = function (n) { return function (e) { return function (t) { return u.bind(n.MonadEffect0().Monad0().Bind1())(w.liftAff(e)(U(t)))(function (e) { if (e instanceof c.Right) return o.pure(n.MonadEffect0().Monad0().Applicative0())(new s.Just(e.value0)); if (e instanceof c.Left) return u.discard(u.discardUnit)(n.MonadEffect0().Monad0().Bind1())(S.message(n)(new S.Error(e.value0)))(function () { return o.pure(n.MonadEffect0().Monad0().Applicative0())(s.Nothing.value) }); throw new Error("Failed pattern match at Incentknow.Api.Execution (line 97, column 3 - line 101, column 19): " + [e.constructor.name]) }) } } }, r.subscribeApi = function (n) { return function (e) { return function (t) { return b.subscribe(h.effectEventSource(n)(function (n) { return function () { var r = t(function (t) { return h.emit(n)(e(t)) })(); return d.mempty(d.monoidFn(m.monoidEffect(h.monoidFinalizer(m.applicativeEffect))))(r)() } })) } } }, r.callbackApi = x, r.functorRemote = N }(PS), function (n) { "use strict"; n.copyRecord = function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e }, n.unsafeInsert = function (n) { return function (e) { return function (t) { return t[n] = e, t } } } }(PS["Record.Builder"] = PS["Record.Builder"] || {}), function (n) { "use strict"; n["Record.Builder"] = n["Record.Builder"] || {}; var e = n["Record.Builder"], t = n["Record.Builder"], r = n["Control.Category"], a = n["Control.Semigroupoid"], o = n["Data.Symbol"], u = a.semigroupoidFn, i = r.categoryFn; e.build = function (n) { return function (e) { return n(t.copyRecord(e)) } }, e.insert = function (n) { return function (n) { return function (n) { return function (e) { return function (r) { return function (a) { return t.unsafeInsert(o.reflectSymbol(n)(e))(r)(a) } } } } } }, e.semigroupoidBuilder = u, e.categoryBuilder = i }(PS), function (n) { "use strict"; n["Simple.JSON"] = n["Simple.JSON"] || {}; var e = n["Simple.JSON"], t = n["Control.Applicative"], r = n["Control.Apply"], a = n["Control.Bind"], o = n["Control.Category"], u = n["Control.Monad.Except"], i = n["Control.Monad.Except.Trans"], c = n["Control.Semigroupoid"], l = n["Data.Either"], f = n["Data.Function"], s = n["Data.Functor"], d = n["Data.Identity"], p = n["Data.List.Types"], v = n["Data.Maybe"], m = n["Data.Nullable"], g = n["Data.Semigroup"], w = n["Data.Symbol"], y = n["Data.Traversable"], h = n["Data.TraversableWithIndex"], b = n.Foreign, M = n["Foreign.Index"], S = n.Record, I = n["Record.Builder"], E = n["Type.Data.RowList"], C = function (n) { this.writeImplFields = n }, H = function (n) { this.writeImpl = n }, D = function (n) { this.getFields = n }, A = function (n) { this.readImpl = n }, k = function (n) { return n.writeImplFields }, F = function (n) { return n.writeImpl }, P = new H(b.unsafeToForeign), T = new H(o.identity(o.categoryFn)), N = new H(b.unsafeToForeign), L = new A(b.readString), x = function (n) { return n.readImpl }, U = new A(t.pure(i.applicativeExceptT(d.monadIdentity))), J = new D(function (n) { return function (n) { return t.pure(i.applicativeExceptT(d.monadIdentity))(o.identity(I.categoryBuilder)) } }), O = new A(b.readBoolean), R = new C(function (n) { return function (n) { return o.identity(I.categoryBuilder) } }), _ = function (n) { return n.getFields }, q = function (n) { return function (e) { return function (t) { return function (a) { return i.ExceptT(r.apply(e.Apply0())(s.map(e.Apply0().Functor0())(function (n) { return function (e) { return function (t) { if (e instanceof l.Left && t instanceof l.Right) return new l.Left(e.value0); if (e instanceof l.Left && t instanceof l.Left) return new l.Left(g.append(n)(e.value0)(t.value0)); if (e instanceof l.Right && t instanceof l.Left) return new l.Left(t.value0); if (e instanceof l.Right && t instanceof l.Right) return new l.Right(e.value0(t.value0)); throw new Error("Failed pattern match at Simple.JSON (line 234, column 1 - line 234, column 90): " + [e.constructor.name, t.constructor.name]) } } }(n))(i.runExceptT(t)))(i.runExceptT(a))) } } } }; e.ReadForeign = A, e.readImpl = x, e.WriteForeign = H, e.writeImpl = F, e.readForeign = U, e.readString = L, e.readBoolean = O, e.readArray = function (n) { return new A(a.composeKleisliFlipped(i.bindExceptT(d.monadIdentity))(h.traverseWithIndex(h.traversableWithIndexArray)(i.applicativeExceptT(d.monadIdentity))(function (e) { return function (t) { return u.withExcept(s.map(p.functorNonEmptyList)(b.ErrorAtIndex.create(e)))(x(n)(t)) } }))(b.readArray)) }, e.readNullable = function (n) { return new A(function (e) { return u.withExcept(s.map(p.functorNonEmptyList)(function (n) { return n instanceof b.TypeMismatch ? new b.TypeMismatch("Nullable " + n.value0, n.value1) : n }))(a.bindFlipped(i.bindExceptT(d.monadIdentity))(s.map(s.functorFn)(s.map(i.functorExceptT(d.functorIdentity))(m.toNullable))(y.traverse(y.traversableMaybe)(i.applicativeExceptT(d.monadIdentity))(x(n))))(b.readNull(e))) }) }, e.readRecord = function (n) { return function (n) { return new A(function (e) { return s.map(i.functorExceptT(d.functorIdentity))(f.flip(I.build)({}))(_(n)(E.RLProxy.value)(e)) }) } }, e.readFieldsCons = function (n) { return function (e) { return function (r) { return function (o) { return function (o) { return new D(function (o) { return function (o) { var l = _(r)(E.RLProxy.value)(o), f = w.reflectSymbol(n)(w.SProxy.value), v = u.withExcept(s.map(p.functorNonEmptyList)(b.ErrorAtProperty.create(f))), m = a.bind(i.bindExceptT(d.monadIdentity))(v(a.bindFlipped(i.bindExceptT(d.monadIdentity))(x(e))(M.readProp(f)(o))))(function (e) { return t.pure(i.applicativeExceptT(d.monadIdentity))(I.insert()()(n)(w.SProxy.value)(e)) }); return q(p.semigroupNonEmptyList)(d.applicativeIdentity)(s.map(i.functorExceptT(d.functorIdentity))(c.compose(I.semigroupoidBuilder))(m))(l) } }) } } } } }, e.readFieldsNil = J, e.writeForeignForeign = T, e.writeForeignString = P, e.writeForeignBoolean = N, e.writeForeignArray = function (n) { return new H(function (e) { return b.unsafeToForeign(s.map(s.functorArray)(F(n))(e)) }) }, e.writeForeignNullable = function (n) { return new H((e = v.maybe(b.unsafeToForeign(m.toNullable(v.Nothing.value)))(F(n)), function (n) { return e(m.toMaybe(n)) })); var e }, e.recordWriteForeign = function (n) { return function (n) { return new H(function (e) { var t = k(n)(E.RLProxy.value)(e); return b.unsafeToForeign(I.build(t)({})) }) } }, e.consWriteForeignFields = function (n) { return function (e) { return function (t) { return function (r) { return function (r) { return function (r) { return new C(function (r) { return function (r) { var a = k(t)(E.RLProxy.value)(r), o = F(e)(S.get(n)()(w.SProxy.value)(r)); return c.compose(I.semigroupoidBuilder)(I.insert()()(n)(w.SProxy.value)(o))(a) } }) } } } } } }, e.nilWriteForeignFields = R }(PS), function (n) { "use strict"; n["Incentknow.Data.Ids"] = n["Incentknow.Data.Ids"] || {}; var e, t, r, a = n["Incentknow.Data.Ids"], o = n["Control.Applicative"], u = n["Control.Bind"], i = n["Control.Monad.Except.Trans"], c = n["Data.Array"], l = n["Data.Eq"], f = n["Data.Function"], s = n["Data.Functor"], d = n["Data.Identity"], p = n["Data.Maybe"], v = n["Data.Newtype"], m = n["Data.Ord"], g = n["Data.String.CodePoints"], w = n["Data.String.CodeUnits"], y = n["Data.Traversable"], h = n["Effect.Class"], b = n["Effect.Random"], M = n.Foreign, S = n["Simple.JSON"], I = function (n) { return n }, E = function (n) { return n }, C = function (n) { return n }, H = function (n) { return n }, D = function (n) { return n }, A = function (n) { return n }, k = function (n) { return n }, F = function (n) { return n }, P = function (n) { return n }, T = new v.Newtype(function (n) { return n }, I), N = new v.Newtype(function (n) { return n }, E), L = new v.Newtype(function (n) { return n }, C), x = new v.Newtype(function (n) { return n }, function (n) { return n }), U = new v.Newtype(function (n) { return n }, H), J = new v.Newtype(function (n) { return n }, D), O = new v.Newtype(function (n) { return n }, A), R = new S.ReadForeign((e = s.map(i.functorExceptT(d.functorIdentity))(v.wrap(O)), function (n) { return e(M.readString(n)) })), _ = new S.WriteForeign((t = S.writeImpl(S.writeForeignString), r = v.unwrap(O), function (n) { return t(r(n)) })), q = new v.Newtype(function (n) { return n }, k), W = new v.Newtype(function (n) { return n }, F), B = new v.Newtype(function (n) { return n }, P), Q = new l.Eq(function (n) { return function (e) { return n === e } }), z = new l.Eq(function (n) { return function (e) { return n === e } }), V = new l.Eq(function (n) { return function (e) { return n === e } }), j = new l.Eq(function (n) { return function (e) { return n === e } }), G = new l.Eq(function (n) { return function (e) { return n === e } }), K = new l.Eq(function (n) { return function (e) { return n === e } }), X = new l.Eq(function (n) { return function (e) { return n === e } }), Z = new m.Ord(function () { return X }, function (n) { return function (e) { return m.compare(m.ordString)(n)(e) } }), Y = new l.Eq(function (n) { return function (e) { return n === e } }), $ = new l.Eq(function (n) { return function (e) { return n === e } }), nn = new m.Ord(function () { return $ }, function (n) { return function (e) { return m.compare(m.ordString)(n)(e) } }), en = new l.Eq(function (n) { return function (e) { return n === e } }); a.ContentId = F, a.SpaceId = C, a.FormatId = A, a.UserId = E, a.CrawlerId = k, a.OperationId = D, a.SemanticId = H, a.WorkId = I, a.ChangeId = P, a.generateId = function (n) { return function (e) { return u.bind(n.Monad0().Bind1())(y.for(n.Monad0().Applicative0())(y.traversableArray)(c.range(1)(e))(function (e) { return h.liftEffect(n)(b.randomInt(0)(g.length("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789") - 1 | 0)) }))(function (e) { return o.pure(n.Monad0().Applicative0())(w.fromCharArray(s.map(s.functorArray)((t = p.fromMaybe("a"), r = f.flip(w.charAt)("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"), function (n) { return t(r(n)) }))(e))); var t, r }) } }, a.eqWorkId = Q, a.eqSnapshotId = j, a.eqChangeId = en, a.newtypeWorkId = T, a.newtypeChangeId = B, a.newtypeSnapshotId = x, a.readForeignFormatId = R, a.writeForeignFormatId = _, a.eqContentId = $, a.eqSpaceId = V, a.eqFormatId = X, a.eqUserId = z, a.eqCrawlerId = Y, a.eqOperationId = K, a.eqSemanticId = G, a.ordFormatId = Z, a.ordContentId = nn, a.newtypeContentId = W, a.newtypeSpaceId = L, a.newtypeFormatId = O, a.newtypeUserId = N, a.newtypeCrawlerId = q, a.newtypeOperationId = J, a.newtypeSemanticId = U }(PS), function (n) { "use strict"; n["Routing.Match.Error"] = n["Routing.Match.Error"] || {}; var e = n["Routing.Match.Error"], t = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), r = function () { function n() { } return n.value = new n, n }(), a = function () { function n() { } return n.value = new n, n }(), o = function () { function n() { } return n.value = new n, n }(), u = function () { function n() { } return n.value = new n, n }(), i = function () { function n() { } return n.value = new n, n }(), c = function () { function n() { } return n.value = new n, n }(), l = function () { function n() { } return n.value = new n, n }(), f = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), s = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(); e.UnexpectedPath = t, e.ExpectedEnd = a, e.ExpectedInt = u, e.ExpectedString = i, e.ExpectedPathPart = l, e.showMatchError = function (n) { if (n instanceof t) return "expected path part: " + n.value0; if (n instanceof f) return "key: " + n.value0 + " has not found in query part"; if (n instanceof c) return "expected query - found path"; if (n instanceof o) return "expected number"; if (n instanceof u) return "expected int"; if (n instanceof r) return "expected boolean"; if (n instanceof a) return "expected end"; if (n instanceof i) return "expected string var"; if (n instanceof l) return "expected path part, found query"; if (n instanceof s) return "match error: " + n.value0; throw new Error("Failed pattern match at Routing.Match.Error (line 29, column 3 - line 39, column 39): " + [n.constructor.name]) } }(PS), function (n) { "use strict"; n["Routing.Types"] = n["Routing.Types"] || {}; var e = n["Routing.Types"], t = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), r = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(); e.Path = t, e.Query = r }(PS), function (n) { "use strict"; n["Routing.Match"] = n["Routing.Match"] || {}; var e = n["Routing.Match"], t = n["Control.Alt"], r = n["Control.Applicative"], a = n["Control.Apply"], o = n["Control.Bind"], u = n["Control.Category"], i = n["Control.Plus"], c = n["Data.Either"], l = n["Data.Foldable"], f = n["Data.Function"], s = n["Data.Functor"], d = n["Data.Int"], p = n["Data.List"], v = n["Data.List.Types"], m = n["Data.Maybe"], g = n["Data.Newtype"], w = n["Data.Semiring"], y = n["Data.Semiring.Free"], h = n["Data.Tuple"], b = n["Data.Unit"], M = n["Data.Validation.Semiring"], S = n["Routing.Match.Error"], I = n["Routing.Types"], E = function (n) { return n }, C = new s.Functor(function (n) { return function (e) { return E(function (t) { return M.unV(M.invalid)(function (e) { return r.pure(M.applicativeV(y.semiringFree))(new h.Tuple(e.value0, n(e.value1))) })(e(t)) }) } }), H = new a.Apply(function () { return C }, function (n) { return function (e) { var t = function (n) { return M.unV(M.invalid)(function (e) { return r.pure(M.applicativeV(y.semiringFree))(new h.Tuple(e.value0, n.value1(e.value1))) })(e(n.value0)) }; return E(function (r) { return M.unV(function (n) { return function (t) { return M.invalid(w.mul(y.semiringFree)(t)(M.unV(u.identity(u.categoryFn))(f.const(w.one(y.semiringFree)))(e(n)))) } }(r))(t)(n(r)) }) } }), D = new t.Alt(function () { return C }, function (n) { return function (e) { return E(function (r) { return t.alt(M.altV(y.semiringFree))(n(r))(e(r)) }) } }), A = new i.Plus(function () { return D }, E(f.const(M.invalid(w.one(y.semiringFree))))), k = function (n) { return function (e) { return e instanceof v.Cons && e.value0 instanceof I.Path && e.value0.value0 === n ? r.pure(M.applicativeV(y.semiringFree))(new h.Tuple(e.value1, b.unit)) : e instanceof v.Cons && e.value0 instanceof I.Path ? M.invalid(y.free(new S.UnexpectedPath(n))) : M.invalid(y.free(S.ExpectedPathPart.value)) } }, F = k(""); e.root = F, e.lit = k, e.int = function (n) { if (n instanceof v.Cons && n.value0 instanceof I.Path) { var e = d.fromString(n.value0.value0); if (e instanceof m.Nothing) return M.invalid(y.free(S.ExpectedInt.value)); if (e instanceof m.Just) return r.pure(M.applicativeV(y.semiringFree))(new h.Tuple(n.value1, e.value0)); throw new Error("Failed pattern match at Routing.Match (line 85, column 29 - line 87, column 38): " + [e.constructor.name]) } return M.invalid(y.free(S.ExpectedInt.value)) }, e.str = function (n) { return n instanceof v.Cons && n.value0 instanceof I.Path ? r.pure(M.applicativeV(y.semiringFree))(new h.Tuple(n.value1, n.value0.value0)) : M.invalid(y.free(S.ExpectedString.value)) }, e.end = function (n) { return n instanceof v.Nil ? r.pure(M.applicativeV(y.semiringFree))(new h.Tuple(v.Nil.value, b.unit)) : M.invalid(y.free(S.ExpectedEnd.value)) }, e.runMatch = function (n) { return function (e) { return M.unV(function (n) { return c.Left.create(l.foldl(v.foldableList)(function (n) { return function (e) { return e + "\n" + n } })("")(o.bind(v.bindList)(s.map(v.functorList)(p.reverse)(g.unwrap(y.newtypeFree)(n)))(function (n) { return r.pure(v.applicativeList)(l.foldl(v.foldableList)(function (n) { return function (e) { return e + ";" + n } })("")(s.map(v.functorList)(S.showMatchError)(n))) }))) })(function (n) { return c.Right.create(h.snd(n)) })(n(e)) } }, e.matchFunctor = C, e.matchPlus = A, e.matchApply = H }(PS), function (n) { "use strict"; n["Routing.Parser"] = n["Routing.Parser"] || {}; var e = n["Routing.Parser"], t = n["Control.Apply"], r = n["Control.Bind"], a = n["Control.MonadZero"], o = n["Data.Array"], u = n["Data.Foldable"], i = n["Data.Function"], c = n["Data.Functor"], l = n["Data.List"], f = n["Data.List.Types"], s = n["Data.Map.Internal"], d = n["Data.Maybe"], p = n["Data.Ord"], v = n["Data.Semigroup"], m = n["Data.String.CodePoints"], g = n["Data.String.Common"], w = n["Data.Traversable"], y = n["Data.Tuple"], h = n["Routing.Types"]; e.parse = function (n) { return function (e) { var b = function (e) { var t = l.fromFoldable(u.foldableArray)(c.map(c.functorArray)(function (e) { return h.Path.create(n(e)) })(g.split("/")(e))), r = l.unsnoc(t); return r instanceof d.Just && r.value0.last instanceof h.Path && "" === r.value0.last.value0 ? r.value0.init : t }, M = c.map(d.functorMaybe)(i.flip(m.splitAt)(e))(m.indexOf("?")(e)); if (M instanceof d.Just) return v.append(f.semigroupList)(b(M.value0.before))(c.map(f.functorList)(h.Query.create)(l.fromFoldable(u.foldableMaybe)(function (n) { var e = c.map(d.functorMaybe)(s.fromFoldable(p.ordString)(u.foldableArray)), i = w.traverse(w.traversableArray)(d.applicativeMaybe)(function (e) { var u = c.map(c.functorArray)(n)(g.split("=")(e)); return r.discard(r.discardUnit)(d.bindMaybe)(a.guard(d.monadZeroMaybe)(o.length(u) <= 2))(function () { return t.apply(d.applyMaybe)(c.map(d.functorMaybe)(y.Tuple.create)(o.head(u)))(o.index(u)(1)) }) }), l = g.split("&"); return function (n) { return e(i(l(n))) } }(n)(m.drop(1)(M.value0.after))))); if (M instanceof d.Nothing) return b(e); throw new Error("Failed pattern match at Routing.Parser (line 32, column 3 - line 37, column 21): " + [M.constructor.name]) } } }(PS), function (n) { "use strict"; n.Routing = n.Routing || {}; var e, t = n.Routing, r = n["Global.Unsafe"], a = n["Routing.Match"], o = n["Routing.Parser"], u = (e = r.unsafeDecodeURIComponent, function (n) { var t = a.runMatch(n), r = o.parse(e); return function (n) { return t(r(n)) } }); t.match = u }(PS), function (n) { "use strict"; n["Incentknow.Route"] = n["Incentknow.Route"] || {}; var e, t, r, a, o, u, i, c, l, f = n["Incentknow.Route"], s = n["Control.Applicative"], d = n["Control.Apply"], p = n["Data.Array"], v = n["Data.Either"], m = n["Data.Eq"], g = n["Data.Foldable"], w = n["Data.Function"], y = n["Data.Functor"], h = n["Data.List"], b = n["Data.List.Types"], M = n["Data.Map.Internal"], S = n["Data.Maybe"], I = n["Data.Newtype"], E = n["Data.Ord"], C = n["Data.Semigroup"], H = n["Data.Semiring.Free"], D = n["Data.Show"], A = n["Data.String.Common"], k = n["Data.Tuple"], F = n["Data.Unfoldable"], P = n["Data.Validation.Semiring"], T = n["Incentknow.Data.Ids"], N = n.Routing, L = n["Routing.Match"], x = n["Routing.Types"], U = function () { function n() { } return n.value = new n, n }(), J = function () { function n() { } return n.value = new n, n }(), O = function () { function n() { } return n.value = new n, n }(), R = function () { function n() { } return n.value = new n, n }(), _ = function () { function n() { } return n.value = new n, n }(), q = function () { function n() { } return n.value = new n, n }(), W = function () { function n() { } return n.value = new n, n }(), B = function () { function n() { } return n.value = new n, n }(), Q = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), z = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), V = function () { function n() { } return n.value = new n, n }(), j = function () { function n() { } return n.value = new n, n }(), G = function () { function n() { } return n.value = new n, n }(), K = function () { function n() { } return n.value = new n, n }(), X = function () { function n() { } return n.value = new n, n }(), Z = function () { function n() { } return n.value = new n, n }(), Y = function () { function n() { } return n.value = new n, n }(), $ = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), nn = function () { function n() { } return n.value = new n, n }(), en = function () { function n() { } return n.value = new n, n }(), tn = function () { function n() { } return n.value = new n, n }(), rn = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), an = function () { function n() { } return n.value = new n, n }(), on = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), un = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), cn = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), ln = function () { function n() { } return n.value = new n, n }(), fn = function () { function n(n, e, t) { this.value0 = n, this.value1 = e, this.value2 = t } return n.create = function (e) { return function (t) { return function (r) { return new n(e, t, r) } } }, n }(), sn = function () { function n(n, e, t) { this.value0 = n, this.value1 = e, this.value2 = t } return n.create = function (e) { return function (t) { return function (r) { return new n(e, t, r) } } }, n }(), dn = function () { function n() { } return n.value = new n, n }(), pn = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), vn = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), mn = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), gn = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), wn = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), yn = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), hn = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), bn = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), Mn = function () { function n(n, e, t) { this.value0 = n, this.value1 = e, this.value2 = t } return n.create = function (e) { return function (t) { return function (r) { return new n(e, t, r) } } }, n }(), Sn = function () { function n() { } return n.value = new n, n }(), In = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), En = function () { function n() { } return n.value = new n, n }(), Cn = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), Hn = function () { function n() { } return n.value = new n, n }(), Dn = function () { function n() { } return n.value = new n, n }(), An = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), kn = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), Fn = function (n) { var e = h.fromFoldable(g.foldableArray)(A.split("-")(n)); return e instanceof b.Cons && e.value1 instanceof b.Nil ? new Q(I.wrap(T.newtypeSnapshotId)(e.value0)) : e instanceof b.Cons && e.value1 instanceof b.Cons && e.value1.value1 instanceof b.Nil ? new z(I.wrap(T.newtypeSnapshotId)(e.value0), I.wrap(T.newtypeSnapshotId)(e.value1.value0)) : new z(I.wrap(T.newtypeSnapshotId)(""), I.wrap(T.newtypeSnapshotId)("")) }, Pn = new D.Show(function (n) { if (n instanceof Q) return I.unwrap(T.newtypeSnapshotId)(n.value0); if (n instanceof z) return I.unwrap(T.newtypeSnapshotId)(n.value0) + "-" + I.unwrap(T.newtypeSnapshotId)(n.value1); throw new Error("Failed pattern match at Incentknow.Route (line 67, column 1 - line 69, column 64): " + [n.constructor.name]) }), Tn = (r = function (n) { if (n.value1 instanceof S.Nothing) return S.Nothing.value; if (n.value1 instanceof S.Just) return S.Just.create(n.value0 + "=" + n.value1.value0); throw new Error("Failed pattern match at Incentknow.Route (line 128, column 14 - line 130, column 59): " + [n.constructor.name]) }, a = p.fromFoldable(b.foldableList), o = function (n) { if (n instanceof b.Cons && n.value0 instanceof S.Just) return b.Cons.create(n.value0.value0)(o(n.value1)); if (n instanceof b.Cons && n.value0 instanceof S.Nothing) return o(n.value1); if (n instanceof b.Nil) return b.Nil.value; throw new Error("Failed pattern match at Incentknow.Route (line 122, column 16 - line 125, column 15): " + [n.constructor.name]) }, e = A.joinWith("&"), t = y.map(b.functorList)(r), u = function (n) { return e(a(o(t(n)))) }, i = p.toUnfoldable(b.unfoldableList), function (n) { return "" === (e = u(i(n))) ? "" : "?" + e; var e }), Nn = function (n) { return n instanceof b.Cons && n.value0 instanceof x.Query ? s.pure(P.applicativeV(H.semiringFree))(k.Tuple.create(n.value1)(M.toUnfoldable(F.unfoldableArray)(y.map(M.functorMap)(S.Just.create)(n.value0.value0)))) : s.pure(P.applicativeV(H.semiringFree))(new k.Tuple(n, [])) }, Ln = function (n) { return function (e) { if (e instanceof b.Cons && e.value0 instanceof x.Query) { var t = M.delete(E.ordString)(n)(e.value0.value0), r = M.lookup(E.ordString)(n)(e.value0.value0); return s.pure(P.applicativeV(H.semiringFree))(M.isEmpty(t) ? new k.Tuple(e.value1, r) : new k.Tuple(new b.Cons(new x.Query(t), e.value1), r)) } return s.pure(P.applicativeV(H.semiringFree))(new k.Tuple(e, S.Nothing.value)) } }, xn = (c = y.map(L.matchFunctor)(y.map(S.functorMaybe)(T.SpaceId))(Ln("space")), l = y.map(L.matchFunctor)(y.map(S.functorMaybe)(T.FormatId))(Ln("format")), d.applySecond(L.matchApply)(L.root)(g.oneOf(g.foldableArray)(L.matchPlus)([y.voidRight(L.matchFunctor)(en.value)(L.end), y.voidRight(L.matchFunctor)(tn.value)(d.applyFirst(L.matchApply)(L.lit("sign"))(L.end)), y.voidRight(L.matchFunctor)(dn.value)(d.applyFirst(L.matchApply)(L.lit("public"))(L.end)), y.map(L.matchFunctor)(w.flip(rn.create)(U.value))(y.map(L.matchFunctor)(T.UserId)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("users"))(L.str))(L.end))), y.map(L.matchFunctor)(w.flip(rn.create)(J.value))(y.map(L.matchFunctor)(T.UserId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("users"))(L.str))(L.lit("setting")))(L.end))), y.voidRight(L.matchFunctor)(ln.value)(d.applyFirst(L.matchApply)(L.lit("spaces"))(L.end)), y.map(L.matchFunctor)(pn.create)(y.map(L.matchFunctor)(T.SpaceId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("spaces"))(L.str))(L.lit("join")))(L.end))), y.voidRight(L.matchFunctor)(an.value)(d.applyFirst(L.matchApply)(L.lit("works"))(L.end)), d.apply(L.matchApply)(d.apply(L.matchApply)(y.map(L.matchFunctor)(Mn.create)(d.applySecond(L.matchApply)(L.lit("works"))(y.map(L.matchFunctor)(T.WorkId)(L.str))))(y.map(L.matchFunctor)(T.ChangeId)(L.str)))(d.applyFirst(L.matchApply)(y.map(L.matchFunctor)(Fn)(L.str))(L.end)), y.map(L.matchFunctor)(gn.create)(y.map(L.matchFunctor)(T.WorkId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("works"))(L.str))(L.lit("edit")))(L.end))), d.applyFirst(L.matchApply)(d.apply(L.matchApply)(y.map(L.matchFunctor)(vn.create)(d.applySecond(L.matchApply)(d.applyFirst(L.matchApply)(L.lit("contents"))(L.lit("new")))(c)))(l))(L.end), y.map(L.matchFunctor)(wn.create)(y.map(L.matchFunctor)(T.ContentId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("contents"))(L.str))(L.lit("edit")))(L.lit("scraper")))(L.end))), y.map(L.matchFunctor)(cn.create)(y.map(L.matchFunctor)(T.ContentId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("contents"))(L.str))(L.lit("edit")))(L.end))), y.map(L.matchFunctor)(on.create)(y.map(L.matchFunctor)(T.ContentId)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("contents"))(L.str))(L.end))), y.map(L.matchFunctor)(bn.create)(y.map(L.matchFunctor)(T.ContentId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("contents"))(L.str))(L.lit("rivisions")))(L.end))), d.apply(L.matchApply)(y.map(L.matchFunctor)(hn.create)(y.map(L.matchFunctor)(T.ContentId)(d.applySecond(L.matchApply)(L.lit("contents"))(L.str))))(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("rivisions"))(L.int))(L.end)), d.applyFirst(L.matchApply)(d.apply(L.matchApply)(y.map(L.matchFunctor)(un.create)(d.applySecond(L.matchApply)(L.lit("contents"))(y.map(L.matchFunctor)(T.FormatId)(L.str))))(y.map(L.matchFunctor)(T.SemanticId)(L.str)))(L.end), d.applyFirst(L.matchApply)(d.apply(L.matchApply)(d.apply(L.matchApply)(d.apply(L.matchApply)(y.voidRight(L.matchFunctor)(sn.create)(L.lit("contents")))(c))(l))(Nn))(L.end), y.map(L.matchFunctor)(w.flip(In.create)(V.value))(y.map(L.matchFunctor)(T.FormatId)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("formats"))(L.str))(L.end))), y.map(L.matchFunctor)(w.flip(In.create)(j.value))(y.map(L.matchFunctor)(T.FormatId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("formats"))(L.str))(L.lit("page")))(L.end))), y.map(L.matchFunctor)(w.flip(In.create)(G.value))(y.map(L.matchFunctor)(T.FormatId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("formats"))(L.str))(L.lit("versions")))(L.end))), y.map(L.matchFunctor)(w.flip(In.create)(K.value))(y.map(L.matchFunctor)(T.FormatId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("formats"))(L.str))(L.lit("setting")))(L.end))), y.map(L.matchFunctor)(w.flip(In.create)(X.value))(y.map(L.matchFunctor)(T.FormatId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("formats"))(L.str))(L.lit("reactor")))(L.end))), y.voidRight(L.matchFunctor)(Sn.value)(d.applyFirst(L.matchApply)(L.lit("spaces"))(L.lit("new"))), y.map(L.matchFunctor)(mn.create)(y.map(L.matchFunctor)(T.SpaceId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("spaces"))(L.str))(L.lit("formats")))(L.lit("new")))(L.end))), y.map(L.matchFunctor)(w.flip(yn.create)(O.value))(y.map(L.matchFunctor)(T.SpaceId)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("spaces"))(L.str))(L.end))), y.map(L.matchFunctor)(w.flip(yn.create)(R.value))(y.map(L.matchFunctor)(T.SpaceId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("spaces"))(L.str))(L.lit("contents")))(L.end))), y.map(L.matchFunctor)(w.flip(yn.create)(_.value))(y.map(L.matchFunctor)(T.SpaceId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("spaces"))(L.str))(L.lit("formats")))(L.end))), y.map(L.matchFunctor)(w.flip(yn.create)(q.value))(y.map(L.matchFunctor)(T.SpaceId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("spaces"))(L.str))(L.lit("members")))(L.end))), y.map(L.matchFunctor)(w.flip(yn.create)(B.value))(y.map(L.matchFunctor)(T.SpaceId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("spaces"))(L.str))(L.lit("setting")))(L.end))), d.apply(L.matchApply)(y.map(L.matchFunctor)(function (n) { return function (e) { return new fn(n, e, "") } })(d.applySecond(L.matchApply)(L.lit("spaces"))(y.map(L.matchFunctor)(T.SpaceId)(L.str))))(y.map(L.matchFunctor)(T.FormatId)(L.str)), d.apply(L.matchApply)(d.apply(L.matchApply)(y.map(L.matchFunctor)(fn.create)(d.applySecond(L.matchApply)(L.lit("spaces"))(y.map(L.matchFunctor)(T.SpaceId)(L.str))))(y.map(L.matchFunctor)(T.FormatId)(L.str)))(L.str), y.voidRight(L.matchFunctor)(Hn.value)(L.lit("not-found")), y.voidRight(L.matchFunctor)(En.value)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(L.lit("crawlers"))(L.lit("new")))(L.end)), y.map(L.matchFunctor)(w.flip(Cn.create)(Z.value))(y.map(L.matchFunctor)(T.CrawlerId)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("crawlers"))(L.str))(L.end))), y.map(L.matchFunctor)(w.flip(Cn.create)(Y.value))(y.map(L.matchFunctor)(T.CrawlerId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("crawlers"))(L.str))(L.lit("operations")))(L.end))), d.applyFirst(L.matchApply)(d.apply(L.matchApply)(y.map(L.matchFunctor)(Cn.create)(d.applySecond(L.matchApply)(L.lit("crawlers"))(y.map(L.matchFunctor)(T.CrawlerId)(L.str))))(d.applySecond(L.matchApply)(L.lit("operations"))(y.map(L.matchFunctor)(function (n) { return $.create(T.OperationId(n)) })(L.str))))(L.end), y.map(L.matchFunctor)(w.flip(Cn.create)(nn.value))(y.map(L.matchFunctor)(T.CrawlerId)(d.applyFirst(L.matchApply)(d.applyFirst(L.matchApply)(d.applySecond(L.matchApply)(L.lit("crawlers"))(L.str))(L.lit("caches")))(L.end)))]))), Un = new m.Eq(function (n) { return function (e) { return n instanceof U && e instanceof U || n instanceof J && e instanceof J } }), Jn = new m.Eq(function (n) { return function (e) { return n instanceof O && e instanceof O || (n instanceof R && e instanceof R || (n instanceof _ && e instanceof _ || (n instanceof q && e instanceof q || (n instanceof W && e instanceof W || n instanceof B && e instanceof B)))) } }), On = new m.Eq(function (n) { return function (e) { return n instanceof Q && e instanceof Q ? m.eq(T.eqSnapshotId)(n.value0)(e.value0) : n instanceof z && e instanceof z && (m.eq(T.eqSnapshotId)(n.value0)(e.value0) && m.eq(T.eqSnapshotId)(n.value1)(e.value1)) } }), Rn = new m.Eq(function (n) { return function (e) { return n instanceof V && e instanceof V || (n instanceof j && e instanceof j || (n instanceof G && e instanceof G || (n instanceof K && e instanceof K || n instanceof X && e instanceof X))) } }), _n = new m.Eq(function (n) { return function (e) { return n instanceof Z && e instanceof Z || (n instanceof Y && e instanceof Y || (n instanceof $ && e instanceof $ ? m.eq(T.eqOperationId)(n.value0)(e.value0) : n instanceof nn && e instanceof nn)) } }), qn = new m.Eq(function (n) { return function (e) { return n instanceof en && e instanceof en || (n instanceof tn && e instanceof tn || (n instanceof rn && e instanceof rn ? m.eq(T.eqUserId)(n.value0)(e.value0) && m.eq(Un)(n.value1)(e.value1) : n instanceof an && e instanceof an || (n instanceof on && e instanceof on ? m.eq(T.eqContentId)(n.value0)(e.value0) : n instanceof un && e instanceof un ? m.eq(T.eqFormatId)(n.value0)(e.value0) && m.eq(T.eqSemanticId)(n.value1)(e.value1) : n instanceof cn && e instanceof cn ? m.eq(T.eqContentId)(n.value0)(e.value0) : n instanceof ln && e instanceof ln || (n instanceof fn && e instanceof fn ? m.eq(T.eqSpaceId)(n.value0)(e.value0) && m.eq(T.eqFormatId)(n.value1)(e.value1) && n.value2 === e.value2 : n instanceof sn && e instanceof sn ? m.eq(S.eqMaybe(T.eqSpaceId))(n.value0)(e.value0) && m.eq(S.eqMaybe(T.eqFormatId))(n.value1)(e.value1) && m.eq(m.eqArray(k.eqTuple(m.eqString)(S.eqMaybe(m.eqString))))(n.value2)(e.value2) : n instanceof dn && e instanceof dn || (n instanceof pn && e instanceof pn ? m.eq(T.eqSpaceId)(n.value0)(e.value0) : n instanceof vn && e instanceof vn ? m.eq(S.eqMaybe(T.eqSpaceId))(n.value0)(e.value0) && m.eq(S.eqMaybe(T.eqFormatId))(n.value1)(e.value1) : n instanceof mn && e instanceof mn ? m.eq(T.eqSpaceId)(n.value0)(e.value0) : n instanceof gn && e instanceof gn ? m.eq(T.eqWorkId)(n.value0)(e.value0) : n instanceof wn && e instanceof wn ? m.eq(T.eqContentId)(n.value0)(e.value0) : n instanceof yn && e instanceof yn ? m.eq(T.eqSpaceId)(n.value0)(e.value0) && m.eq(Jn)(n.value1)(e.value1) : n instanceof hn && e instanceof hn ? m.eq(T.eqContentId)(n.value0)(e.value0) && n.value1 === e.value1 : n instanceof bn && e instanceof bn ? m.eq(T.eqContentId)(n.value0)(e.value0) : n instanceof Mn && e instanceof Mn ? m.eq(T.eqWorkId)(n.value0)(e.value0) && m.eq(T.eqChangeId)(n.value1)(e.value1) && m.eq(On)(n.value2)(e.value2) : n instanceof Sn && e instanceof Sn || (n instanceof In && e instanceof In ? m.eq(T.eqFormatId)(n.value0)(e.value0) && m.eq(Rn)(n.value1)(e.value1) : n instanceof En && e instanceof En || (n instanceof Cn && e instanceof Cn ? m.eq(T.eqCrawlerId)(n.value0)(e.value0) && m.eq(_n)(n.value1)(e.value1) : n instanceof Hn && e instanceof Hn))))))) } }), Wn = new m.Eq(function (n) { return function (n) { return !0 } }), Bn = new m.Eq(function (n) { return function (e) { return n instanceof An && e instanceof An ? m.eq(T.eqContentId)(n.value0)(e.value0) : n instanceof kn && e instanceof kn && (m.eq(T.eqFormatId)(n.value0)(e.value0) && m.eq(T.eqSemanticId)(n.value1)(e.value1)) } }); f.ContentSpecContentId = An, f.ContentSpecSemanticId = kn, f.FormatMain = V, f.FormatPage = j, f.FormatVersions = G, f.FormatSetting = K, f.FormatReactor = X, f.SpacePages = O, f.SpaceContents = R, f.SpaceFormats = _, f.SpaceMembers = q, f.SpaceCrawlers = W, f.SpaceSetting = B, f.CrawlerMain = Z, f.CrawlerOperations = Y, f.CrawlerOperation = $, f.CrawlerCaches = nn, f.UserMain = U, f.UserSetting = J, f.ContentMain = Dn, f.InitialSnapshot = Q, f.SnapshotDiff = z, f.Home = en, f.Sign = tn, f.User = rn, f.WorkList = an, f.Content = on, f.ContentBySemanticId = un, f.EditContent = cn, f.SpaceList = ln, f.Composition = fn, f.ContentList = sn, f.Public = dn, f.JoinSpace = pn, f.NewContent = vn, f.NewFormat = mn, f.EditWork = gn, f.EditScraper = wn, f.Space = yn, f.Rivision = hn, f.RivisionList = bn, f.Snapshot = Mn, f.NewSpace = Sn, f.Format = In, f.NewCrawler = En, f.Crawler = Cn, f.NotFound = Hn, f.routeToPath = function (n) { if (n instanceof en) return "/"; if (n instanceof tn) return "/sign"; if (n instanceof dn) return "/public"; if (n instanceof rn && n.value1 instanceof U) return "/users/" + I.unwrap(T.newtypeUserId)(n.value0); if (n instanceof rn && n.value1 instanceof J) return "/users/" + I.unwrap(T.newtypeUserId)(n.value0) + "/setting"; if (n instanceof on) return "/contents/" + I.unwrap(T.newtypeContentId)(n.value0); if (n instanceof cn) return "/contents/" + I.unwrap(T.newtypeContentId)(n.value0) + "/edit"; if (n instanceof hn) return "/contents/" + I.unwrap(T.newtypeContentId)(n.value0) + "/rivisions/" + D.show(D.showInt)(n.value1); if (n instanceof bn) return "/contents/" + I.unwrap(T.newtypeContentId)(n.value0) + "/rivisions"; if (n instanceof un) return "/contents/" + I.unwrap(T.newtypeFormatId)(n.value0) + "/" + I.unwrap(T.newtypeSemanticId)(n.value1); if (n instanceof an) return "/works"; if (n instanceof gn) return "/works/" + I.unwrap(T.newtypeWorkId)(n.value0) + "/edit"; if (n instanceof Mn) return "/works/" + I.unwrap(T.newtypeWorkId)(n.value0) + "/" + I.unwrap(T.newtypeChangeId)(n.value1) + "/" + D.show(Pn)(n.value2); if (n instanceof mn) return "/spaces/" + I.unwrap(T.newtypeSpaceId)(n.value0) + "/formats/new"; if (n instanceof vn) return "/contents/new" + Tn([k.Tuple.create("space")(y.map(S.functorMaybe)(I.unwrap(T.newtypeSpaceId))(n.value0)), k.Tuple.create("format")(y.map(S.functorMaybe)(I.unwrap(T.newtypeFormatId))(n.value1))]); if (n instanceof sn) return "/contents" + Tn(C.append(C.semigroupArray)([k.Tuple.create("space")(y.map(S.functorMaybe)(I.unwrap(T.newtypeSpaceId))(n.value0)), k.Tuple.create("format")(y.map(S.functorMaybe)(I.unwrap(T.newtypeFormatId))(n.value1))])(n.value2)); if (n instanceof fn) return "/spaces/" + I.unwrap(T.newtypeSpaceId)(n.value0) + "/" + I.unwrap(T.newtypeFormatId)(n.value1) + "/" + n.value2; if (n instanceof ln) return "/spaces"; if (n instanceof pn) return "/spaces/" + I.unwrap(T.newtypeSpaceId)(n.value0) + "/join"; if (n instanceof Sn) return "/spaces/new"; if (n instanceof wn) return "/contents/" + I.unwrap(T.newtypeContentId)(n.value0) + "/edit/scraper"; if (n instanceof yn && n.value1 instanceof O) return "/spaces/" + I.unwrap(T.newtypeSpaceId)(n.value0); if (n instanceof yn && n.value1 instanceof R) return "/spaces/" + I.unwrap(T.newtypeSpaceId)(n.value0) + "/contents"; if (n instanceof yn && n.value1 instanceof _) return "/spaces/" + I.unwrap(T.newtypeSpaceId)(n.value0) + "/formats"; if (n instanceof yn && n.value1 instanceof q) return "/spaces/" + I.unwrap(T.newtypeSpaceId)(n.value0) + "/members"; if (n instanceof yn && n.value1 instanceof W) return "/spaces/" + I.unwrap(T.newtypeSpaceId)(n.value0) + "/crawlers"; if (n instanceof yn && n.value1 instanceof B) return "/spaces/" + I.unwrap(T.newtypeSpaceId)(n.value0) + "/setting"; if (n instanceof In && n.value1 instanceof V) return "/formats/" + I.unwrap(T.newtypeFormatId)(n.value0); if (n instanceof In && n.value1 instanceof j) return "/formats/" + I.unwrap(T.newtypeFormatId)(n.value0) + "/page"; if (n instanceof In && n.value1 instanceof G) return "/formats/" + I.unwrap(T.newtypeFormatId)(n.value0) + "/versions"; if (n instanceof In && n.value1 instanceof K) return "/formats/" + I.unwrap(T.newtypeFormatId)(n.value0) + "/setting"; if (n instanceof In && n.value1 instanceof X) return "/formats/" + I.unwrap(T.newtypeFormatId)(n.value0) + "/reactor"; if (n instanceof En) return "/crawlers/new"; if (n instanceof Cn && n.value1 instanceof Z) return "/crawlers/" + I.unwrap(T.newtypeCrawlerId)(n.value0); if (n instanceof Cn && n.value1 instanceof Y) return "/crawlers/" + I.unwrap(T.newtypeCrawlerId)(n.value0) + "/operations"; if (n instanceof Cn && n.value1 instanceof $) return "/crawlers/" + I.unwrap(T.newtypeCrawlerId)(n.value0) + "/operations/" + I.unwrap(T.newtypeOperationId)(n.value1.value0); if (n instanceof Cn && n.value1 instanceof nn) return "/crawlers/" + I.unwrap(T.newtypeCrawlerId)(n.value0) + "/caches"; if (n instanceof Hn) return "/not-found"; throw new Error("Failed pattern match at Incentknow.Route (line 136, column 15 - line 180, column 27): " + [n.constructor.name]) }, f.pathToRoute = function (n) { var e = N.match(xn)(n); if (e instanceof v.Right) return e.value0; if (e instanceof v.Left) return Hn.value; throw new Error("Failed pattern match at Incentknow.Route (line 266, column 20 - line 268, column 21): " + [e.constructor.name]) }, f.eqContentSpec = Bn, f.eqFormatTab = Rn, f.eqSpaceTab = Jn, f.eqCrawlerTab = _n, f.eqUserTab = Un, f.eqContentTab = Wn, f.eqRoute = qn }(PS), function (n) { "use strict"; n["Incentknow.HTML.Utils"] = n["Incentknow.HTML.Utils"] || {}; var e = n["Incentknow.HTML.Utils"], t = n["Data.Maybe"], r = n["Data.Semigroup"], a = n["Data.Unit"], o = n["Halogen.HTML.Core"], u = n["Halogen.HTML.Elements"], i = n["Halogen.HTML.Events"], c = n["Halogen.HTML.Properties"], l = n["Incentknow.Route"]; e.css = function (n) { return c.class_(o.ClassName(n)) }, e.maybeElem = function (n) { return function (e) { return n instanceof t.Just ? e(n.value0) : o.text("") } }, e.whenElem = function (n) { return function (e) { return n ? e(a.unit) : o.text("") } }, e.link = function (n) { return function (e) { return function (a) { return u.a(r.append(r.semigroupArray)([i.onClick(function (r) { return t.Just.create(n(r)(e)) }), c.href(l.routeToPath(e))])(a)) } } }, e.link_ = function (n) { return function (e) { return u.a([i.onClick(function (r) { return t.Just.create(n(r)(e)) }), c.href(l.routeToPath(e))]) } } }(PS), function (n) { "use strict"; n["Incentknow.Atoms.Icon"] = n["Incentknow.Atoms.Icon"] || {}; var e = n["Incentknow.Atoms.Icon"], t = n["Halogen.HTML.Core"], r = n["Halogen.HTML.Elements"], a = n["Incentknow.Api.Execution"], o = n["Incentknow.HTML.Utils"]; e.loadingWith = function (n) { return r.div([o.css("atom-loading-icon")])([r.div([o.css("text")])([t.text(n)]), r.div([o.css("icon loaderCircle")])([])]) }, e.remoteWith = function (n) { return function (e) { if (n instanceof a.Loading) return t.text(""); if (n instanceof a.LoadingForServer) return r.div([o.css("atom-remote-loading")])([r.div([o.css("loaderNormal")])([])]); if (n instanceof a.Holding) return e(n.value0); if (n instanceof a.Missing) return t.text(n.value0); throw new Error("Failed pattern match at Incentknow.Atoms.Icon (line 24, column 26 - line 28, column 33): " + [n.constructor.name]) } } }(PS), function (n) { "use strict"; n["Incentknow.Atoms.Inputs"] = n["Incentknow.Atoms.Inputs"] || {}; var e = n["Incentknow.Atoms.Inputs"], t = n["DOM.HTML.Indexed.InputType"], r = n["Data.Int"], a = n["Data.Maybe"], o = n["Data.Show"], u = n["Data.String.Common"], i = n["Halogen.HTML.Core"], c = n["Halogen.HTML.Elements"], l = n["Halogen.HTML.Events"], f = n["Halogen.HTML.Properties"], s = n["Incentknow.Atoms.Icon"], d = n["Incentknow.HTML.Utils"]; e.submitButton = function (n) { return c.button([d.css("atom-submit-buttom"), f.disabled(n.isDisabled), l.onClick(function (e) { return new a.Just(n.onClick) })])([c.div([d.css("inner")])([n.isLoading ? s.loadingWith(n.text) : i.text(n.text)])]) }, e.menuPositiveButton = function (n) { return function (e) { return c.button([d.css("atom-positive-button"), l.onClick(function (n) { return new a.Just(e) })])([c.div([d.css("inner")])([i.text(n)])]) } }, e.menuNegativeButton = function (n) { return function (e) { return c.button([d.css("atom-negative-button"), l.onClick(function (n) { return new a.Just(e) })])([c.div([d.css("inner")])([i.text(n)])]) } }, e.button = function (n) { return function (e) { return c.button([d.css("atom-button"), l.onClick(function (n) { return new a.Just(e) })])([i.text(n)]) } }, e.dangerButton = function (n) { return function (e) { return c.button([d.css("atom-danger-button"), l.onClick(function (n) { return new a.Just(e) })])([i.text(n)]) } }, e.textarea = function (n) { var e, t, r = (e = u.replace("\n")(""), t = u.replace("\r")(""), function (n) { return e(t(n)) }); return c.textarea([d.css("atom-textarea"), f.spellcheck(!1), f.placeholder(n.placeholder), f.value(r(n.value)), l.onValueInput(function (e) { return a.Just.create(n.onChange(r(e))) })]) }, e.numberarea = function (n) { return c.textarea([d.css("atom-textarea"), f.spellcheck(!1), f.value(o.show(a.showMaybe(o.showInt))(n.value)), l.onValueChange(function (e) { if ("" === e) { var t = r.fromString(e); if (t instanceof a.Just) return a.Just.create(n.onChange(new a.Just(t.value0))); if (t instanceof a.Nothing) return a.Nothing.value; throw new Error("Failed pattern match at Incentknow.Atoms.Inputs (line 123, column 23 - line 125, column 25): " + [t.constructor.name]) } return a.Just.create(n.onChange(a.Nothing.value)) })]) }, e.checkbox = function (n) { return function (e) { return function (r) { return function (o) { return c.div([])([c.input([f.type_(i.isPropInputType)(t.InputCheckbox.value), f.checked(e), l.onChecked(function (n) { return a.Just.create(r(n)) }), f.disabled(o)]), i.text(n)]) } } } }, e.disabledCheckbox = function (n) { return function (e) { return c.div([])([c.input([f.type_(i.isPropInputType)(t.InputCheckbox.value), f.checked(e), f.disabled(!0)]), i.text(n)]) } } }(PS), function (n) { "use strict"; n["Incentknow.Atoms.Message"] = n["Incentknow.Atoms.Message"] || {}; var e = n["Incentknow.Atoms.Message"], t = n["Data.Eq"], r = n["Halogen.HTML.Core"], a = n["Halogen.HTML.Elements"], o = n["Incentknow.Atoms.Icon"], u = n["Incentknow.HTML.Utils"], i = function () { function n() { } return n.value = new n, n }(), c = function () { function n() { } return n.value = new n, n }(), l = function () { function n() { } return n.value = new n, n }(), f = function () { function n() { } return n.value = new n, n }(), s = function () { function n() { } return n.value = new n, n }(), d = new t.Eq(function (n) { return function (e) { return n instanceof i && e instanceof i || (n instanceof c && e instanceof c || (n instanceof l && e instanceof l || (n instanceof f && e instanceof f || n instanceof s && e instanceof s))) } }); e.error = function (n) { return a.div([u.css("atom-error")])([a.span_([r.text(n)])]) }, e.success = function (n) { return a.div([u.css("atom-success")])([a.span_([r.text(n)])]) }, e.HasNotChange = i, e.NotSaved = c, e.Saving = l, e.SavingButChanged = f, e.Saved = s, e.saveState = function (n) { return a.div([u.css("atom-save-state")])([function () { if (n instanceof i) return r.text("\u5909\u66f4\u306a\u3057"); if (n instanceof c) return o.loadingWith("\u4fdd\u5b58\u4e2d"); if (n instanceof l) return o.loadingWith("\u4fdd\u5b58\u4e2d"); if (n instanceof f) return o.loadingWith("\u4fdd\u5b58\u4e2d"); if (n instanceof s) return r.text("\u4fdd\u5b58\u6e08\u307f"); throw new Error("Failed pattern match at Incentknow.Atoms.Message (line 27, column 7 - line 32, column 32): " + [n.constructor.name]) }()]) }, e.eqSaveState = d }(PS), function (n) { "use strict"; n["Incentknow.Data.Property"] = n["Incentknow.Data.Property"] || {}; var e, t = n["Incentknow.Data.Property"], r = n["Control.Applicative"], a = n["Control.Bind"], o = n["Control.Category"], u = n["Control.Monad.Except"], i = n["Control.Monad.Except.Trans"], c = n["Data.Argonaut.Core"], l = n["Data.Argonaut.Encode.Class"], f = n["Data.Array"], s = n["Data.Either"], d = n["Data.Eq"], p = n["Data.Foldable"], v = n["Data.Function"], m = n["Data.Functor"], g = n["Data.Identity"], w = n["Data.List.NonEmpty"], y = n["Data.List.Types"], h = n["Data.Map.Internal"], b = n["Data.Map.Utils"], M = n["Data.Maybe"], S = n["Data.Nullable"], I = n["Data.Ord"], E = n["Data.Show"], C = n["Data.Symbol"], H = n["Data.Tuple"], D = n.Foreign, A = n["Foreign.Object"], k = n["Incentknow.Data.Ids"], F = n["Simple.JSON"], P = function () { function n() { } return n.value = new n, n }(), T = function () { function n() { } return n.value = new n, n }(), N = function () { function n() { } return n.value = new n, n }(), L = function () { function n() { } return n.value = new n, n }(), x = function () { function n() { } return n.value = new n, n }(), U = function () { function n() { } return n.value = new n, n }(), J = function () { function n() { } return n.value = new n, n }(), O = function () { function n() { } return n.value = new n, n }(), R = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), _ = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), q = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), W = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), B = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), Q = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), z = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), V = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), j = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), G = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), K = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), X = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), Z = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), Y = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), $ = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), nn = function () { function n() { } return n.value = new n, n }(), en = function () { function n() { } return n.value = new n, n }(), tn = function () { function n() { } return n.value = new n, n }(), rn = function (n) { return { id: n.id, displayName: n.displayName, fieldName: S.toMaybe(n.fieldName) } }, an = function (n) { var e = F.readImpl(on)(n.type), t = u.runExcept(e), r = s.either(v.const(new R({})))(o.identity(o.categoryFn))(t); return { id: n.id, displayName: n.displayName, fieldName: S.toMaybe(n.fieldName), type: r, semantic: S.toMaybe(n.semantic), optional: n.optional } }, on = new F.ReadForeign(function (n) { return a.bind(i.bindExceptT(g.monadIdentity))(F.readImpl(F.readRecord()(F.readFieldsCons(new C.IsSymbol(function () { return "arguments" }))(F.readForeign)(F.readFieldsCons(new C.IsSymbol(function () { return "name" }))(F.readString)(F.readFieldsNil)()())()()))(n))(function (n) { return "integer" === n.name ? m.map(i.functorExceptT(g.functorIdentity))(R.create)(F.readImpl(F.readRecord()(F.readFieldsNil))(n.arguments)) : "string" === n.name ? m.map(i.functorExceptT(g.functorIdentity))(q.create)(F.readImpl(F.readRecord()(F.readFieldsNil))(n.arguments)) : "text" === n.name ? m.map(i.functorExceptT(g.functorIdentity))(X.create)(F.readImpl(F.readRecord()(F.readFieldsNil))(n.arguments)) : "format" === n.name ? m.map(i.functorExceptT(g.functorIdentity))(W.create)(F.readImpl(F.readRecord()(F.readFieldsNil))(n.arguments)) : "boolean" === n.name ? m.map(i.functorExceptT(g.functorIdentity))(_.create)(F.readImpl(F.readRecord()(F.readFieldsNil))(n.arguments)) : "space" === n.name ? m.map(i.functorExceptT(g.functorIdentity))(B.create)(F.readImpl(F.readRecord()(F.readFieldsNil))(n.arguments)) : "content" === n.name ? m.map(i.functorExceptT(g.functorIdentity))(Q.create)(F.readImpl(F.readRecord()(F.readFieldsCons(new C.IsSymbol(function () { return "format" }))(k.readForeignFormatId)(F.readFieldsNil)()()))(n.arguments)) : "code" === n.name ? a.bind(i.bindExceptT(g.monadIdentity))(F.readImpl(F.readRecord()(F.readFieldsCons(new C.IsSymbol(function () { return "language" }))(F.readNullable(F.readString))(F.readFieldsNil)()()))(n.arguments))(function (n) { return r.pure(i.applicativeExceptT(g.monadIdentity))(new Z({ language: S.toMaybe(n.language) })) }) : "array" === n.name ? a.bind(i.bindExceptT(g.monadIdentity))(F.readImpl(F.readRecord()(F.readFieldsCons(new C.IsSymbol(function () { return "type" }))(F.readForeign)(F.readFieldsNil)()()))(n.arguments))(function (n) { return a.bind(i.bindExceptT(g.monadIdentity))(F.readImpl(on)(n.type))(function (n) { return r.pure(i.applicativeExceptT(g.monadIdentity))(new z({ type: n })) }) }) : "url" === n.name ? m.map(i.functorExceptT(g.functorIdentity))(V.create)(F.readImpl(F.readRecord()(F.readFieldsNil))(n.arguments)) : "object" === n.name ? a.bind(i.bindExceptT(g.monadIdentity))(F.readImpl(F.readRecord()(F.readFieldsCons(new C.IsSymbol(function () { return "properties" }))(F.readArray(F.readRecord()(F.readFieldsCons(new C.IsSymbol(function () { return "displayName" }))(F.readString)(F.readFieldsCons(new C.IsSymbol(function () { return "fieldName" }))(F.readNullable(F.readString))(F.readFieldsCons(new C.IsSymbol(function () { return "id" }))(F.readString)(F.readFieldsCons(new C.IsSymbol(function () { return "optional" }))(F.readBoolean)(F.readFieldsCons(new C.IsSymbol(function () { return "semantic" }))(F.readNullable(F.readString))(F.readFieldsCons(new C.IsSymbol(function () { return "type" }))(F.readForeign)(F.readFieldsNil)()())()())()())()())()())()())))(F.readFieldsNil)()()))(n.arguments))(function (n) { var e = m.map(m.functorArray)(an)(n.properties); return r.pure(i.applicativeExceptT(g.monadIdentity))(new $({ properties: e })) }) : "document" === n.name ? m.map(i.functorExceptT(g.functorIdentity))(Y.create)(F.readImpl(F.readRecord()(F.readFieldsNil))(n.arguments)) : "enumeration" === n.name ? a.bind(i.bindExceptT(g.monadIdentity))(F.readImpl(F.readRecord()(F.readFieldsCons(new C.IsSymbol(function () { return "enumerators" }))(F.readArray(F.readRecord()(F.readFieldsCons(new C.IsSymbol(function () { return "displayName" }))(F.readString)(F.readFieldsCons(new C.IsSymbol(function () { return "fieldName" }))(F.readNullable(F.readString))(F.readFieldsCons(new C.IsSymbol(function () { return "id" }))(F.readString)(F.readFieldsNil)()())()())()())))(F.readFieldsNil)()()))(n.arguments))(function (n) { return r.pure(i.applicativeExceptT(g.monadIdentity))(new j({ enumerators: m.map(m.functorArray)(rn)(n.enumerators) })) }) : "entity" === n.name ? m.map(i.functorExceptT(g.functorIdentity))(G.create)(F.readImpl(F.readRecord()(F.readFieldsCons(new C.IsSymbol(function () { return "format" }))(k.readForeignFormatId)(F.readFieldsNil)()()))(n.arguments)) : "image" === n.name ? m.map(i.functorExceptT(g.functorIdentity))(K.create)(F.readImpl(F.readRecord()(F.readFieldsNil))(n.arguments)) : i.except(g.applicativeIdentity)(s.Left.create(w.singleton(new D.ForeignError("")))) }) }), un = function (n) { return c.fromObject(A.fromFoldable(p.foldableArray)(m.map(m.functorArray)(function (n) { return H.Tuple.create(n.id)(function (n) { if (n instanceof R) return c.jsonNull; if (n instanceof q) return c.jsonNull; if (n instanceof _) return c.jsonNull; if (n instanceof X) return c.jsonNull; if (n instanceof W) return c.jsonNull; if (n instanceof B) return c.jsonNull; if (n instanceof Q) return c.jsonNull; if (n instanceof Z) return c.jsonNull; if (n instanceof z) return c.fromArray([]); if (n instanceof V) return c.jsonNull; if (n instanceof $) return un(n.value0.properties); if (n instanceof Y) return c.jsonNull; if (n instanceof j) return c.jsonNull; if (n instanceof G) return c.jsonNull; if (n instanceof K) return c.jsonNull; throw new Error("Failed pattern match at Incentknow.Data.Property (line 143, column 18 - line 158, column 31): " + [n.constructor.name]) }(n.type)) })(n))) }, cn = function (n) { return { id: n.id, displayName: n.displayName, fieldName: S.toNullable(n.fieldName) } }, ln = function (n) { if (n instanceof R) return { name: "integer", arguments: F.writeImpl(F.recordWriteForeign()(F.nilWriteForeignFields))(n.value0) }; if (n instanceof q) return { name: "string", arguments: F.writeImpl(F.recordWriteForeign()(F.nilWriteForeignFields))(n.value0) }; if (n instanceof _) return { name: "boolean", arguments: F.writeImpl(F.recordWriteForeign()(F.nilWriteForeignFields))(n.value0) }; if (n instanceof X) return { name: "text", arguments: F.writeImpl(F.recordWriteForeign()(F.nilWriteForeignFields))(n.value0) }; if (n instanceof W) return { name: "format", arguments: F.writeImpl(F.recordWriteForeign()(F.nilWriteForeignFields))(n.value0) }; if (n instanceof B) return { name: "space", arguments: F.writeImpl(F.recordWriteForeign()(F.nilWriteForeignFields))(n.value0) }; if (n instanceof Q) return { name: "content", arguments: F.writeImpl(F.recordWriteForeign()(F.consWriteForeignFields(new C.IsSymbol(function () { return "format" }))(k.writeForeignFormatId)(F.nilWriteForeignFields)()()()))(n.value0) }; if (n instanceof Z) return { name: "code", arguments: F.writeImpl(F.recordWriteForeign()(F.consWriteForeignFields(new C.IsSymbol(function () { return "language" }))(F.writeForeignNullable(F.writeForeignString))(F.nilWriteForeignFields)()()()))({ language: S.toNullable(n.value0.language) }) }; if (n instanceof z) return { name: "array", arguments: F.writeImpl(F.recordWriteForeign()(F.consWriteForeignFields(new C.IsSymbol(function () { return "type" }))(fn)(F.nilWriteForeignFields)()()()))(n.value0) }; if (n instanceof V) return { name: "url", arguments: F.writeImpl(F.recordWriteForeign()(F.nilWriteForeignFields))(n.value0) }; if (n instanceof $) return { name: "object", arguments: F.writeImpl(F.recordWriteForeign()(F.consWriteForeignFields(new C.IsSymbol(function () { return "properties" }))(F.writeForeignArray(F.recordWriteForeign()(F.consWriteForeignFields(new C.IsSymbol(function () { return "displayName" }))(F.writeForeignString)(F.consWriteForeignFields(new C.IsSymbol(function () { return "fieldName" }))(F.writeForeignNullable(F.writeForeignString))(F.consWriteForeignFields(new C.IsSymbol(function () { return "id" }))(F.writeForeignString)(F.consWriteForeignFields(new C.IsSymbol(function () { return "optional" }))(F.writeForeignBoolean)(F.consWriteForeignFields(new C.IsSymbol(function () { return "semantic" }))(F.writeForeignNullable(F.writeForeignString))(F.consWriteForeignFields(new C.IsSymbol(function () { return "type" }))(F.writeForeignForeign)(F.nilWriteForeignFields)()()())()()())()()())()()())()()())()()())))(F.nilWriteForeignFields)()()()))({ properties: m.map(m.functorArray)(sn)(n.value0.properties) }) }; if (n instanceof Y) return { name: "document", arguments: F.writeImpl(F.recordWriteForeign()(F.nilWriteForeignFields))(n.value0) }; if (n instanceof j) return { name: "enumeration", arguments: F.writeImpl(F.recordWriteForeign()(F.consWriteForeignFields(new C.IsSymbol(function () { return "enumerators" }))(F.writeForeignArray(F.recordWriteForeign()(F.consWriteForeignFields(new C.IsSymbol(function () { return "displayName" }))(F.writeForeignString)(F.consWriteForeignFields(new C.IsSymbol(function () { return "fieldName" }))(F.writeForeignNullable(F.writeForeignString))(F.consWriteForeignFields(new C.IsSymbol(function () { return "id" }))(F.writeForeignString)(F.nilWriteForeignFields)()()())()()())()()())))(F.nilWriteForeignFields)()()()))({ enumerators: m.map(m.functorArray)(cn)(n.value0.enumerators) }) }; if (n instanceof G) return { name: "entity", arguments: F.writeImpl(F.recordWriteForeign()(F.consWriteForeignFields(new C.IsSymbol(function () { return "format" }))(k.writeForeignFormatId)(F.nilWriteForeignFields)()()()))(n.value0) }; if (n instanceof K) return { name: "image", arguments: F.writeImpl(F.recordWriteForeign()(F.nilWriteForeignFields))(n.value0) }; throw new Error("Failed pattern match at Incentknow.Data.Property (line 101, column 12 - line 116, column 65): " + [n.constructor.name]) }, fn = new F.WriteForeign((e = F.writeImpl(F.recordWriteForeign()(F.consWriteForeignFields(new C.IsSymbol(function () { return "arguments" }))(F.writeForeignForeign)(F.consWriteForeignFields(new C.IsSymbol(function () { return "name" }))(F.writeForeignString)(F.nilWriteForeignFields)()()())()()())), function (n) { return e(ln(n)) })), sn = function (n) { return { id: n.id, displayName: n.displayName, fieldName: S.toNullable(n.fieldName), type: F.writeImpl(fn)(n.type), semantic: S.toNullable(n.semantic), optional: n.optional } }, dn = new d.Eq(function (n) { return function (e) { return n instanceof R && e instanceof R || (n instanceof _ && e instanceof _ || (n instanceof q && e instanceof q || (n instanceof W && e instanceof W || (n instanceof B && e instanceof B || (n instanceof Q && e instanceof Q ? d.eq(k.eqFormatId)(n.value0.format)(e.value0.format) : n instanceof z && e instanceof z ? d.eq(dn)(n.value0.type)(e.value0.type) : n instanceof V && e instanceof V || (n instanceof j && e instanceof j ? d.eq(d.eqArray(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new C.IsSymbol(function () { return "id" }))(d.eqString))()(new C.IsSymbol(function () { return "fieldName" }))(M.eqMaybe(d.eqString)))()(new C.IsSymbol(function () { return "displayName" }))(d.eqString))))(n.value0.enumerators)(e.value0.enumerators) : n instanceof G && e instanceof G ? d.eq(k.eqFormatId)(n.value0.format)(e.value0.format) : n instanceof K && e instanceof K || (n instanceof X && e instanceof X || (n instanceof Z && e instanceof Z ? d.eq(M.eqMaybe(d.eqString))(n.value0.language)(e.value0.language) : n instanceof Y && e instanceof Y || n instanceof $ && e instanceof $ && d.eq(d.eqArray(d.eqRec()(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowCons(d.eqRowNil)()(new C.IsSymbol(function () { return "type" }))(dn))()(new C.IsSymbol(function () { return "semantic" }))(M.eqMaybe(d.eqString)))()(new C.IsSymbol(function () { return "optional" }))(d.eqBoolean))()(new C.IsSymbol(function () { return "id" }))(d.eqString))()(new C.IsSymbol(function () { return "fieldName" }))(M.eqMaybe(d.eqString)))()(new C.IsSymbol(function () { return "displayName" }))(d.eqString))))(n.value0.properties)(e.value0.properties))))))))) } }), pn = new d.Eq(function (n) { return function (e) { return n instanceof nn && e instanceof nn || (n instanceof en && e instanceof en || n instanceof tn && e instanceof tn) } }); t.IntType = R, t.BoolType = _, t.StringType = q, t.FormatType = W, t.SpaceType = B, t.ContentType = Q, t.ArrayType = z, t.UrlType = V, t.EnumType = j, t.EntityType = G, t.ImageType = K, t.TextType = X, t.CodeType = Z, t.DocumentType = Y, t.ObjectType = $, t.getTypeName = function (n) { return ln(n).name }, t.getDefaultValue = un, t.toPropertyInfo = an, t.fromPropertyInfo = sn, t.encodeProperties = function (n) { return l.encodeJson(l.encodeForeignObject(l.encodeJsonJson))(A.fromFoldable(p.foldableArray)(m.map(m.functorArray)(function (n) { return H.Tuple.create(n.info.id)(l.encodeJson(l.encodeJsonJson)(n.value)) })(n))) }, t.mkProperties = function (n) { return function (e) { var t = function (n) { return function (e) { return { value: M.fromMaybe(c.jsonNull)(e), info: n } } }, r = b.decodeToMap(n); if (r instanceof M.Just) return m.map(m.functorArray)(function (n) { return t(n)(h.lookup(I.ordString)(n.id)(r.value0)) })(e); if (r instanceof M.Nothing) return m.map(m.functorArray)(function (n) { return t(n)(M.Nothing.value) })(e); throw new Error("Failed pattern match at Incentknow.Data.Property (line 209, column 27 - line 211, column 55): " + [r.constructor.name]) } }, t.NoneChange = tn, t.difference = function (n) { return function (e) { var t, r = function (n) { return function (e) { var t = f.uncons(e); if (t instanceof M.Just) return f.cons(new H.Tuple(n, t.value0.head))(r(n + 1 | 0)(t.value0.tail)); if (t instanceof M.Nothing) return []; throw new Error("Failed pattern match at Incentknow.Data.Property (line 261, column 27 - line 263, column 18): " + [t.constructor.name]) } }, a = f.concat(f.fromFoldable(y.foldableList)(m.map(y.functorList)(H.uncurry(function (n) { return function (e) { if (n instanceof M.Just && e instanceof M.Just) { var t = function (n) { return function (t) { return function (r) { return function (a) { return { item: n, id: e.value0.value1.id, name: e.value0.value1.displayName, changeType: t, before: r, after: a } } } } }; return f.concat(m.map(m.functorArray)(f.fromFoldable(p.foldableMaybe))([n.value0.value1.displayName !== e.value0.value1.displayName ? M.Just.create(t(P.value)(en.value)(new M.Just(n.value0.value1.displayName))(new M.Just(e.value0.value1.displayName))) : M.Nothing.value, d.notEq(M.eqMaybe(d.eqString))(n.value0.value1.fieldName)(e.value0.value1.fieldName) ? M.Just.create(t(T.value)(en.value)(n.value0.value1.fieldName)(e.value0.value1.fieldName)) : M.Nothing.value, n.value0.value1.type instanceof q && e.value0.value1.type instanceof G ? M.Just.create(t(N.value)(en.value)(new M.Just(""))(new M.Just(""))) : n.value0.value1.type instanceof G && e.value0.value1.type instanceof q ? M.Just.create(t(N.value)(en.value)(new M.Just(""))(new M.Just(""))) : n.value0.value1.type instanceof G && e.value0.value1.type instanceof G ? M.Just.create(t(N.value)(en.value)(new M.Just(""))(new M.Just(""))) : n.value0.value1.type instanceof q && e.value0.value1.type instanceof X ? M.Just.create(t(N.value)(en.value)(new M.Just(""))(new M.Just(""))) : n.value0.value1.type instanceof Z && e.value0.value1.type instanceof X ? M.Just.create(t(N.value)(en.value)(new M.Just(""))(new M.Just(""))) : n.value0.value1.type instanceof V && e.value0.value1.type instanceof q ? M.Just.create(t(N.value)(en.value)(new M.Just(""))(new M.Just(""))) : d.notEq(dn)(n.value0.value1.type)(e.value0.value1.type) ? M.Just.create(t(N.value)(nn.value)(new M.Just(""))(new M.Just(""))) : M.Nothing.value, d.notEq(M.eqMaybe(d.eqString))(n.value0.value1.semantic)(e.value0.value1.semantic) ? M.Just.create(t(L.value)(en.value)(n.value0.value1.semantic)(e.value0.value1.semantic)) : M.Nothing.value, n.value0.value1.optional !== e.value0.value1.optional ? M.Just.create(t(J.value)(en.value)(M.Just.create(E.show(E.showBoolean)(n.value0.value1.optional)))(M.Just.create(E.show(E.showBoolean)(e.value0.value1.optional)))) : M.Nothing.value, n.value0.value0 !== e.value0.value0 ? M.Just.create(t(x.value)(en.value)(M.Just.create(E.show(E.showInt)(n.value0.value0)))(M.Just.create(E.show(E.showInt)(e.value0.value0)))) : M.Nothing.value])) } if (n instanceof M.Just && e instanceof M.Nothing) return f.singleton({ item: O.value, id: n.value0.value1.id, name: n.value0.value1.displayName, changeType: nn.value, before: M.Nothing.value, after: M.Nothing.value }); if (n instanceof M.Nothing && e instanceof M.Just) return f.singleton({ item: U.value, id: e.value0.value1.id, name: e.value0.value1.displayName, changeType: nn.value, before: M.Nothing.value, after: M.Nothing.value }); if (n instanceof M.Nothing && e instanceof M.Nothing) return f.singleton({ item: O.value, id: "", name: "", changeType: en.value, before: M.Nothing.value, after: M.Nothing.value }); throw new Error("Failed pattern match at Incentknow.Data.Property (line 266, column 26 - line 307, column 133): " + [n.constructor.name, e.constructor.name]) } }))(h.values(b.mergeFromArray(function (n) { return n.value1.id })(function (n) { return n.value1.id })(r(1)(n))(r(1)(e)))))); return { diffs: a, changeType: (t = a, 0 === f.length(t) ? tn.value : 0 < f.length(f.filter(function (n) { return d.eq(pn)(n.changeType)(nn.value) })(t)) ? nn.value : en.value) } } }, t.eqType = dn, t.eqChangeType = pn }(PS), function (n) { "use strict"; n["Incentknow.Data.Content"] = n["Incentknow.Data.Content"] || {}; var e = n["Incentknow.Data.Content"], t = n["Data.Argonaut.Core"], r = n["Data.Array"], a = n["Data.Eq"], o = n["Data.Foldable"], u = n["Data.Functor"], i = n["Data.List"], c = n["Data.List.Types"], l = n["Data.Map.Internal"], f = n["Data.Maybe"], s = n["Data.Maybe.Utils"], d = n["Data.Newtype"], p = n["Data.Nullable"], v = n["Data.Ord"], m = n["Data.Semigroup"], g = n["Data.String.Common"], w = n["Data.Tuple"], y = n["Data.Unfoldable"], h = n["Incentknow.Data.Ids"], b = n["Incentknow.Data.Property"], M = function () { function n() { } return n.value = new n, n }(), S = function () { function n() { } return n.value = new n, n }(), I = function () { function n() { } return n.value = new n, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(); e.getContentSemanticData = function (n) { return function (e) { var o = b.mkProperties(n)(u.map(u.functorArray)(b.toPropertyInfo)(e.structure.properties)), i = s.flatten(u.map(f.functorMaybe)(function (n) { return r.head(r.catMaybes(u.map(u.functorArray)(function (e) { return e.info.id === n ? t.toString(e.value) : f.Nothing.value })(o))) })(p.toMaybe(e.semanticId))), c = f.fromMaybe("")(r.head(r.catMaybes(u.map(u.functorArray)(function (n) { return t.toString(n.value) })(o)))), l = r.head(r.catMaybes(u.map(u.functorArray)(function (n) { return a.eq(b.eqType)(n.info.type)(new b.ImageType({})) ? t.toString(n.value) : f.Nothing.value })(o))); return { title: c, semanticId: u.map(f.functorMaybe)(d.wrap(h.newtypeSemanticId))(i), image: l } } }, e.Equal = E, e.In = H, e.ArrayContains = D, e.ArrayContainsAny = A, e.toContentQueryMethod = function (n) { var e = function (n) { return function (e) { var t = n + "." + g.joinWith(":")(e.propertyIds); if (e.operation instanceof E) return r.singleton({ fieldPath: t, opStr: "==", value: e.operation.value0 }); if (e.operation instanceof C) return r.singleton({ fieldPath: t, opStr: "!=", value: e.operation.value0 }); if (e.operation instanceof H) return r.singleton({ fieldPath: t, opStr: "in", value: e.operation.value0 }); if (e.operation instanceof D) return r.singleton({ fieldPath: t, opStr: "array-contains", value: e.operation.value0 }); if (e.operation instanceof A) return r.singleton({ fieldPath: t, opStr: "array-contains-any", value: e.operation.value0 }); if (e.operation instanceof k) return r.catMaybes([u.map(f.functorMaybe)(function (n) { return { fieldPath: t, opStr: "<=", value: n } })(e.operation.value0), u.map(f.functorMaybe)(function (n) { return { fieldPath: t, opStr: ">=", value: n } })(e.operation.value1)]); throw new Error("Failed pattern match at Incentknow.Data.Content (line 219, column 38 - line 229, column 10): " + [e.operation.constructor.name]) } }, t = function (n) { if (n instanceof c.Cons) { var a = t(n.value1), o = (u = n.value0).operation instanceof k ? w.Tuple.create(S.value)(e("data")(u)) : 1 === r.length(u.propertyIds) ? w.Tuple.create(M.value)(e("data")(u)) : w.Tuple.create(I.value)(e("indexes")(u)); return o.value0 instanceof S ? { sortFilters: m.append(m.semigroupArray)(o.value1)(a.sortFilters), otherFilters: a.otherFilters } : { sortFilters: a.sortFilters, otherFilters: m.append(m.semigroupArray)(o.value1)(a.otherFilters) } } var u; if (n instanceof c.Nil) return { sortFilters: [], otherFilters: [] }; throw new Error("Failed pattern match at Incentknow.Data.Content (line 195, column 24 - line 201, column 49): " + [n.constructor.name]) }, a = t(i.fromFoldable(o.foldableArray)(n.filters)); if (0 === r.length(a.otherFilters)) { var s = function (n) { var e = o.foldr(o.foldableArray)(function (n) { return function (e) { return l.insertWith(v.ordString)(m.append(m.semigroupArray))(n.fieldPath)([n])(e) } })(l.empty); return r.sortBy(function (n) { return function (e) { return v.compare(v.ordInt)(r.length(e))(r.length(n)) } })(u.map(u.functorArray)(w.snd)(l.toUnfoldable(y.unfoldableArray)(e(n)))) }(a.sortFilters); if (0 === r.length(s)) return { serverCondition: { filters: [], orderBy: p.toNullable(n.orderBy) }, clientCondition: { filters: [], orderBy: p.null } }; var d = r.concat(f.fromMaybe([])(r.tail(s))); return { serverCondition: { filters: f.fromMaybe([])(r.head(s)), orderBy: p.null }, clientCondition: { filters: d, orderBy: p.toNullable(n.orderBy) } } } return { serverCondition: { filters: a.otherFilters, orderBy: p.null }, clientCondition: { filters: a.sortFilters, orderBy: p.toNullable(n.orderBy) } } } }(PS), function (n) { n.toJson = (n => n), n.toForeign = (n => n), n.dammyValue = null }(PS["Incentknow.Data.Page"] = PS["Incentknow.Data.Page"] || {}), function (n) { "use strict"; n["Incentknow.Data.Page"] = n["Incentknow.Data.Page"] || {}; var e = n["Incentknow.Data.Page"], t = n["Incentknow.Data.Page"], r = n["Control.Category"], a = n["Control.Monad.Except"], o = n["Data.Argonaut.Core"], u = n["Data.Either"], i = n["Data.Foldable"], c = n["Data.Function"], l = n["Data.Functor"], f = n["Data.Map.Internal"], s = n["Data.Maybe"], d = n["Data.Newtype"], p = n["Data.Symbol"], v = n["Data.Tuple"], m = n["Data.Unfoldable"], g = n["Foreign.Object"], w = n["Incentknow.Data.Ids"], y = n["Simple.JSON"], h = function () { function n() { } return n.value = new n, n }(), b = function () { function n() { } return n.value = new n, n }(), M = function () { function n() { } return n.value = new n, n }(), S = function () { function n() { } return n.value = new n, n }(), I = function () { function n() { } return n.value = new n, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(); e.CompositionBoard = h, e.CompositionTimeline = b, e.CompositionGallery = M, e.CompositionList = S, e.CompositionTable = I, e.CompositionOutliner = E, e.toContentComposition = function (n) { return "outliner" === n.type ? E.create(function (n) { var e, r = s.fromMaybe([])(l.map(s.functorMaybe)(g.toUnfoldable(m.unfoldableArray))(o.toObject(t.toJson(n.parentProperties)))), a = l.map(l.functorArray)(function (n) { return new v.Tuple(n.value0, n.value1) })(r), u = f.fromFoldable(w.ordFormatId)(i.foldableArray)(a); return { parentProperties: l.map(f.functorMap)((e = s.fromMaybe(""), function (n) { return e(o.toString(n)) }))(u) } }((e = y.readRecord()(y.readFieldsCons(new p.IsSymbol(function () { return "parentProperties" }))(y.readForeign)(y.readFieldsNil)()()), function (n) { var o = a.runExcept(y.readImpl(e)(n)); return u.either(c.const(t.dammyValue))(r.identity(r.categoryFn))(o) })(n.details))) : "timeline" === n.type ? b.value : "board" === n.type ? h.value : "list" === n.type ? S.value : t.dammyValue; var e }, e.fromContentComposition = function (n) { return n instanceof E ? { type: "outliner", details: y.writeImpl(y.recordWriteForeign()(y.consWriteForeignFields(new p.IsSymbol(function () { return "parentProperties" }))(y.writeForeignForeign)(y.nilWriteForeignFields)()()()))((e = n.value0, r = f.toUnfoldable(m.unfoldableArray)(e.parentProperties), { parentProperties: t.toForeign(o.fromObject(g.fromFoldable(i.foldableArray)(l.map(l.functorArray)(function (n) { return new v.Tuple(d.unwrap(w.newtypeFormatId)(n.value0), o.fromString(n.value1)) })(r)))) })) } : n instanceof S ? { type: "list", details: y.writeImpl(y.recordWriteForeign()(y.nilWriteForeignFields))({}) } : t.dammyValue; var e, r }, e.toJson = t.toJson }(PS), function (n) { "use strict"; n["Incentknow.HTML.DateTime"] = n["Incentknow.HTML.DateTime"] || {}; var e = n["Incentknow.HTML.DateTime"], t = n["Data.DateTime.Utils"], r = n["Halogen.HTML.Core"]; e.dateTime = function (n) { return r.text(t.fromTimestampToString(n)) } }(PS), (PS["Incentknow.HTML.RawHTML"] = PS["Incentknow.HTML.RawHTML"] || {}).setHTML = function (n) { return function (e) { return function () { n.innerHTML = e } } }, function (n) { "use strict"; n["Incentknow.HTML.RawHTML"] = n["Incentknow.HTML.RawHTML"] || {}; var e = n["Incentknow.HTML.RawHTML"], t = n["Incentknow.HTML.RawHTML"], r = n["Control.Applicative"], a = n["Control.Bind"], o = n["Control.Monad.State.Class"], u = n["Data.Maybe"], i = n["Data.Unit"], c = n["Effect.Class"], l = n["Halogen.Component"], f = n["Halogen.HTML.Elements"], s = n["Halogen.HTML.Properties"], d = n["Halogen.Query"], p = n["Halogen.Query.HalogenM"], v = function () { function n() { } return n.value = new n, n }(), m = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(); e.component = function (n) { var e = function (n) { return { html: n.html, elRef: "rawHtml" } }; return l.mkComponent({ initialState: e, render: function (n) { return f.div([s.ref(n.elRef)])([]) }, eval: l.mkEval({ handleAction: function (l) { if (l instanceof v) return a.bind(p.bindHalogenM)(o.get(p.monadStateHalogenM))(function (e) { return a.discard(a.discardUnit)(p.bindHalogenM)(a.bind(p.bindHalogenM)(d.getHTMLElementRef(e.elRef))(function (a) { if (a instanceof u.Nothing) return r.pure(p.applicativeHalogenM)(i.unit); if (a instanceof u.Just) return c.liftEffect(p.monadEffectHalogenM(n))(t.setHTML(a.value0)(e.html)); throw new Error("Failed pattern match at Incentknow.HTML.RawHTML (line 56, column 13 - line 59, column 49): " + [a.constructor.name]) }))(function () { return r.pure(p.applicativeHalogenM)(i.unit) }) }); if (l instanceof m) return o.put(p.monadStateHalogenM)(e(l.value0)); throw new Error("Failed pattern match at Incentknow.HTML.RawHTML (line 52, column 18 - line 61, column 48): " + [l.constructor.name]) }, handleQuery: l.defaultEval.handleQuery, receive: function (n) { return u.Just.create(m.create(n)) }, initialize: new u.Just(v.value), finalize: l.defaultEval.finalize }) }) } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.ListView"] = n["Incentknow.Organisms.ListView"] || {}; var e = n["Incentknow.Organisms.ListView"], t = n["Control.Applicative"], r = n["Control.Monad.State.Class"], a = n["Data.Functor"], o = n["Data.Maybe"], u = n["Data.Unit"], i = n["Halogen.Component"], c = n["Halogen.HTML.Core"], l = n["Halogen.HTML.Elements"], f = n["Halogen.Query.HalogenM"], s = n["Incentknow.AppM"], d = n["Incentknow.HTML.DateTime"], p = n["Incentknow.HTML.Utils"], v = n["Incentknow.Route"], m = function () { function n() { } return n.value = new n, n }(), g = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), w = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), y = function (n) { return { items: n.items } }; e.component = function (n) { return function (e) { return function (e) { return i.mkComponent({ initialState: y, render: function (n) { return l.div([p.css("org-listview")])(a.map(a.functorArray)(function (n) { return p.link(w.create)(n.route)([p.css("item")])([p.maybeElem(n.format)(function (n) { return l.div([p.css("format")])([p.link_(w.create)(new v.Format(n.formatId, v.FormatMain.value))([c.text(n.displayName)])]) }), l.div([p.css("title")])([c.text(n.title)]), n.user instanceof o.Just && n.datetime instanceof o.Just ? l.div([p.css("user")])([l.div([p.css("username")])([l.span([])([p.link_(w.create)(new v.User(n.user.value0.userId, v.UserMain.value))([c.text(n.user.value0.displayName)])])]), l.div([p.css("datetime")])([l.span([])([d.dateTime(n.datetime.value0)])])]) : n.user instanceof o.Just && n.datetime instanceof o.Nothing ? l.div([p.css("username")])([l.span([])([p.link_(w.create)(new v.User(n.user.value0.userId, v.UserMain.value))([c.text(n.user.value0.displayName)])])]) : n.user instanceof o.Nothing && n.datetime instanceof o.Just ? l.div([p.css("datetime")])([l.span([])([d.dateTime(n.datetime.value0)])]) : c.text("")]) })(n.items)) }, eval: i.mkEval({ handleAction: function (n) { return function (e) { return function (e) { if (e instanceof m) return t.pure(f.applicativeHalogenM)(u.unit); if (e instanceof g) return r.put(f.monadStateHalogenM)(y(e.value0)); if (e instanceof w) return s.navigateRoute(s.behaviourHalogenM(n))(e.value0)(e.value1); throw new Error("Failed pattern match at Incentknow.Organisms.ListView (line 85, column 16 - line 88, column 52): " + [e.constructor.name]) } } }(n)(n.MonadEffect0()), handleQuery: i.defaultEval.handleQuery, receive: function (n) { return o.Just.create(g.create(n)) }, initialize: new o.Just(m.value), finalize: i.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.SelectMenu"] = n["Incentknow.Molecules.SelectMenu"] || {}; var e = n["Incentknow.Molecules.SelectMenu"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Array"], u = n["Data.Either"], i = n["Data.Eq"], c = n["Data.Foldable"], l = n["Data.Function"], f = n["Data.Functor"], s = n["Data.List.Types"], d = n["Data.Map.Internal"], p = n["Data.Maybe"], v = n["Data.Ord"], m = n["Data.String.CodeUnits"], g = n["Data.String.Common"], w = n["Data.Tuple"], y = n["Data.Unit"], h = n["Effect.Aff.Class"], b = n["Effect.Class"], M = n["Halogen.Component"], S = n["Halogen.HTML.Core"], I = n["Halogen.HTML.Elements"], E = n["Halogen.HTML.Events"], C = n["Halogen.HTML.Properties"], H = n["Halogen.Query"], D = n["Halogen.Query.HalogenM"], A = n["Incentknow.Api.Execution"], k = n["Incentknow.Atoms.Icon"], F = n["Incentknow.HTML.Utils"], P = n["Web.HTML.HTMLElement"], T = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), N = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), L = function () { function n() { } return n.value = new n, n }(), x = function () { function n() { } return n.value = new n, n }(), U = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), J = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), O = function () { function n() { } return n.value = new n, n }(), R = function () { function n() { } return n.value = new n, n }(), _ = function () { function n() { } return n.value = new n, n }(), q = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), W = function () { function n() { } return n.value = new n, n }(), B = function () { function n() { } return n.value = new n, n }(), Q = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), z = function () { function n() { } return n.value = new n, n }(), V = function () { function n() { } return n.value = new n, n }(), j = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), G = function (n) { var e = function (n) { return I.li([F.css("item"), E.onClick(function (e) { return p.Just.create(new U(n)) })])([n.html]) }, t = function (n) { return I.li([F.css("item")])([n]) }; return I.div([F.css(n.disabled ? "mol-select-menu disabled" : "mol-select-menu")])([!p.isNothing(n.selectedId) && !n.isFocused || n.disabled ? I.div([F.css("value")])([I.span([F.css("name"), E.onClick(function (e) { return n.disabled ? p.Nothing.value : new p.Just(z.value) })])([function () { if (n.selectedItem instanceof p.Just) return S.text(n.selectedItem.value0.name); if (n.selectedItem instanceof p.Nothing) return k.loadingWith("\u8aad\u307f\u8fbc\u307f\u4e2d"); throw new Error("Failed pattern match at Incentknow.Molecules.SelectMenu (line 179, column 17 - line 181, column 49): " + [n.selectedItem.constructor.name]) }()]), F.whenElem(!n.disabled)(function (n) { return I.span([F.css("crossmark"), E.onClick(function (n) { return new p.Just(_.value) })])([]) })]) : I.textarea([F.css("filter"), C.value(g.replace("\n")("")(n.filter)), E.onValueInput(function (n) { return p.Just.create(q.create(n)) }), C.spellcheck(!1), E.onFocus(function (n) { return new p.Just(O.value) }), E.onBlur(function (n) { return new p.Just(R.value) }), E.onClick(function (n) { return new p.Just(V.value) }), C.ref("textbox")]), F.whenElem(n.isFocused && !n.disabled)(function (r) { return I.ul([F.css("listbox"), E.onMouseEnter(function (n) { return new p.Just(W.value) }), E.onMouseLeave(function (n) { return new p.Just(B.value) })])(function () { if (n.loadingItems) return [t(k.loadingWith("\u8aad\u307f\u8fbc\u307f\u4e2d"))]; if (0 === o.length(n.displayItems)) { if (n.resource instanceof T) return [t(S.text("\u5019\u88dc\u306f\u3042\u308a\u307e\u305b\u3093"))]; if (n.resource instanceof N) { if ("" === n.filter) return [t(S.text("\u691c\u7d22\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"))]; if (n.loadingError instanceof p.Just) return [t(S.text("\u691c\u7d22\u306b\u5931\u6557\u3057\u307e\u3057\u305f:" + n.loadingError.value0))]; if (n.loadingError instanceof p.Nothing) return [t(S.text("\u691c\u7d22\u7d50\u679c\u306f\u3042\u308a\u307e\u305b\u3093\u3067\u3057\u305f"))]; throw new Error("Failed pattern match at Incentknow.Molecules.SelectMenu (line 207, column 23 - line 211, column 68): " + [n.loadingError.constructor.name]) } throw new Error("Failed pattern match at Incentknow.Molecules.SelectMenu (line 200, column 17 - line 211, column 68): " + [n.resource.constructor.name]) } return f.map(f.functorArray)(e)(n.displayItems) }()) })]) }, K = function (n) { return r.bind(D.bindHalogenM)(a.get(D.monadStateHalogenM))(function (e) { return t.pure(D.applicativeHalogenM)(p.Just.create(n.value0(e.selectedId))) }) }, X = function (n) { return function (e) { return "" === n ? e : o.filter(function (e) { return m.contains(n)(e.searchWord) })(e) } }, Z = function (n) { return function (e) { var t = function () { if (e.resource instanceof T) { var t = d.fromFoldable(v.ordString)(c.foldableArray)(f.map(f.functorArray)(function (n) { return new w.Tuple(n.id, n) })(e.resource.value0)); return p.maybe(p.Nothing.value)(l.flip(d.lookup(v.ordString))(t))(e.value) } if (e.resource instanceof N) return i.eq(p.eqMaybe(i.eqString))(n.selectedId)(e.value) ? n.selectedItem : p.Nothing.value; throw new Error("Failed pattern match at Incentknow.Molecules.SelectMenu (line 128, column 18 - line 132, column 114): " + [e.resource.constructor.name]) }(), r = function () { if (e.resource instanceof T) return X(n.filter)(e.resource.value0); if (e.resource instanceof N) return n.displayItems; throw new Error("Failed pattern match at Incentknow.Molecules.SelectMenu (line 134, column 18 - line 136, column 61): " + [e.resource.constructor.name]) }(); return { resource: e.resource, displayItems: r, isFocused: n.isFocused, isMouseEnterListBox: n.isMouseEnterListBox, filter: n.filter, selectedId: e.value, selectedItem: t, textbox: n.textbox, disabled: e.disabled, loadingItems: n.loadingItems, loadingError: n.loadingError } } }, Y = function (n) { return function (e) { return function (o) { if (o instanceof L) return Y(n)(e)(x.value); if (o instanceof x) return r.bind(D.bindHalogenM)(a.get(D.monadStateHalogenM))(function (n) { return c.for_(D.applicativeHalogenM)(c.foldableMaybe)(n.selectedId)(function (r) { return t.when(D.applicativeHalogenM)(p.isNothing(n.selectedItem))(function () { if (n.resource instanceof N) return A.callbackApi(e)(J.create)(n.resource.value0.get(r)); if (n.resource instanceof T) return t.pure(D.applicativeHalogenM)(y.unit); throw new Error("Failed pattern match at Incentknow.Molecules.SelectMenu (line 240, column 43 - line 242, column 55): " + [n.resource.constructor.name]) }()) }) }); if (o instanceof U) return r.discard(r.discardUnit)(D.bindHalogenM)(a.modify_(D.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.selectedId = new p.Just(o.value0.id), e.selectedItem = new p.Just(o.value0), e.isFocused = !1, e.isMouseEnterListBox = !1, e }))(function () { return D.raise(new p.Just(o.value0.id)) }); if (o instanceof J) return r.bind(D.bindHalogenM)(a.get(D.monadStateHalogenM))(function (n) { return c.for_(D.applicativeHalogenM)(c.foldableMaybe)(n.selectedId)(function (n) { return t.when(D.applicativeHalogenM)(o.value0.id === n)(a.modify_(D.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.selectedItem = new p.Just(o.value0), e })) }) }); if (o instanceof _) return r.discard(r.discardUnit)(D.bindHalogenM)(a.modify_(D.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.selectedId = p.Nothing.value, e.selectedItem = p.Nothing.value, e }))(function () { return D.raise(p.Nothing.value) }); if (o instanceof O) return a.modify_(D.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.isFocused = !0, e }); if (o instanceof W) return a.modify_(D.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.isMouseEnterListBox = !0, e }); if (o instanceof B) return a.modify_(D.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.isMouseEnterListBox = !1, e }); if (o instanceof q) return r.bind(D.bindHalogenM)(a.get(D.monadStateHalogenM))(function (n) { if (n.resource instanceof T) return a.modify_(D.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.filter = o.value0, t.displayItems = X(o.value0)(n.resource.value0), t }); if (n.resource instanceof N) return r.discard(r.discardUnit)(D.bindHalogenM)(a.modify_(D.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.filter = o.value0, e.displayItems = [], e.loadingItems = !0, e.loadingError = p.Nothing.value, e }))(function () { return r.bind(D.bindHalogenM)(h.liftAff(D.monadAffHalogenM(e))(n.resource.value0.search(o.value0)))(function (n) { if (n instanceof u.Right) return r.bind(D.bindHalogenM)(a.get(D.monadStateHalogenM))(function (e) { return t.when(D.applicativeHalogenM)(e.filter === o.value0)(a.modify_(D.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.displayItems = n.value0, t.loadingItems = !1, t })) }); if (n instanceof u.Left) return a.modify_(D.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.loadingError = new p.Just(n.value0), t.loadingItems = !1, t }); throw new Error("Failed pattern match at Incentknow.Molecules.SelectMenu (line 265, column 9 - line 271, column 77): " + [n.constructor.name]) }) }); throw new Error("Failed pattern match at Incentknow.Molecules.SelectMenu (line 259, column 5 - line 271, column 77): " + [n.resource.constructor.name]) }); if (o instanceof R) return a.modify_(D.monadStateHalogenM)(function (n) { if (n.isMouseEnterListBox) return n; var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.isFocused = !1, e }); if (o instanceof Q) return r.discard(r.discardUnit)(D.bindHalogenM)(a.modify_(D.monadStateHalogenM)(l.flip(Z)(o.value0)))(function () { return Y(n)(e)(x.value) }); if (o instanceof j) return a.modify_(D.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.textbox = o.value0, e }); if (o instanceof V) return a.modify_(D.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.isMouseEnterListBox = !1, e }); if (o instanceof z) return r.discard(r.discardUnit)(D.bindHalogenM)(a.modify_(D.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.isMouseEnterListBox = !1, e.isFocused = !0, e }))(function () { return r.bind(D.bindHalogenM)(H.getHTMLElementRef("textbox"))(c.traverse_(D.applicativeHalogenM)(c.foldableMaybe)(function (e) { return b.liftEffect(D.monadEffectHalogenM(n.MonadEffect0()))(P.focus(e)) })) }); throw new Error("Failed pattern match at Incentknow.Molecules.SelectMenu (line 234, column 16 - line 284, column 37): " + [o.constructor.name]) } } }, $ = Z({ resource: new T([]), displayItems: [], isFocused: !1, isMouseEnterListBox: !1, filter: "", selectedId: p.Nothing.value, selectedItem: p.Nothing.value, textbox: p.Nothing.value, disabled: !1, loadingItems: !1, loadingError: p.Nothing.value }); e.upsertItems = function (n) { return function (e) { var t = function (n) { return d.fromFoldable(v.ordString)(c.foldableArray)(f.map(f.functorArray)(function (n) { return new w.Tuple(n.id, n) })(n)) }; return o.fromFoldable(s.foldableList)(d.values(d.union(v.ordString)(t(n))(t(e)))) } }, e.SelectMenuResourceAllCandidates = T, e.SelectMenuResourceFetchFunctions = N, e.component = function (n) { return function (e) { return M.mkComponent({ initialState: $, render: G, eval: M.mkEval({ handleAction: Y(n)(e), handleQuery: K, receive: function (n) { return p.Just.create(Q.create(n)) }, initialize: new p.Just(L.value), finalize: M.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.FormatMenu"] = n["Incentknow.Molecules.FormatMenu"] || {}; var e = n["Incentknow.Molecules.FormatMenu"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Array"], u = n["Data.Eq"], i = n["Data.Foldable"], c = n["Data.Functor"], l = n["Data.Maybe"], f = n["Data.Newtype"], s = n["Data.Nullable"], d = n["Data.Ord"], p = n["Data.Symbol"], v = n["Data.Unit"], m = n["Halogen.Component"], g = n["Halogen.HTML"], w = n["Halogen.HTML.Core"], y = n["Halogen.HTML.Elements"], h = n["Halogen.Query.HalogenM"], b = n["Incentknow.Api"], M = n["Incentknow.Api.Execution"], S = n["Incentknow.AppM"], I = n["Incentknow.Data.Ids"], E = n["Incentknow.HTML.Utils"], C = n["Incentknow.Molecules.SelectMenu"], H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function () { function n() { } return n.value = new n, n }(), F = function () { function n() { } return n.value = new n, n }(), P = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), T = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), N = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), L = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), x = function (n) { var e = y.div([E.css("name")])([w.text(n.displayName)]); return { id: f.unwrap(I.newtypeFormatId)(n.formatId), name: n.displayName, searchWord: n.displayName, html: e } }, U = function (n) { return { filter: n.filter, items: [], initialFormatId: n.value, formatId: n.value, disabled: n.disabled } }, J = new u.Eq(function (n) { return function (e) { return !(n instanceof H && e instanceof H) && (n instanceof D && e instanceof D ? u.eq(I.eqSpaceId)(n.value0)(e.value0) : n instanceof k && e instanceof k) } }), O = function (n) { return function (e) { return function (f) { return function (f) { if (f instanceof F) return r.bind(h.bindHalogenM)(a.get(h.monadStateHalogenM))(function (n) { return r.discard(r.discardUnit)(h.bindHalogenM)(i.for_(h.applicativeHalogenM)(i.foldableMaybe)(n.initialFormatId)(function (n) { return M.fetchApi(e)(N.create)(b.getFormat(n)) }))(function () { if (n.filter instanceof H) return a.modify_(h.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.items = c.map(c.functorArray)(x)(n.filter.value0), t }); if (n.filter instanceof D) return M.fetchApi(e)(L.create)(b.getFormats(n.filter.value0)); if (n.filter instanceof A) return M.fetchApi(e)(L.create)(b.getFormats(n.filter.value0)); if (n.filter instanceof k) return t.pure(h.applicativeHalogenM)(v.unit); throw new Error("Failed pattern match at Incentknow.Molecules.FormatMenu (line 115, column 5 - line 119, column 24): " + [n.filter.constructor.name]) }) }); if (f instanceof N) return M.forFetchItem(S.behaviourHalogenM(n))(f.value0)(function (n) { return a.modify_(h.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.items = C.upsertItems([x(n)])(e.items), t }) }); if (f instanceof L) return M.forFetchItem(S.behaviourHalogenM(n))(f.value0)(function (n) { return r.bind(h.bindHalogenM)(a.get(h.monadStateHalogenM))(function (e) { if (e.filter instanceof A) { var t = o.filter(function (n) { return u.notEq(s.eqNullable(u.eqString))(s.null)(n.semanticId) })(n); return a.modify_(h.monadStateHalogenM)(function (n) { var e = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]); return e.items = C.upsertItems(c.map(c.functorArray)(x)(t))(n.items), e }) } return a.modify_(h.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.items = C.upsertItems(c.map(c.functorArray)(x)(n))(e.items), t }) }) }); if (f instanceof P) return r.bind(h.bindHalogenM)(a.get(h.monadStateHalogenM))(function (t) { return u.notEq(J)(f.value0.filter)(t.filter) ? r.discard(r.discardUnit)(h.bindHalogenM)(a.put(h.monadStateHalogenM)(U(f.value0)))(function () { return O(n)(e)(n.MonadEffect0())(F.value) }) : a.modify_(h.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.formatId = f.value0.value, e.disabled = f.value0.disabled, e }) }); if (f instanceof T) return h.raise(c.map(l.functorMaybe)(I.FormatId)(f.value0)); throw new Error("Failed pattern match at Incentknow.Molecules.FormatMenu (line 110, column 16 - line 139, column 52): " + [f.constructor.name]) } } } }; e.Formats = H, e.SpaceBy = D, e.SpaceByAndHasSemanticId = A, e.None = k, e.component = function (n) { return function (e) { return function (t) { return m.mkComponent({ initialState: U, render: function (n) { return function (e) { return function (t) { return g.slot()(new p.IsSymbol(function () { return "selectMenu" }))(d.ordUnit)(p.SProxy.value)(v.unit)(C.component(n)(e))({ resource: new C.SelectMenuResourceAllCandidates(t.items), value: c.map(l.functorMaybe)(f.unwrap(I.newtypeFormatId))(t.formatId), disabled: t.disabled })(function (n) { return l.Just.create(T.create(n)) }) } } }(n)(e), eval: m.mkEval({ handleAction: O(n)(e)(n.MonadEffect0()), handleQuery: m.defaultEval.handleQuery, receive: function (n) { return l.Just.create(P.create(n)) }, initialize: new l.Just(F.value), finalize: m.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.SpaceMenu"] = n["Incentknow.Molecules.SpaceMenu"] || {}; var e = n["Incentknow.Molecules.SpaceMenu"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Foldable"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.Newtype"], c = n["Data.Ord"], l = n["Data.Symbol"], f = n["Data.Unit"], s = n["Halogen.Component"], d = n["Halogen.HTML"], p = n["Halogen.HTML.Core"], v = n["Halogen.HTML.Elements"], m = n["Halogen.Query.HalogenM"], g = n["Incentknow.Api"], w = n["Incentknow.Api.Execution"], y = n["Incentknow.AppM"], h = n["Incentknow.Data.Ids"], b = n["Incentknow.HTML.Utils"], M = n["Incentknow.Molecules.SelectMenu"], S = function () { function n() { } return n.value = new n, n }(), I = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function (n) { var e = v.div([b.css("name")])([p.text(n.displayName)]); return { id: i.unwrap(h.newtypeSpaceId)(n.spaceId), name: n.displayName, searchWord: n.displayName, html: e } }, A = function (n) { return { items: [], initialSpaceId: n.value, spaceId: n.value, disabled: n.disabled } }; e.component = function (n) { return function (e) { return function (p) { return s.mkComponent({ initialState: A, render: function (n) { return function (e) { return function (t) { return d.slot()(new l.IsSymbol(function () { return "selectMenu" }))(c.ordUnit)(l.SProxy.value)(f.unit)(M.component(n)(e))({ resource: new M.SelectMenuResourceAllCandidates(t.items), value: o.map(u.functorMaybe)(i.unwrap(h.newtypeSpaceId))(t.spaceId), disabled: !1 })(function (n) { return u.Just.create(E.create(n)) }) } } }(n)(e), eval: s.mkEval({ handleAction: function (n) { return function (e) { return function (i) { return function (i) { if (i instanceof S) return t.bind(m.bindHalogenM)(r.get(m.monadStateHalogenM))(function (n) { return t.discard(t.discardUnit)(m.bindHalogenM)(a.for_(m.applicativeHalogenM)(a.foldableMaybe)(n.initialSpaceId)(function (n) { return w.fetchApi(e)(C.create)(g.getSpace(n)) }))(function () { return t.discard(t.discardUnit)(m.bindHalogenM)(w.fetchApi(e)(H.create)(g.getPublishedSpaces))(function () { return w.fetchApi(e)(H.create)(g.getMySpaces) }) }) }); if (i instanceof C) return w.forFetchItem(y.behaviourHalogenM(n))(i.value0)(function (n) { return r.modify_(m.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.items = M.upsertItems([D(n)])(e.items), t }) }); if (i instanceof H) return w.forFetchItem(y.behaviourHalogenM(n))(i.value0)(function (n) { return r.modify_(m.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.items = M.upsertItems(o.map(o.functorArray)(D)(n))(e.items), t }) }); if (i instanceof I) return r.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.spaceId = i.value0.value, e.disabled = i.value0.disabled, e }); if (i instanceof E) return m.raise(o.map(u.functorMaybe)(h.SpaceId)(i.value0)); throw new Error("Failed pattern match at Incentknow.Molecules.SpaceMenu (line 93, column 16 - line 107, column 51): " + [i.constructor.name]) } } } }(n)(e)(n.MonadEffect0()), handleQuery: s.defaultEval.handleQuery, receive: function (n) { return u.Just.create(I.create(n)) }, initialize: new u.Just(S.value), finalize: s.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Templates.Page"] = n["Incentknow.Templates.Page"] || {}; var e = n["Incentknow.Templates.Page"], t = n["Data.Eq"], r = n["Data.Functor"], a = n["Data.Maybe"], o = n["Data.Semigroup"], u = n["Halogen.HTML.Core"], i = n["Halogen.HTML.Elements"], c = n["Halogen.HTML.Events"], l = n["Incentknow.HTML.Utils"]; e.tabPage = function (n) { return function (e) { return function (f) { return function (s) { return function (d) { return i.div([l.css("tmp-tab-page")])([i.div([l.css("header")])([i.div([l.css("top")])(s), i.div([l.css("menu")])(o.append(o.semigroupArray)(r.map(r.functorArray)(function (r) { return i.div([l.css("tab-item" + (t.eq(n)(e.currentTab)(r) ? " selected" : "")), c.onClick(function (n) { return a.Just.create(e.onChangeTab(r)) })])([u.text(e.showTab(r))]) })(e.tabs))(o.append(o.semigroupArray)([i.div([l.css("space")])([])])([i.div([l.css("ext-menu")])(f)])))]), i.div([l.css("body")])(d)]) } } } } }, e.section = function (n) { return function (e) { return i.div([l.css("tmp-section " + n)])(e) } }, e.tabGrouping = function (n) { return function (e) { return function (o) { return function (f) { return i.div([l.css("tmp-tab-grouping")])([i.div([l.css("tabs")])(r.map(r.functorArray)(function (r) { return i.div([l.css(t.eq(n)(e.currentTab)(r) ? "tab tab_active" : "tab"), c.onClick(function (n) { return a.Just.create(e.onChangeTab(r)) })])([u.text(e.showTab(r))]) })(e.tabs)), i.div([l.css("bar")])(o), i.div([l.css("body")])(f)]) } } } }, e.creationPage = function (n) { return function (e) { return i.div([l.css("tmp-creation-page")])([i.div([l.css("title")])([u.text(n.title)]), i.div([l.css("desc")])([u.text(n.desc)]), i.div([l.css("body")])(e)]) } } }(PS), function (n) { "use strict"; n["Incentknow.Widgets.ContentQuery"] = n["Incentknow.Widgets.ContentQuery"] || {}; var e = n["Incentknow.Widgets.ContentQuery"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.Except"], o = n["Control.Monad.State.Class"], u = n["Data.Argonaut.Core"], i = n["Data.Array"], c = n["Data.Either"], l = n["Data.Eq"], f = n["Data.Foldable"], s = n["Data.Functor"], d = n["Data.Int"], p = n["Data.Map.Internal"], v = n["Data.Maybe"], m = n["Data.Maybe.Utils"], g = n["Data.Ord"], w = n["Data.Semigroup"], y = n["Data.Show"], h = n["Data.String.Common"], b = n["Data.Symbol"], M = n["Data.Tuple"], S = n["Data.Unfoldable"], I = n["Data.Unit"], E = n["Effect.Class"], C = n["Foreign.JSON"], H = n["Foreign.Object"], D = n["Halogen.Component"], A = n["Halogen.HTML"], k = n["Halogen.HTML.Core"], F = n["Halogen.HTML.Elements"], P = n["Halogen.Query.HalogenM"], T = n["Incentknow.Api"], N = n["Incentknow.Api.Execution"], L = n["Incentknow.AppM"], x = n["Incentknow.Atoms.Icon"], U = n["Incentknow.Atoms.Inputs"], J = n["Incentknow.Data.Content"], O = n["Incentknow.Data.Ids"], R = n["Incentknow.Data.Page"], _ = n["Incentknow.Data.Property"], q = n["Incentknow.Molecules.FormatMenu"], W = n["Incentknow.Molecules.SpaceMenu"], B = n["Incentknow.Route"], Q = n["Incentknow.Templates.Page"], z = n["Test.Unit.Console"], V = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), j = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), G = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), K = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), X = function () { function n() { } return n.value = new n, n }(), Z = function () { function n() { } return n.value = new n, n }(), Y = function () { function n() { } return n.value = new n, n }(), $ = function () { function n() { } return n.value = new n, n }(), nn = function () { function n() { } return n.value = new n, n }(), en = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), tn = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), rn = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), an = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), on = function () { function n(n, e, t) { this.value0 = n, this.value1 = e, this.value2 = t } return n.create = function (e) { return function (t) { return function (r) { return new n(e, t, r) } } }, n }(), un = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), cn = function () { function n() { } return n.value = new n, n }(), ln = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), fn = function (n) { return p.fromFoldable(g.ordString)(f.foldableArray)(s.map(s.functorArray)(function (n) { return new M.Tuple(n.id, n) })(n)) }, sn = new y.Show(function (n) { if (n instanceof V) return y.show(y.showInt)(n.value0); if (n instanceof j) return y.show(y.showBoolean)(n.value0); if (n instanceof G) return y.show(y.showString)(n.value0); if (n instanceof K) return "ValueObject" + y.show(p.showMap(y.showString)(sn))(n.value0); if (n instanceof X) return "none"; throw new Error("Failed pattern match at Incentknow.Widgets.ContentQuery (line 56, column 10 - line 61, column 24): " + [n.constructor.name]) }), dn = function (n) { return function (e) { return function (t) { var r = function (n) { var e, r = function (n) { return function (e) { return function (t) { if (n instanceof Z) return k.text(""); if (n instanceof Y) return U.textarea({ onChange: function (n) { return e(G.create(n)) }, placeholder: "", value: t instanceof G ? t.value0 : "" }); if (n instanceof $) return k.text(""); throw new Error("Failed pattern match at Incentknow.Widgets.ContentQuery (line 319, column 36 - line 330, column 29): " + [n.constructor.name]) } } }, a = function (n) { return function (e) { return function (t) { return F.div([])([k.text(e.displayName), (a = n, function (n) { return function (e) { return function (t) { var o, u = a, i = n, c = e, l = !1; function f(n, e, a, o) { var f = on.create(n)(e); if (a instanceof _.IntType) return l = !0, r(Z.value)(f)(o); if (a instanceof _.StringType) return l = !0, r(Y.value)(f)(o); if (a instanceof _.BoolType) return l = !0, r($.value)(f)(o); if (a instanceof _.ArrayType) return u = n, i = e, c = a.value0.type, void (t = o); if (a instanceof _.FormatType) return l = !0, k.text(""); if (a instanceof _.SpaceType) return l = !0, k.text(""); if (a instanceof _.ContentType) return l = !0, k.text(""); if (a instanceof _.EnumType) return l = !0, k.text(""); if (a instanceof _.ObjectType) return l = !0, k.text(""); if (a instanceof _.TextType) return l = !0, k.text(""); if (a instanceof _.CodeType) return l = !0, k.text(""); if (a instanceof _.UrlType) return l = !0, k.text(""); if (a instanceof _.DocumentType) return l = !0, k.text(""); if (a instanceof _.EntityType) return l = !0, k.text(""); if (a instanceof _.ImageType) return l = !0, k.text(""); throw new Error("Failed pattern match at Incentknow.Widgets.ContentQuery (line 299, column 43 - line 314, column 32): " + [a.constructor.name]) } for (; !l;)o = f(u, i, c, t); return o } } })(e.id)(e.type)(t)]); var a } } }, o = function (n) { return function (e) { return function (t) { var o, u = n, i = e, c = !1; function l(n, e, o) { var l = an.create(n); if (e instanceof _.IntType) return c = !0, r(Z.value)(l)(o); if (e instanceof _.StringType) return c = !0, r(Y.value)(l)(o); if (e instanceof _.BoolType) return c = !0, r($.value)(l)(o); if (e instanceof _.ArrayType) return u = n, i = e.value0.type, void (t = o); if (e instanceof _.ObjectType) { var f = o instanceof K ? o.value0 : p.empty; return c = !0, F.div([])(s.map(s.functorArray)(function (e) { return a(n)(e)((t = e.id, v.fromMaybe(X.value)(p.lookup(g.ordString)(t)(f)))); var t })(e.value0.properties)) } if (e instanceof _.FormatType) return c = !0, k.text(""); if (e instanceof _.SpaceType) return c = !0, k.text(""); if (e instanceof _.ContentType) return c = !0, k.text(""); if (e instanceof _.EnumType) return c = !0, k.text(""); if (e instanceof _.TextType) return c = !0, k.text(""); if (e instanceof _.CodeType) return c = !0, k.text(""); if (e instanceof _.UrlType) return c = !0, k.text(""); if (e instanceof _.DocumentType) return c = !0, k.text(""); if (e instanceof _.EntityType) return c = !0, k.text(""); if (e instanceof _.ImageType) return c = !0, k.text(""); throw new Error("Failed pattern match at Incentknow.Widgets.ContentQuery (line 264, column 28 - line 287, column 32): " + [e.constructor.name]) } for (; !c;)o = l(u, i, t); return o } } }; return F.div([])([F.div([])([F.span([])([k.text(n.displayName)]), U.button("\u8ffd\u52a0")(new un(n.id))]), (e = n.id, function (n) { return function (t) { return F.div([])(i.mapWithIndex(function (t) { return function (r) { return o(new M.Tuple(e, t))(n)(r) } })(t)) } })(n.type)(v.fromMaybe([X.value])(p.lookup(g.ordString)(n.id)(t.values)))]) }; return Q.section("wid-content-query")([A.slot()(new b.IsSymbol(function () { return "spaceMenu" }))(g.ordUnit)(b.SProxy.value)(I.unit)(W.component(n)(e)(n.MonadEffect0()))({ value: t.spaceId, disabled: !1 })(function (n) { return v.Just.create(tn.create(n)) }), A.slot()(new b.IsSymbol(function () { return "formatMenu" }))(g.ordUnit)(b.SProxy.value)(I.unit)(q.component(n)(e)(n.MonadEffect0()))({ value: t.formatId, filter: v.maybe(q.None.value)(q.SpaceBy.create)(t.spaceId), disabled: !1 })(function (n) { return v.Just.create(rn.create(n)) }), x.remoteWith(t.format)(function (n) { return F.div([])(s.map(s.functorArray)(r)(s.map(s.functorArray)(_.toPropertyInfo)(n.structure.properties))) }), U.submitButton({ isDisabled: v.isNothing(t.spaceId) || v.isNothing(t.formatId), isLoading: !1, text: "\u8868\u793a", loadingText: "\u8868\u793a\u4e2d", onClick: cn.value })]) } } }, pn = function (n) { return { spaceId: n.spaceId, formatId: n.formatId, values: p.empty, urlParams: n.urlParams, format: N.Loading.value } }, vn = function (n) { return n }, mn = function (n) { var e = function (n) { if (n instanceof V) return u.fromNumber(d.toNumber(n.value0)); if (n instanceof j) return u.fromBoolean(n.value0); if (n instanceof G) return u.fromString(n.value0); if (n instanceof K) { var t = p.toUnfoldable(S.unfoldableArray)(s.map(p.functorMap)(e)(n.value0)); return u.fromObject(H.fromFoldable(f.foldableArray)(t)) } if (n instanceof X) return u.jsonNull; throw new Error("Failed pattern match at Incentknow.Widgets.ContentQuery (line 161, column 12 - line 169, column 26): " + [n.constructor.name]) }; return s.map(s.functorArray)(function (n) { return M.Tuple.create(n.value0)(v.Just.create(function (n) { var t = function (n) { if (n instanceof V) return y.show(y.showInt)(n.value0); if (n instanceof j) return y.show(y.showBoolean)(n.value0); if (n instanceof G) return vn(n.value0); if (n instanceof K) return vn(u.stringify(e(new K(n.value0)))); if (n instanceof X) return y.show(y.showString)("null"); throw new Error("Failed pattern match at Incentknow.Widgets.ContentQuery (line 153, column 17 - line 158, column 31): " + [n.constructor.name]) }; if (1 === n.length) return t(n[0]); var r = i.head(n); return r instanceof v.Just && r.value0 instanceof K ? vn(u.stringify(u.fromArray(s.map(s.functorArray)(e)(n)))) : h.joinWith(",")(s.map(s.functorArray)(t)(n)) }(n.value1))) })(p.toUnfoldable(S.unfoldableArray)(n)) }, gn = function (n) { return function (e) { var t = function (n) { var e = function (n) { return n }(n); return function (n) { return n instanceof _.IntType ? s.map(v.functorMaybe)(V.create)(d.fromString(e)) : n instanceof _.StringType ? v.Just.create(new G(e)) : n instanceof _.ContentType ? v.Just.create(new G(e)) : n instanceof _.ArrayType ? t(e)(n.value0.type) : v.Nothing.value } }, r = H.toUnfoldable(S.unfoldableArray), o = function (n) { var e, t, a; return u.isString(n) ? s.map(v.functorMaybe)(G.create)(u.toString(n)) : u.isNumber(n) ? s.map(v.functorMaybe)(V.create)(m.flatten(s.map(v.functorMaybe)(d.fromNumber)(u.toNumber(n)))) : u.isBoolean(n) ? s.map(v.functorMaybe)(j.create)(u.toBoolean(n)) : u.isObject(n) ? s.map(v.functorMaybe)((t = s.map(p.functorMap)((e = v.fromMaybe(X.value), function (n) { return e(o(n)) })), a = p.fromFoldable(g.ordString)(f.foldableArray), function (n) { return K.create(t(a(r(n)))) }))(u.toObject(n)) : v.Nothing.value }, l = function (n) { return function (r) { var l = p.lookup(g.ordString)(n)(fn(e)), f = s.map(v.functorMaybe)(function (n) { return n.type })(l); return v.maybe([])(function (n) { return (e = n, function (n) { var r, l = e, f = !1; function d(e, r) { if (e instanceof _.ArrayType) return l = e.value0.type, void (n = r); if (e instanceof _.ObjectType) { var d = a.runExcept(C.parseJSON(r)); if (d instanceof c.Right) { var p = R.toJson(d.value0); return u.isArray(p) ? (f = !0, i.catMaybes(s.map(s.functorArray)(o)(v.fromMaybe([])(u.toArray(p))))) : (f = !0, i.catMaybes([o(p)])) } return f = !0, [] } return f = !0, s.map(s.functorArray)(function (n) { return v.fromMaybe(X.value)(t(n)(e)) })(h.split(",")(r)) } for (; !f;)r = d(l, n); return r })(r); var e })(f) } }; return p.fromFoldable(g.ordString)(f.foldableArray)(s.map(s.functorArray)(function (n) { return M.Tuple.create(n.value0)(l(n.value0)(v.fromMaybe("")(n.value1))) })(n)) } }, wn = function (n) { return function (e) { var a = r.bind(P.bindHalogenM)(o.get(P.monadStateHalogenM))(function (e) { return L.navigate(L.behaviourHalogenM(n))(B.ContentList.create(e.spaceId)(e.formatId)(mn(e.values))) }), u = function (n) { return function (e) { return p.alter(g.ordString)(function (n) { return v.Just.create(e(v.fromMaybe([X.value])(n))) })(n) } }, c = function (n) { return function (e) { return u(n.value0)(i.mapWithIndex(function (t) { return function (r) { return n.value1 === t ? e(r) : r } })) } }; return function (i) { if (i instanceof nn) return r.bind(P.bindHalogenM)(o.get(P.monadStateHalogenM))(function (t) { return r.discard(r.discardUnit)(P.bindHalogenM)(f.for_(P.applicativeHalogenM)(f.foldableMaybe)(t.formatId)(function (n) { return N.fetchApi(e)(ln.create)(T.getFormat(n)) }))(function () { return E.liftEffect(P.monadEffectHalogenM(n.MonadEffect0()))(z.consoleLog(y.show(y.showArray(M.showTuple(y.showString)(v.showMaybe(y.showString))))(t.urlParams))) }) }); if (i instanceof tn) return r.discard(r.discardUnit)(P.bindHalogenM)(o.modify_(P.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.spaceId = i.value0, e }))(function () { return a }); if (i instanceof rn) return r.discard(r.discardUnit)(P.bindHalogenM)(o.modify_(P.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.formatId = i.value0, e.format = N.Loading.value, e }))(function () { return r.discard(r.discardUnit)(P.bindHalogenM)(f.for_(P.applicativeHalogenM)(f.foldableMaybe)(i.value0)(function (n) { return N.fetchApi(e)(ln.create)(T.getFormat(n)) }))(function () { return a }) }); if (i instanceof en) return r.bind(P.bindHalogenM)(o.get(P.monadStateHalogenM))(function (a) { return t.when(P.applicativeHalogenM)(l.notEq(v.eqMaybe(O.eqSpaceId))(i.value0.spaceId)(a.spaceId) || l.notEq(v.eqMaybe(O.eqFormatId))(i.value0.formatId)(a.formatId) || l.notEq(l.eqArray(M.eqTuple(l.eqString)(v.eqMaybe(l.eqString))))(i.value0.urlParams)(a.urlParams))(r.discard(r.discardUnit)(P.bindHalogenM)(o.put(P.monadStateHalogenM)(pn(i.value0)))(function () { return wn(n)(e)(nn.value) })) }); if (i instanceof an) return r.discard(r.discardUnit)(P.bindHalogenM)(o.modify_(P.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.values = c(i.value0)(function (n) { return i.value1 })(n.values), e }))(function () { return r.bind(P.bindHalogenM)(o.get(P.monadStateHalogenM))(function (e) { return E.liftEffect(P.monadEffectHalogenM(n.MonadEffect0()))(z.consoleLog(y.show(p.showMap(y.showString)(y.showArray(sn)))(e.values))) }) }); if (i instanceof on) { var d = function (n) { return n instanceof K ? K.create(p.insert(g.ordString)(i.value1)(i.value2)(n.value0)) : K.create(p.fromFoldable(g.ordString)(f.foldableArray)([new M.Tuple(i.value1, i.value2)])) }; return r.discard(r.discardUnit)(P.bindHalogenM)(o.modify_(P.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.values = c(i.value0)(d)(n.values), e }))(function () { return r.bind(P.bindHalogenM)(o.get(P.monadStateHalogenM))(function (e) { return E.liftEffect(P.monadEffectHalogenM(n.MonadEffect0()))(z.consoleLog(y.show(p.showMap(y.showString)(y.showArray(sn)))(e.values))) }) }) } if (i instanceof un) return r.discard(r.discardUnit)(P.bindHalogenM)(o.modify_(P.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.values = u(i.value0)(function (n) { return w.append(w.semigroupArray)(n)([X.value]) })(n.values), e }))(function () { return r.bind(P.bindHalogenM)(o.get(P.monadStateHalogenM))(function (e) { return E.liftEffect(P.monadEffectHalogenM(n.MonadEffect0()))(z.consoleLog(y.show(p.showMap(y.showString)(y.showArray(sn)))(e.values))) }) }); if (i instanceof cn) return a; if (i instanceof ln) return r.discard(r.discardUnit)(P.bindHalogenM)(N.forFetch(L.behaviourHalogenM(n))(i.value0)(function (n) { return o.modify_(P.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.format = n, t }) }))(function () { return N.forFetchItem(L.behaviourHalogenM(n))(i.value0)(function (e) { return r.discard(r.discardUnit)(P.bindHalogenM)(o.modify_(P.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.values = gn(n.urlParams)(s.map(s.functorArray)(_.toPropertyInfo)(e.structure.properties)), t }))(function () { return r.bind(P.bindHalogenM)(o.get(P.monadStateHalogenM))(function (e) { return E.liftEffect(P.monadEffectHalogenM(n.MonadEffect0()))(z.consoleLog(y.show(p.showMap(y.showString)(y.showArray(sn)))(e.values))) }) }) }) }); throw new Error("Failed pattern match at Incentknow.Widgets.ContentQuery (line 338, column 16 - line 380, column 48): " + [i.constructor.name]) } } }; e.fromUrlParams = gn, e.toContentFilters = function (n) { return function (e) { var t = function (n) { if (n instanceof V) return u.fromNumber(d.toNumber(n.value0)); if (n instanceof j) return u.fromBoolean(n.value0); if (n instanceof G) return u.fromString(n.value0); if (n instanceof K) return u.jsonNull; if (n instanceof X) return u.jsonNull; throw new Error("Failed pattern match at Incentknow.Widgets.ContentQuery (line 183, column 13 - line 188, column 26): " + [n.constructor.name]) }, r = fn(e), a = function (n) { return function (e) { return function (n) { return function (e) { return function (r) { if (0 === i.length(e)) return []; var a = s.map(v.functorMaybe)(function (n) { return n.type })(r); return 1 === e.length && a instanceof v.Just && a.value0 instanceof _.ArrayType ? [{ propertyIds: [n], operation: J.ArrayContains.create(t(e[0])) }] : 1 === e.length ? [{ propertyIds: [n], operation: J.Equal.create(t(e[0])) }] : a instanceof v.Just && a.value0 instanceof _.ArrayType ? [{ propertyIds: [n], operation: J.ArrayContainsAny.create(u.fromArray(s.map(s.functorArray)(t)(e))) }] : [{ propertyIds: [n], operation: J.In.create(u.fromArray(s.map(s.functorArray)(t)(e))) }] } } }(n)(e)(p.lookup(g.ordString)(n)(r)) } }, o = p.toUnfoldable(S.unfoldableArray)(n); return i.concat(s.map(s.functorArray)(function (n) { return a(n.value0)(n.value1) })(o)) } }, e.component = function (n) { return function (e) { return D.mkComponent({ initialState: pn, render: dn(n)(e), eval: D.mkEval({ handleAction: wn(n)(e), handleQuery: D.defaultEval.handleQuery, receive: function (n) { return v.Just.create(en.create(n)) }, initialize: new v.Just(nn.value), finalize: D.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.ContentQuery"] = n["Incentknow.Organisms.ContentQuery"] || {}; var e = n["Incentknow.Organisms.ContentQuery"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Array"], o = n["Data.Foldable"], u = n["Data.Functor"], i = n["Data.Maybe"], c = n["Data.Ord"], l = n["Data.Symbol"], f = n["Data.Unit"], s = n["Data.Void"], d = n["Halogen.Component"], p = n["Halogen.HTML"], v = n["Halogen.Query.HalogenM"], m = n["Incentknow.Api"], g = n["Incentknow.Api.Execution"], w = n["Incentknow.AppM"], y = n["Incentknow.Atoms.Icon"], h = n["Incentknow.Data.Content"], b = n["Incentknow.Data.Property"], M = n["Incentknow.Organisms.ListView"], S = n["Incentknow.Route"], I = n["Incentknow.Widgets.ContentQuery"], E = function () { function n() { } return n.value = new n, n }(), C = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function (n) { return function (e) { return function (t) { return y.remoteWith(t.contents)(function (t) { return p.slot()(new l.IsSymbol(function () { return "listView" }))(c.ordUnit)(l.SProxy.value)(f.unit)(M.component(n)(e)(n.MonadEffect0()))({ items: a.catMaybes(u.map(u.functorArray)(function (n) { var e; return i.Just.create((e = n, function (n) { var t = h.getContentSemanticData(e.data)(e.format); return { user: n, datetime: new i.Just(e.updatedAt), title: t.title, format: new i.Just(e.format), route: new S.Content(e.contentId) } })(i.Nothing.value)) })(t)) })(s.absurd) }) } } }, F = function (n) { return { spaceId: n.spaceId, formatId: n.formatId, urlParams: n.urlParams, method: i.Nothing.value, contents: g.Loading.value, format: g.Loading.value } }, P = function (n) { return function (e) { return function (a) { if (a instanceof E) return t.bind(v.bindHalogenM)(r.get(v.monadStateHalogenM))(function (n) { return o.for_(v.applicativeHalogenM)(o.foldableMaybe)(n.formatId)(function (n) { return g.fetchApi(e)(D.create)(m.getFormat(n)) }) }); if (a instanceof D) return t.bind(v.bindHalogenM)(r.get(v.monadStateHalogenM))(function (c) { return o.for_(v.applicativeHalogenM)(o.foldableMaybe)(c.spaceId)(function (o) { return g.forFetchItem(w.behaviourHalogenM(n))(a.value0)(function (l) { var f = u.map(u.functorArray)(b.toPropertyInfo)(l.structure.properties), s = I.fromUrlParams(c.urlParams)(f), d = { filters: I.toContentFilters(s)(f), orderBy: i.Nothing.value }, p = h.toContentQueryMethod(d); return t.discard(t.discardUnit)(v.bindHalogenM)(g.forFetch(w.behaviourHalogenM(n))(a.value0)(function (n) { return r.modify_(v.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.method = new i.Just(p), t.format = n, t }) }))(function () { return g.fetchApi(e)(A.create)(m.getContents(o)(l.formatId)(p.serverCondition)) }) }) }) }); if (a instanceof A) return t.bind(v.bindHalogenM)(r.get(v.monadStateHalogenM))(function (e) { return g.forFetch(w.behaviourHalogenM(n))(a.value0)(function (n) { return o.for_(v.applicativeHalogenM)(o.foldableMaybe)(e.method)(function (e) { return r.modify_(v.monadStateHalogenM)(function (t) { var r = {}; for (var a in t) ({}).hasOwnProperty.call(t, a) && (r[a] = t[a]); return r.contents = u.map(g.functorRemote)(m.applyFirestoreCondition(e.clientCondition))(n), r }) }) }) }); if (a instanceof C) return t.discard(t.discardUnit)(v.bindHalogenM)(r.put(v.monadStateHalogenM)(F(a.value0)))(function () { return P(n)(e)(E.value) }); if (a instanceof H) return w.navigate(w.behaviourHalogenM(n))(a.value0); throw new Error("Failed pattern match at Incentknow.Organisms.ContentQuery (line 111, column 16 - line 137, column 35): " + [a.constructor.name]) } } }; e.component = function (n) { return function (e) { return function (t) { return d.mkComponent({ initialState: F, render: k(n)(e), eval: d.mkEval({ handleAction: P(n)(e), handleQuery: d.defaultEval.handleQuery, receive: function (n) { return i.Just.create(C.create(n)) }, initialize: new i.Just(E.value), finalize: d.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.Footer"] = n["Incentknow.Organisms.Footer"] || {}; var e = n["Incentknow.Organisms.Footer"], t = n["Data.Newtype"], r = n["Halogen.Component"], a = n["Halogen.HTML.Core"], o = n["Halogen.HTML.Elements"], u = n["Incentknow.AppM"], i = n["Incentknow.Data.Ids"], c = n["Incentknow.HTML.Utils"], l = n["Incentknow.Route"], f = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), s = function (n) { var e = function (n) { return function (e) { return o.span([c.css("link")])([c.link_(f.create)(e)([a.text(n)])]) } }; return o.footer([c.css("org-footer")])([o.div([c.css("copyright")])([a.text("@Incentknow")]), o.nav([c.css("links")])([o.div([c.css("inner")])([e("Developer")(l.Content.create(t.wrap(i.newtypeContentId)("451b942c983e418287b284f6ac8cf523"))), e("Support")(l.Content.create(t.wrap(i.newtypeContentId)(""))), e("Contact")(l.Content.create(t.wrap(i.newtypeContentId)("")))])])]) }, d = function (n) { return {} }; e.component = function (n) { return r.mkComponent({ initialState: d, render: s, eval: r.mkEval({ handleAction: function (n) { return function (e) { return u.navigateRoute(u.behaviourHalogenM(n))(e.value0)(e.value1) } }(n), handleQuery: r.defaultEval.handleQuery, receive: r.defaultEval.receive, initialize: r.defaultEval.initialize, finalize: r.defaultEval.finalize }) }) } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.Header"] = n["Incentknow.Organisms.Header"] || {}; var e = n["Incentknow.Organisms.Header"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Eq"], u = n["Data.Maybe"], i = n["Data.Nullable"], c = n["Data.Unit"], l = n["Halogen.Component"], f = n["Halogen.HTML.Core"], s = n["Halogen.HTML.Elements"], d = n["Halogen.HTML.Properties"], p = n["Halogen.Query.HalogenM"], v = n["Incentknow.Api"], m = n["Incentknow.Api.Execution"], g = n["Incentknow.AppM"], w = n["Incentknow.HTML.Utils"], y = n["Incentknow.Route"], h = function () { function n() { } return n.value = new n, n }(), b = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), M = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), S = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), I = function (n) { var e = function (e) { return function (t) { return w.link(b.create)(t)([w.css(o.eq(y.eqRoute)(t)(n.route) ? "link link-selected" : "link")])([s.span([w.css("text")])([f.text(e)])]) } }; return s.header([w.css("org-header")])([s.div([w.css("logo")])([w.link_(b.create)(y.Home.value)([f.text("Incentknow")])]), s.nav([w.css("links")])([e("Spaces")(y.SpaceList.value), w.maybeElem(n.account)(function (n) { return e("Works")(y.WorkList.value) }), w.maybeElem(n.account)(function (n) { return e("Create")(new y.NewContent(u.Nothing.value, u.Nothing.value)) }), s.span([w.css("space")])([]), function () { if (n.account instanceof u.Just) return (t = n.account.value0.user.displayName, function (e) { return function (r) { return w.link(b.create)(r)([w.css(o.eq(y.eqRoute)(r)(n.route) ? "link link-selected" : "link")])([s.img([d.src(e)]), s.span([w.css("text")])([f.text(t)])]) } })(n.account.value0.user.iconUrl)(new y.User(n.account.value0.userId, y.UserMain.value)); var t; if (n.account instanceof u.Nothing) return e("\u30ed\u30b0\u30a4\u30f3/\u767b\u9332")(y.Sign.value); throw new Error("Failed pattern match at Incentknow.Organisms.Header (line 77, column 11 - line 79, column 49): " + [n.account.constructor.name]) }()])]) }, E = function (n) { return { account: u.Nothing.value, route: n.route } }; e.component = function (n) { return function (e) { return l.mkComponent({ initialState: E, render: I, eval: l.mkEval({ handleAction: function (n) { return function (e) { return function (o) { if (o instanceof h) return r.bind(p.bindHalogenM)(m.subscribeApi(n)(function (n) { return S.create(i.toMaybe(n)) })(v.onSnapshotAccount))(function () { return t.pure(p.applicativeHalogenM)(c.unit) }); if (o instanceof b) return g.navigateRoute(g.behaviourHalogenM(e))(o.value0)(o.value1); if (o instanceof M) return a.modify_(p.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.route = o.value0.route, e }); if (o instanceof S) return a.modify_(p.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.account = o.value0, e }); throw new Error("Failed pattern match at Incentknow.Organisms.Header (line 49, column 16 - line 55, column 61): " + [o.constructor.name]) } } }(n)(e), handleQuery: l.defaultEval.handleQuery, receive: function (n) { return u.Just.create(M.create(n)) }, initialize: new u.Just(h.value), finalize: l.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.CardView"] = n["Incentknow.Organisms.CardView"] || {}; var e = n["Incentknow.Organisms.CardView"], t = n["Control.Applicative"], r = n["Control.Monad.State.Class"], a = n["Data.Functor"], o = n["Data.Maybe"], u = n["Data.Unit"], i = n["Halogen.Component"], c = n["Halogen.HTML.Core"], l = n["Halogen.HTML.Elements"], f = n["Halogen.Query.HalogenM"], s = n["Incentknow.AppM"], d = n["Incentknow.HTML.Utils"], p = function () { function n() { } return n.value = new n, n }(), v = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), m = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), g = function (n) { return { items: n.items } }; e.component = function (n) { return function (n) { return i.mkComponent({ initialState: g, render: function (n) { return l.div([d.css("org-cardview")])(a.map(a.functorArray)(function (n) { return d.link(m.create)(n.route)([d.css("item")])([l.div([d.css("title")])([c.text(n.title)]), l.div([d.css("desc")])([c.text(n.desc)]), l.div([d.css("info")])([c.text(n.info)])]) })(n.items)) }, eval: i.mkEval({ handleAction: (n.MonadEffect0(), function (n) { return function (e) { if (e instanceof p) return t.pure(f.applicativeHalogenM)(u.unit); if (e instanceof v) return r.put(f.monadStateHalogenM)(g(e.value0)); if (e instanceof m) return s.navigateRoute(s.behaviourHalogenM(n))(e.value0)(e.value1); throw new Error("Failed pattern match at Incentknow.Organisms.CardView (line 74, column 16 - line 77, column 52): " + [e.constructor.name]) } })(n), handleQuery: i.defaultEval.handleQuery, receive: function (n) { return o.Just.create(v.create(n)) }, initialize: new o.Just(p.value), finalize: i.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Community.SpaceList"] = n["Incentknow.Pages.Community.SpaceList"] || {}; var e = n["Incentknow.Pages.Community.SpaceList"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.Ord"], c = n["Data.Symbol"], l = n["Data.Unit"], f = n["Data.Void"], s = n["Halogen.Component"], d = n["Halogen.HTML"], p = n["Halogen.HTML.Core"], v = n["Halogen.HTML.Elements"], m = n["Halogen.Query.HalogenM"], g = n["Incentknow.Api"], w = n["Incentknow.Api.Execution"], y = n["Incentknow.AppM"], h = n["Incentknow.Atoms.Icon"], b = n["Incentknow.Atoms.Inputs"], M = n["Incentknow.HTML.Utils"], S = n["Incentknow.Organisms.CardView"], I = n["Incentknow.Route"], E = function () { function n() { } return n.value = new n, n }(), C = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), A = function (n) { return { title: n.displayName, route: new I.Space(n.spaceId, I.SpacePages.value), desc: "", info: "" } }, k = function (n) { return { publishedSpaces: w.Loading.value, followedSpaces: w.Loading.value, logined: !0 } }; e.component = function (n) { return function (e) { return function (e) { return s.mkComponent({ initialState: k, render: (n.MonadEffect0(), function (n) { return function (e) { return v.div([M.css("page-spaces")])([b.submitButton({ isDisabled: !1, isLoading: !1, loadingText: "", onClick: new C(I.NewSpace.value), text: "\u65b0\u3057\u3044\u30b9\u30da\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b" }), M.whenElem(e.logined)(function (t) { return v.div([M.css("part")])([v.div([M.css("caption")])([p.text("\u767b\u9332\u3057\u3066\u3044\u308b\u30b9\u30da\u30fc\u30b9")]), h.remoteWith(e.followedSpaces)(function (e) { return d.slot()(new c.IsSymbol(function () { return "cardview" }))(i.ordUnit)(c.SProxy.value)(l.unit)(S.component(n.MonadEffect0())(n))({ items: o.map(o.functorArray)(A)(e) })(f.absurd) })]) }), v.div([M.css("part")])([v.div([M.css("caption")])([p.text("\u516c\u958b\u3055\u308c\u3066\u3044\u308b\u30b9\u30da\u30fc\u30b9")]), h.remoteWith(e.publishedSpaces)(function (e) { return d.slot()(new c.IsSymbol(function () { return "cardview2" }))(i.ordUnit)(c.SProxy.value)(l.unit)(S.component(n.MonadEffect0())(n))({ items: o.map(o.functorArray)(A)(e) })(f.absurd) })])]) } })(n), eval: s.mkEval({ handleAction: function (n) { return function (e) { return function (e) { return function (o) { if (o instanceof E) return r.discard(r.discardUnit)(m.bindHalogenM)(w.fetchApi(e)(H.create)(g.getPublishedSpaces))(function () { return w.fetchApi(e)(D.create)(g.getMySpaces) }); if (o instanceof H) return w.forFetch(y.behaviourHalogenM(n))(o.value0)(function (n) { return a.modify_(m.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.publishedSpaces = n, t }) }); if (o instanceof D) return w.forFetch(y.behaviourHalogenM(n))(o.value0)(function (n) { return r.discard(r.discardUnit)(m.bindHalogenM)(a.modify_(m.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.followedSpaces = n, t }))(function () { return t.when(m.applicativeHalogenM)(u.isNothing(w.toMaybe(n)))(a.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.logined = !1, e })) }) }); if (o instanceof C) return y.navigate(y.behaviourHalogenM(n))(o.value0); throw new Error("Failed pattern match at Incentknow.Pages.Community.SpaceList (line 88, column 16 - line 100, column 35): " + [o.constructor.name]) } } } }(n)(n.MonadEffect0())(e), handleQuery: s.defaultEval.handleQuery, receive: s.defaultEval.receive, initialize: new u.Just(E.value), finalize: s.defaultEval.finalize }) }) } } } }(PS), (PS["Incentknow.Molecules.AceEditor"] = PS["Incentknow.Molecules.AceEditor"] || {}).setCursorVisibleImpl = function (n, e) { return function () { n.renderer.$cursorLayer.element.style.display = e ? "block" : "none" } }, function (n) { "use strict"; n["Web.Socket.Event.EventTypes"] = n["Web.Socket.Event.EventTypes"] || {}; var e = n["Web.Socket.Event.EventTypes"]; e.onOpen = "open", e.onMessage = "message" }(PS), function (n) { "use strict"; n.data_ = function (n) { return n.data } }(PS["Web.Socket.Event.MessageEvent"] = PS["Web.Socket.Event.MessageEvent"] || {}), function (n) { "use strict"; n._unsafeReadProtoTagged = function (n, e, t, r) { if ("undefined" != typeof window) { var a = window[t]; return null != a && r instanceof a ? e(r) : n } for (var o = r; null != o;) { var u = Object.getPrototypeOf(o), i = u.constructor.name; if (i === t) return e(r); if ("Object" === i) return n; o = u } return n } }(PS["Web.Internal.FFI"] = PS["Web.Internal.FFI"] || {}), function (n) { "use strict"; n["Web.Internal.FFI"] = n["Web.Internal.FFI"] || {}; var e = n["Web.Internal.FFI"], t = n["Web.Internal.FFI"], r = n["Data.Maybe"]; e.unsafeReadProtoTagged = function (n) { return function (e) { return t._unsafeReadProtoTagged(r.Nothing.value, r.Just.create, n, e) } } }(PS), function (n) { "use strict"; n["Web.Socket.Event.MessageEvent"] = n["Web.Socket.Event.MessageEvent"] || {}; var e = n["Web.Socket.Event.MessageEvent"], t = n["Web.Socket.Event.MessageEvent"], r = n["Web.Internal.FFI"].unsafeReadProtoTagged("MessageEvent"); e.fromEvent = r, e.data_ = t.data_ }(PS), function (n) { "use strict"; n.create = function (n) { return function (e) { return function () { return new WebSocket(n, e) } } }, n.sendImpl = function (n) { return function (e) { return function () { n.send(e) } } } }(PS["Web.Socket.WebSocket"] = PS["Web.Socket.WebSocket"] || {}), function (n) { "use strict"; n["Web.Socket.WebSocket"] = n["Web.Socket.WebSocket"] || {}; var e = n["Web.Socket.WebSocket"], t = n["Web.Socket.WebSocket"], r = n["Unsafe.Coerce"].unsafeCoerce, a = t.sendImpl; e.toEventTarget = r, e.sendString = a, e.create = t.create }(PS), function (n) { "use strict"; n.JsonRPC = n.JsonRPC || {}; var e = n.JsonRPC, t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Coroutine"], o = n["Control.Coroutine.Aff"], u = n["Control.Monad.Except"], i = n["Data.Argonaut.Core"], c = n["Data.Argonaut.Decode.Class"], l = n["Data.Argonaut.Decode.Combinators"], f = n["Data.Argonaut.Encode.Class"], s = n["Data.Argonaut.Parser"], d = n["Data.Either"], p = n["Data.Foldable"], v = n["Data.Function"], m = n["Data.Maybe"], g = n["Data.Tuple"], w = n.Effect, y = n["Effect.Aff"], h = n["Effect.Class"], b = n["Effect.Random"], M = n.Foreign, S = n["Foreign.Object"], I = n["Web.Event.EventTarget"], E = n["Web.Socket.Event.EventTypes"], C = n["Web.Socket.Event.MessageEvent"], H = n["Web.Socket.WebSocket"], D = function (n) { return function (e) { return o.produce(function (a) { return function () { var f = I.eventListener(function (n) { return p.for_(w.applicativeEffect)(p.foldableMaybe)(C.fromEvent(n))(function (n) { return p.for_(w.applicativeEffect)(p.foldableMaybe)((f = M.readString, g = d.either(v.const(m.Nothing.value))(m.Just.create), function (n) { return g(u.runExcept(f(M.unsafeToForeign(n)))) })(C.data_(n)))(function (n) { var u, f = (u = c.decodeJsonInt, function (n) { return function (e) { return r.bind(d.bindEither)(s.jsonParser(e))(function (e) { return r.bind(d.bindEither)(c.decodeJson(c.decodeForeignObject(c.decodeJsonJson))(e))(function (e) { return r.bind(d.bindEither)(l.getField(u)(e)("id"))(function (a) { return r.bind(d.bindEither)(l.getField(n)(e)("result"))(function (n) { return t.pure(d.applicativeEither)({ id: a, result: n }) }) }) }) }) } })(c.decodeJsonJson)(n); if (f instanceof d.Right) return f.value0.id === e ? o.close(a)(f.value0.result) : o.emit(a)(i.jsonNull); if (f instanceof d.Left) return o.emit(a)(i.jsonNull); throw new Error("Failed pattern match at JsonRPC (line 75, column 13 - line 81, column 46): " + [f.constructor.name]) }); var f, g }) })(); return I.addEventListener(E.onMessage)(f)(!1)(H.toEventTarget(n))() } }) } }, A = b.randomInt(0)(1e9); e.notify = function (n) { return function (e) { return function (t) { return function () { var r = h.liftEffect(h.monadEffectEffect)(A)(), a = [g.Tuple.create("jsonrpc")(f.encodeJson(f.encodeJsonJString)("2.0")), g.Tuple.create("method")(f.encodeJson(f.encodeJsonJString)(e)), g.Tuple.create("params")(t), g.Tuple.create("id")(f.encodeJson(f.encodeJsonInt)(r))], o = i.stringify(f.encodeJson(f.encodeForeignObject(f.encodeJsonJson))(S.fromFoldable(p.foldableArray)(a))); return H.sendString(n)(o)() } } } }, e.request = function (n) { return function (e) { return function (t) { return function (r) { return function () { var o = A(), u = [g.Tuple.create("jsonrpc")(f.encodeJson(f.encodeJsonJString)("2.0")), g.Tuple.create("method")(f.encodeJson(f.encodeJsonJString)(e)), g.Tuple.create("params")(t), g.Tuple.create("id")(f.encodeJson(f.encodeJsonInt)(o))], c = i.stringify(f.encodeJson(f.encodeForeignObject(f.encodeJsonJson))(S.fromFoldable(p.foldableArray)(u))); return H.sendString(n)(c)(), y.runAff_(r)(a.runProcess(y.monadRecAff)(a.connect(y.monadRecAff)(y.parallelAff)(D(n)(o))(a.await(y.monadAff))))() } } } } } }(PS), function (n) { "use strict"; n.LSP = n.LSP || {}; var e = n.LSP, t = n["Control.Applicative"], r = n["Data.Argonaut.Decode.Class"], a = n["Data.Argonaut.Encode.Class"], o = n["Data.Argonaut.Parser"], u = n["Data.Either"], i = n["Data.Maybe"], c = n["Data.Symbol"], l = n["Data.Unit"], f = n.Effect, s = n["Effect.Class"], d = n.JsonRPC, p = n["Web.Event.EventTarget"], v = n["Web.Socket.Event.EventTypes"], m = n["Web.Socket.WebSocket"]; e.didChange = function (n) { return function (e) { var t = a.encodeJson(a.encodeRecord(a.gEncodeJsonCons(a.encodeJsonArray(a.encodeRecord(a.gEncodeJsonCons(a.encodeJsonJString)(a.gEncodeJsonNil)(new c.IsSymbol(function () { return "text" }))())()))(a.gEncodeJsonCons(a.encodeRecord(a.gEncodeJsonCons(a.encodeJsonJString)(a.gEncodeJsonCons(a.encodeJsonInt)(a.gEncodeJsonNil)(new c.IsSymbol(function () { return "version" }))())(new c.IsSymbol(function () { return "uri" }))())())(a.gEncodeJsonNil)(new c.IsSymbol(function () { return "textDocument" }))())(new c.IsSymbol(function () { return "contentChanges" }))())())(e); return d.notify(n)("textDocument/didChange")(t) } }, e.didOpen = function (n) { return function (e) { var t = a.encodeJson(a.encodeRecord(a.gEncodeJsonCons(a.encodeRecord(a.gEncodeJsonCons(a.encodeJsonJString)(a.gEncodeJsonCons(a.encodeJsonJString)(a.gEncodeJsonCons(a.encodeJsonJString)(a.gEncodeJsonCons(a.encodeJsonInt)(a.gEncodeJsonNil)(new c.IsSymbol(function () { return "version" }))())(new c.IsSymbol(function () { return "uri" }))())(new c.IsSymbol(function () { return "text" }))())(new c.IsSymbol(function () { return "languageId" }))())())(a.gEncodeJsonNil)(new c.IsSymbol(function () { return "textDocument" }))())())(e); return d.notify(n)("textDocument/didOpen")(t) } }, e.complete = function (n) { return function (e) { return function (t) { var o = a.encodeJson(a.encodeRecord(a.gEncodeJsonCons(a.encodeRecord(a.gEncodeJsonCons(a.encodeJsonJString)(a.gEncodeJsonCons(a.encodeJsonInt)(a.gEncodeJsonNil)(new c.IsSymbol(function () { return "triggerKind" }))())(new c.IsSymbol(function () { return "triggerCharacter" }))())())(a.gEncodeJsonCons(a.encodeRecord(a.gEncodeJsonCons(a.encodeJsonInt)(a.gEncodeJsonCons(a.encodeJsonInt)(a.gEncodeJsonNil)(new c.IsSymbol(function () { return "line" }))())(new c.IsSymbol(function () { return "character" }))())())(a.gEncodeJsonCons(a.encodeRecord(a.gEncodeJsonCons(a.encodeJsonJString)(a.gEncodeJsonNil)(new c.IsSymbol(function () { return "uri" }))())())(a.gEncodeJsonNil)(new c.IsSymbol(function () { return "textDocument" }))())(new c.IsSymbol(function () { return "position" }))())(new c.IsSymbol(function () { return "context" }))())())(e); return d.request(n)("textDocument/completion")(o)(function (n) { if (n instanceof u.Right) { var e = r.decodeJson(r.decodeRecord(r.gDecodeJsonCons(r.decodeJsonBoolean)(r.gDecodeJsonCons(r.decodeArray(r.decodeRecord(r.gDecodeJsonCons(r.decodeJsonString)(r.gDecodeJsonCons(r.decodeJsonString)(r.gDecodeJsonCons(r.decodeJsonString)(r.gDecodeJsonCons(r.decodeJsonInt)(r.gDecodeJsonCons(r.decodeJsonString)(r.gDecodeJsonCons(r.decodeJsonString)(r.gDecodeJsonNil)(new c.IsSymbol(function () { return "sortText" }))()())(new c.IsSymbol(function () { return "label" }))()())(new c.IsSymbol(function () { return "kind" }))()())(new c.IsSymbol(function () { return "insertText" }))()())(new c.IsSymbol(function () { return "documentation" }))()())(new c.IsSymbol(function () { return "detail" }))()())()))(r.gDecodeJsonNil)(new c.IsSymbol(function () { return "items" }))()())(new c.IsSymbol(function () { return "isIncomplete" }))()())())(n.value0); if (e instanceof u.Right) return t(new i.Just(e.value0)); if (e instanceof u.Left) return t(i.Nothing.value); throw new Error("Failed pattern match at LSP (line 98, column 25 - line 100, column 33): " + [e.constructor.name]) } if (n instanceof u.Left) return t(i.Nothing.value); throw new Error("Failed pattern match at LSP (line 97, column 24 - line 101, column 31): " + [n.constructor.name]) }) } } }, e.createConnection = function (n) { return s.liftEffect(n)(m.create("ws://localhost:3000/python")([])) }, e.onOpen = function (n) { return function (e) { return function () { var t = p.eventListener(function (n) { return e })(); return p.addEventListener(v.onOpen)(t)(!1)(m.toEventTarget(n))() } } }, e.initialize = function (n) { var e = o.jsonParser('\n    {\n      "capabilities": {\n          "textDocument": {\n              "hover": {\n                  "dynamicRegistration": true,\n                  "contentFormat": [\n                      "plaintext",\n                      "markdown"\n                  ]\n              },\n              "synchronization": {\n                  "dynamicRegistration": true,\n                  "willSave": false,\n                  "didSave": false,\n                  "willSaveWaitUntil": false\n              },\n              "completion": {\n                  "dynamicRegistration": true,\n                  "completionItem": {\n                      "snippetSupport": false,\n                      "commitCharactersSupport": true,\n                      "documentationFormat": [\n                          "plaintext",\n                          "markdown"\n                      ],\n                      "deprecatedSupport": false,\n                      "preselectSupport": false\n                  },\n                  "contextSupport": false\n              },\n              "signatureHelp": {\n                  "dynamicRegistration": true,\n                  "signatureInformation": {\n                      "documentationFormat": [\n                          "plaintext",\n                          "markdown"\n                      ]\n                  }\n              },\n              "declaration": {\n                  "dynamicRegistration": true,\n                  "linkSupport": true\n              },\n              "definition": {\n                  "dynamicRegistration": true,\n                  "linkSupport": true\n              },\n              "typeDefinition": {\n                  "dynamicRegistration": true,\n                  "linkSupport": true\n              },\n              "implementation": {\n                  "dynamicRegistration": true,\n                  "linkSupport": true\n              }\n          },\n          "workspace": {\n              "didChangeConfiguration": {\n                  "dynamicRegistration": true\n              }\n          }\n      },\n      "initializationOptions": null,\n      "processId": null,\n      "rootUri": "#rootPath#",\n      "workspaceFolders": null\n    }\n    '); if (e instanceof u.Right) return d.notify(n)("initialize")(e.value0); if (e instanceof u.Left) return t.pure(f.applicativeEffect)(l.unit); throw new Error("Failed pattern match at LSP (line 118, column 25 - line 120, column 22): " + [e.constructor.name]) } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.AceEditor"] = n["Incentknow.Molecules.AceEditor"] || {}; var e = n["Incentknow.Molecules.AceEditor"], t = n["Incentknow.Molecules.AceEditor"], r = n.Ace, a = n["Ace.Completer"], o = n["Ace.EditSession"], u = n["Ace.Editor"], i = n["Ace.Ext.LanguageTools.Completer"], c = n["Ace.Types"], l = n["Control.Applicative"], f = n["Control.Bind"], s = n["Control.Monad.State.Class"], d = n["Data.Foldable"], p = n["Data.Functor"], v = n["Data.Maybe"], m = n["Data.Monoid"], g = n.Effect, w = n["Effect.Class"], y = n.Global, h = n["Halogen.Component"], b = n["Halogen.HTML.Elements"], M = n["Halogen.HTML.Properties"], S = n["Halogen.Query"], I = n["Halogen.Query.EventSource"], E = n["Halogen.Query.HalogenM"], C = n["Incentknow.HTML.Utils"], H = n.LSP, D = function () { function n() { } return n.value = new n, n }(), A = function () { function n() { } return n.value = new n, n }(), k = function () { function n() { } return n.value = new n, n }(), F = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), P = function (n) { return function (n) { return f.bind(E.bindHalogenM)(s.get(E.monadStateHalogenM))(function (e) { return d.for_(E.applicativeHalogenM)(d.foldableMaybe)(e.editor)(function (r) { return f.discard(f.discardUnit)(E.bindHalogenM)(l.when(E.applicativeHalogenM)(e.variableHeight)(w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(u.setMaxLines(y.infinity)(r))))(function () { return f.discard(f.discardUnit)(E.bindHalogenM)(w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(u.setReadOnly(e.readonly)(r)))(function () { return f.discard(f.discardUnit)(E.bindHalogenM)(w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(u.setHighlightActiveLine(!e.readonly)(r)))(function () { return f.discard(f.discardUnit)(E.bindHalogenM)(w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(u.setHighlightGutterLine(!e.readonly)(r)))(function () { return f.discard(f.discardUnit)(E.bindHalogenM)(p.void(E.functorHalogenM)(w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(u.setValue(e.text)(v.Just.create(-1))(r))))(function () { return w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(function (n) { return function (e) { return t.setCursorVisibleImpl(n, e) } }(r)(!e.readonly)) }) }) }) }) }) }) }) } }, T = function (n) { return b.div([M.ref("ace"), C.css(n.variableHeight ? "" : "ace_editor-variable-height")])([]) }, N = function (n) { return { text: n.value, editor: v.Nothing.value, connection: v.Nothing.value, variableHeight: n.variableHeight, readonly: n.readonly, language: n.language } }, L = function (n) { return function (n) { return function (e) { if (e instanceof D) return f.bind(E.bindHalogenM)(S.getHTMLElementRef("ace"))(d.traverse_(E.applicativeHalogenM)(d.foldableMaybe)(function (e) { return f.bind(E.bindHalogenM)(s.get(E.monadStateHalogenM))(function (t) { return f.bind(E.bindHalogenM)(w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(r.editNode(e)(r.ace)))(function (e) { return f.bind(E.bindHalogenM)(w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(u.getSession(e)))(function (r) { return f.discard(f.discardUnit)(E.bindHalogenM)(s.modify_(E.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.editor = new v.Just(e), t }))(function () { return f.discard(f.discardUnit)(E.bindHalogenM)(P(n.MonadEffect0())(n))(function () { return f.discard(f.discardUnit)(E.bindHalogenM)(p.void(E.functorHalogenM)(E.subscribe(I.effectEventSource(n)(function (n) { return function () { return o.onChange(r)(function (e) { return I.emit(n)(k.value) })(), m.mempty(I.monoidFinalizer(g.applicativeEffect)) } }))))(function () { return d.for_(E.applicativeHalogenM)(d.foldableMaybe)(t.language)(function (u) { return f.discard(f.discardUnit)(E.bindHalogenM)(w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(o.setMode("ace/mode/" + u)(r)))(function () { return l.when(E.applicativeHalogenM)(!t.readonly)(f.bind(E.bindHalogenM)(H.createConnection(E.monadEffectHalogenM(n.MonadEffect0())))(function (r) { return f.discard(f.discardUnit)(E.bindHalogenM)(s.modify_(E.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.connection = new v.Just(r), e }))(function () { return f.discard(f.discardUnit)(E.bindHalogenM)(w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(H.onOpen(r)(function () { return H.initialize(r)(), H.didOpen(r)({ textDocument: { uri: "main", languageId: "python", text: t.text, version: 0 } })() })))(function () { return f.bind(E.bindHalogenM)(w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(i.mkCompleter(function (n) { return function (e) { return function (e) { return function (e) { return function (t) { return function (r) { var a, o, u = function (n) { return { value: n.insertText, score: 0, meta: n.label, caption: new v.Just(n.documentation) } }; return H.complete(n)({ textDocument: { uri: "main" }, position: { line: e.row, character: e.column }, context: { triggerKind: 2, triggerCharacter: t } })((o = p.map(v.functorMaybe)((a = p.map(p.functorArray)(u), function (n) { return a(n.items) })), function (n) { return r(o(n)) })) } } } } } }(r))))(function (t) { return w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(a.setCompleters([t])(e)) }) }) }) })) }) }) }) }) }) }) }) }) })); if (e instanceof A) return s.modify_(E.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.editor = v.Nothing.value, e }); if (e instanceof k) return f.bind(E.bindHalogenM)(s.get(E.monadStateHalogenM))(function (e) { return d.for_(E.applicativeHalogenM)(d.foldableMaybe)(e.editor)(function (t) { return f.bind(E.bindHalogenM)(w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(u.getValue(t)))(function (t) { return l.when(E.applicativeHalogenM)(t !== e.text)(f.discard(f.discardUnit)(E.bindHalogenM)(s.modify_(E.monadStateHalogenM)(function (n) { var e = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]); return e.text = t, e }))(function () { return f.discard(f.discardUnit)(E.bindHalogenM)(E.raise(t))(function () { return f.bind(E.bindHalogenM)(s.gets(E.monadStateHalogenM)(function (n) { return n.connection }))(d.traverse_(E.applicativeHalogenM)(d.foldableMaybe)(function (e) { return w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(H.didChange(e)({ textDocument: { uri: "main", version: 0 }, contentChanges: [{ text: t }] })) })) }) })) }) }) }); if (e instanceof F) return f.bind(E.bindHalogenM)(s.get(E.monadStateHalogenM))(function (t) { return l.when(E.applicativeHalogenM)(e.value0.value !== t.text)(f.discard(f.discardUnit)(E.bindHalogenM)(s.modify_(E.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.text = e.value0.value, t }))(function () { return d.for_(E.applicativeHalogenM)(d.foldableMaybe)(t.editor)(function (e) { return f.bind(E.bindHalogenM)(w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(u.getCursorPosition(e)))(function (t) { return f.discard(f.discardUnit)(E.bindHalogenM)(P(n.MonadEffect0())(n))(function () { return w.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(u.moveCursorTo(c.getRow(t))(v.Just.create(c.getColumn(t)))(v.Nothing.value)(e)) }) }) }) })) }); throw new Error("Failed pattern match at Incentknow.Molecules.AceEditor (line 134, column 16 - line 196, column 94): " + [e.constructor.name]) } } }; e.component = function (n) { return h.mkComponent({ initialState: N, render: T, eval: h.mkEval({ handleAction: L(n.MonadEffect0())(n), handleQuery: h.defaultEval.handleQuery, receive: function (n) { return v.Just.create(F.create(n)) }, initialize: new v.Just(D.value), finalize: new v.Just(A.value) }) }) } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.ContentLink"] = n["Incentknow.Molecules.ContentLink"] || {}; var e = n["Incentknow.Molecules.ContentLink"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Eq"], u = n["Data.Maybe"], i = n["Data.Unit"], c = n["Halogen.Component"], l = n["Halogen.HTML.Core"], f = n["Halogen.Query.HalogenM"], s = n["Incentknow.AppM"], d = n["Incentknow.Data.Content"], p = n["Incentknow.HTML.Utils"], v = n["Incentknow.Route"], m = function () { function n() { } return n.value = new n, n }(), g = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), w = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), y = function (n) { return p.maybeElem(n.content)(function (e) { return p.maybeElem(n.format)(function (n) { return function (n) { return function (e) { var t = d.getContentSemanticData(n.data)(e); return l.text(t.title) } }(e)(n) }) }) }, h = function (n) { return { contentSpec: n.value, content: u.Nothing.value, format: u.Nothing.value } }, b = function (n) { return function (e) { return function (u) { return function (u) { if (u instanceof m) return r.bind(f.bindHalogenM)(a.get(f.monadStateHalogenM))(function (n) { return t.pure(f.applicativeHalogenM)(i.unit) }); if (u instanceof g) return r.bind(f.bindHalogenM)(a.get(f.monadStateHalogenM))(function (i) { return t.when(f.applicativeHalogenM)(o.notEq(v.eqContentSpec)(u.value0.value)(i.contentSpec))(r.discard(r.discardUnit)(f.bindHalogenM)(a.modify_(f.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.contentSpec = u.value0.value, e }))(function () { return b(n)(e)(n.MonadEffect0())(m.value) })) }); if (u instanceof w) return s.navigate(s.behaviourHalogenM(n))(u.value0); throw new Error("Failed pattern match at Incentknow.Molecules.ContentLink (line 87, column 16 - line 100, column 35): " + [u.constructor.name]) } } } }; e.component = function (n) { return function (e) { return function (t) { return c.mkComponent({ initialState: h, render: y, eval: c.mkEval({ handleAction: b(n)(e)(n.MonadEffect0()), handleQuery: c.defaultEval.handleQuery, receive: function (n) { return u.Just.create(g.create(n)) }, initialize: new u.Just(m.value), finalize: c.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.Content.ValueViewer"] = n["Incentknow.Organisms.Content.ValueViewer"] || {}; var e = n["Incentknow.Organisms.Content.ValueViewer"], t = n["Control.Monad.State.Class"], r = n["Data.Argonaut.Core"], a = n["Data.Array"], o = (n["Data.Either"], n["Data.Foldable"]), u = n["Data.Function"], i = n["Data.Functor"], c = n["Data.Map.Internal"], l = n["Data.Maybe"], f = n["Data.Newtype"], s = n["Data.Ord"], d = n["Data.Show"], p = n["Data.Symbol"], v = n["Data.Tuple"], m = n["Data.Unit"], g = n["Data.Void"], w = n["Halogen.Component"], y = n["Halogen.HTML"], h = n["Halogen.HTML.Core"], b = n["Halogen.HTML.Elements"], M = n["Halogen.HTML.Properties"], S = n["Halogen.Query.HalogenM"], I = n["Incentknow.Data.Ids"], E = n["Incentknow.Data.Property"], C = n["Incentknow.Molecules.AceEditor"], H = n["Incentknow.Molecules.ContentLink"], D = n["Incentknow.Route"], A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function (n) { return { value: n.value, type: n.type } }, F = function (n) { return function (e) { return function (e) { return w.mkComponent({ initialState: k, render: function (n) { return function (e) { return function (t) { var w, S = (w = l.fromMaybe(""), function (n) { return w(r.toString(n)) }); if (t.type instanceof E.EnumType) { var A = c.fromFoldable(s.ordString)(o.foldableArray)(i.map(i.functorArray)(function (n) { return new v.Tuple(n.id, n.displayName) })(t.type.value0.enumerators)); return h.text(l.fromMaybe("")(u.flip(c.lookup(s.ordString))(A)(S(t.value)))) } if (t.type instanceof E.StringType) return h.text(S(t.value)); if (t.type instanceof E.IntType) return h.text(l.fromMaybe("NaN")(i.map(l.functorMaybe)(d.show(d.showNumber))(r.toNumber(t.value)))); if (t.type instanceof E.BoolType) return h.text(l.fromMaybe("NaN")(i.map(l.functorMaybe)(d.show(d.showBoolean))(r.toBoolean(t.value)))); if (t.type instanceof E.TextType) return h.text(S(t.value)); if (t.type instanceof E.CodeType) return y.slot()(new p.IsSymbol(function () { return "aceEditor" }))(s.ordUnit)(p.SProxy.value)(m.unit)(C.component(e))({ value: S(t.value), language: t.type.value0.language, variableHeight: !0, readonly: !0 })(u.const(l.Nothing.value)); if (t.type instanceof E.FormatType) return h.text(""); if (t.type instanceof E.SpaceType) return h.text(""); if (t.type instanceof E.ContentType) { if ((k = r.toString(t.value)) instanceof l.Just) return y.slot()(new p.IsSymbol(function () { return "contentLink" }))(s.ordUnit)(p.SProxy.value)(m.unit)(H.component(n)(e)(n.MonadEffect0()))({ value: D.ContentSpecContentId.create(f.wrap(I.newtypeContentId)(k.value0)) })(g.absurd); if (k instanceof l.Nothing) return h.text(""); throw new Error("Failed pattern match at Incentknow.Organisms.Content.ValueViewer (line 85, column 23 - line 87, column 26): " + [k.constructor.name]) } if (t.type instanceof E.EntityType) { var k; if ((k = r.toString(t.value)) instanceof l.Just) return y.slot()(new p.IsSymbol(function () { return "contentLink" }))(s.ordUnit)(p.SProxy.value)(m.unit)(H.component(n)(e)(n.MonadEffect0()))({ value: D.ContentSpecSemanticId.create(t.type.value0.format)(f.wrap(I.newtypeSemanticId)(k.value0)) })(g.absurd); if (k instanceof l.Nothing) return h.text(""); throw new Error("Failed pattern match at Incentknow.Organisms.Content.ValueViewer (line 88, column 22 - line 90, column 26): " + [k.constructor.name]) } if (t.type instanceof E.DocumentType) return h.text(""); if (t.type instanceof E.UrlType) return b.a([M.href(S(t.value))])([h.text(S(t.value))]); if (t.type instanceof E.ArrayType) { new E.StringType({}); var P = l.fromMaybe([])(r.toArray(t.value)); return b.div_(a.mapWithIndex(function (o) { return function (u) { return y.slot()(new p.IsSymbol(function () { return "value" }))(s.ordInt)(p.SProxy.value)(o)(F(n)(n.MonadEffect0())(e))({ value: l.fromMaybe(r.jsonNull)(a.index(P)(o)), type: t.type.value0.type })(g.absurd) } })(P)) } if (t.type instanceof E.ObjectType) { var T = E.mkProperties(t.value)(t.type.value0.properties); return b.div_(i.map(i.functorArray)(function (t) { return b.dl([])([b.dt([])([b.label_([h.text(t.info.displayName)])]), b.dd([])([y.slot()(new p.IsSymbol(function () { return "property" }))(s.ordString)(p.SProxy.value)(t.info.id)(F(n)(n.MonadEffect0())(e))({ value: t.value, type: t.info.type })(g.absurd)])]) })(T)) } if (t.type instanceof E.ImageType) return b.img([M.src(S(t.value))]); throw new Error("Failed pattern match at Incentknow.Organisms.Content.ValueViewer (line 67, column 16 - line 114, column 52): " + [t.type.constructor.name]) } } }(n)(e), eval: w.mkEval({ handleAction: (n.MonadEffect0(), function (n) { return function (n) { return t.put(S.monadStateHalogenM)(k(n.value0)) } })(e), handleQuery: w.defaultEval.handleQuery, receive: function (n) { return l.Just.create(A.create(n)) }, initialize: w.defaultEval.initialize, finalize: w.defaultEval.finalize }) }) } } }; e.component = F }(PS), function (n) { "use strict"; n["Incentknow.Organisms.Content.Viewer"] = n["Incentknow.Organisms.Content.Viewer"] || {}; var e = n["Incentknow.Organisms.Content.Viewer"], t = n["Control.Monad.State.Class"], r = n["Data.Functor"], a = n["Data.Maybe"], o = n["Data.Ord"], u = n["Data.Symbol"], i = n["Data.Unit"], c = n["Data.Void"], l = n["Halogen.Component"], f = n["Halogen.HTML"], s = n["Halogen.Query.HalogenM"], d = n["Incentknow.Data.Property"], p = n["Incentknow.Organisms.Content.ValueViewer"], v = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), m = function (n) { return { data: (e = n.format, function (n) { return { value: n, type: new d.ObjectType({ properties: r.map(r.functorArray)(d.toPropertyInfo)(e.structure.properties) }) } })(n.value) }; var e }; e.component = function (n) { return function (e) { return function (e) { return l.mkComponent({ initialState: m, render: function (n) { return function (e) { return function (t) { return f.slot()(new u.IsSymbol(function () { return "value" }))(o.ordUnit)(u.SProxy.value)(i.unit)(p.component(n)(n.MonadEffect0())(e))(t.data)(c.absurd) } } }(n)(e), eval: l.mkEval({ handleAction: (n.MonadEffect0(), function (n) { return function (n) { return t.put(s.monadStateHalogenM)(m(n.value0)) } })(e), handleQuery: l.defaultEval.handleQuery, receive: function (n) { return a.Just.create(v.create(n)) }, initialize: l.defaultEval.initialize, finalize: l.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.ContentList"] = n["Incentknow.Organisms.ContentList"] || {}; var e = n["Incentknow.Organisms.ContentList"], t = n["Control.Monad.State.Class"], r = n["Data.Array"], a = n["Data.Eq"], o = n["Data.Foldable"], u = n["Data.Functor"], i = n["Data.Map.Internal"], c = n["Data.Maybe"], l = n["Data.Ord"], f = n["Data.Set"], s = n["Data.Show"], d = n["Data.Symbol"], p = n["Data.Unfoldable"], v = n["Data.Unit"], m = n["Data.Void"], g = n["Halogen.Component"], w = n["Halogen.HTML"], y = n["Halogen.HTML.Core"], h = n["Halogen.Query.HalogenM"], b = n["Incentknow.AppM"], M = n["Incentknow.Data.Content"], S = n["Incentknow.Data.Ids"], I = n["Incentknow.HTML.Utils"], E = n["Incentknow.Molecules.FormatMenu"], C = n["Incentknow.Organisms.ListView"], H = n["Incentknow.Route"], D = n["Incentknow.Templates.Page"], A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), F = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), P = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), T = function (n) { return function (e) { return function (t) { var o = r.catMaybes(u.map(u.functorArray)(function (n) { var e; return c.Just.create((e = n, function (n) { var t = M.getContentSemanticData(e.data)(e.format); return { user: n, datetime: new c.Just(e.updatedAt), title: t.title, format: new c.Just(e.format), route: new H.Content(e.contentId) } })(c.Nothing.value)) })(r.filter(function (n) { return c.maybe(!0)(function (e) { return a.eq(S.eqFormatId)(n.formatId)(e) })(t.formatId) })(t.contents))); return D.tabGrouping(H.eqContentTab)({ tabs: [H.ContentMain.value], onChangeTab: P.create, currentTab: t.tab, showTab: function (n) { return "\u5168\u3066" } })([y.text(s.show(s.showInt)(t.formatNum) + "\u7a2e\u985e\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8"), I.whenElem(t.formatNum > 1)(function (a) { return w.slot()(new d.IsSymbol(function () { return "formatMenu" }))(l.ordUnit)(d.SProxy.value)(v.unit)(E.component(n)(e)(n.MonadEffect0()))({ value: t.formatId, filter: new E.Formats(t.formats), disabled: 0 === r.length(o) })(function (n) { return c.Just.create(F.create(n)) }) })])([w.slot()(new d.IsSymbol(function () { return "listView" }))(l.ordUnit)(d.SProxy.value)(v.unit)(C.component(n)(e)(n.MonadEffect0()))({ items: o })(m.absurd)]) } } }, N = function (n) { var e = r.nubByEq(function (n) { return function (e) { return a.eq(S.eqFormatId)(n.formatId)(e.formatId) } })(u.map(u.functorArray)(function (n) { return n.format })(n.value)), t = f.toUnfoldable(p.unfoldableArray)(f.fromFoldable(o.foldableArray)(S.ordFormatId)(u.map(u.functorArray)(function (n) { return n.formatId })(n.value))); return { contents: n.value, users: i.empty, formatId: 1 === r.length(t) ? r.head(t) : c.Nothing.value, formatNum: r.length(t), formats: e, tab: H.ContentMain.value } }; e.component = function (n) { return function (e) { return function (r) { return g.mkComponent({ initialState: N, render: T(n)(e), eval: g.mkEval({ handleAction: function (n) { return function (e) { return function (e) { if (e instanceof A) return t.put(h.monadStateHalogenM)(N(e.value0)); if (e instanceof k) return b.navigate(b.behaviourHalogenM(n))(e.value0); if (e instanceof F) return t.modify_(h.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.formatId = e.value0, t }); if (e instanceof P) return t.modify_(h.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.tab = e.value0, t }); throw new Error("Failed pattern match at Incentknow.Organisms.ContentList (line 131, column 16 - line 135, column 45): " + [e.constructor.name]) } } }(n)(n.MonadEffect0()), handleQuery: g.defaultEval.handleQuery, receive: function (n) { return c.Just.create(A.create(n)) }, initialize: g.defaultEval.initialize, finalize: g.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.UserCard"] = n["Incentknow.Organisms.UserCard"] || {}; var e = n["Incentknow.Organisms.UserCard"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Maybe"], u = n["Data.Newtype"], i = n["Data.Unit"], c = n["Halogen.Component"], l = n["Halogen.HTML.Core"], f = n["Halogen.HTML.Elements"], s = n["Halogen.HTML.Properties"], d = n["Halogen.Query.HalogenM"], p = n["Incentknow.Api"], v = n["Incentknow.Api.Execution"], m = n["Incentknow.AppM"], g = n["Incentknow.Atoms.Icon"], w = n["Incentknow.Data.Ids"], y = n["Incentknow.HTML.DateTime"], h = n["Incentknow.HTML.Utils"], b = n["Incentknow.Route"], M = function () { function n() { } return n.value = new n, n }(), S = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), I = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function (n) { return f.div([h.css("org-usercard")])([h.link_(I.create)(new b.User(n.userId, b.UserMain.value))([f.img([s.src(o.maybe(p.defaultIconUrl)(function (n) { return n.iconUrl })(v.toMaybe(n.user)))])]), f.div([h.css("info")])([h.link(I.create)(new b.User(n.userId, b.UserMain.value))([h.css("username")])([l.text(o.maybe(u.unwrap(w.newtypeUserId)(n.userId))(function (n) { return n.displayName })(v.toMaybe(n.user)))]), g.remoteWith(n.user)(function (e) { return f.div([h.css("timestamp")])([y.dateTime(n.timestamp)]) })])]) }, H = function (n) { return { userId: n.userId, timestamp: n.timestamp, user: v.Loading.value } }; e.component = function (n) { return function (e) { return c.mkComponent({ initialState: H, render: C, eval: c.mkEval({ handleAction: function (n) { return function (e) { return function (o) { if (o instanceof M) return r.bind(d.bindHalogenM)(a.get(d.monadStateHalogenM))(function (e) { return v.fetchApi(n)(E.create)(p.getUser(e.userId)) }); if (o instanceof E) return v.forFetch(m.behaviourHalogenM(e))(o.value0)(function (n) { return a.modify_(d.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.user = n, t }) }); if (o instanceof S) return t.pure(d.applicativeHalogenM)(i.unit); if (o instanceof I) return m.navigateRoute(m.behaviourHalogenM(e))(o.value0)(o.value1); throw new Error("Failed pattern match at Incentknow.Organisms.UserCard (line 64, column 16 - line 72, column 52): " + [o.constructor.name]) } } }(n)(e), handleQuery: c.defaultEval.handleQuery, receive: function (n) { return o.Just.create(S.create(n)) }, initialize: new o.Just(M.value), finalize: c.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Content"] = n["Incentknow.Pages.Content"] || {}; var e = n["Incentknow.Pages.Content"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Array"], u = n["Data.Eq"], i = n["Data.Foldable"], c = n["Data.Functor"], l = n["Data.Int"], f = n["Data.Map.Internal"], s = n["Data.Maybe"], d = n["Data.Ord"], p = n["Data.Semigroup"], v = n["Data.Show"], m = n["Data.Symbol"], g = n["Data.Unit"], w = n["Data.Void"], y = n["Halogen.Component"], h = n["Halogen.HTML"], b = n["Halogen.HTML.Core"], M = n["Halogen.HTML.Elements"], S = n["Halogen.Query.HalogenM"], I = n["Incentknow.Api"], E = n["Incentknow.Api.Execution"], C = n["Incentknow.AppM"], H = n["Incentknow.Atoms.Icon"], D = n["Incentknow.Atoms.Inputs"], A = n["Incentknow.Data.Content"], k = n["Incentknow.HTML.Utils"], F = n["Incentknow.Organisms.Content.Viewer"], P = n["Incentknow.Organisms.ContentList"], T = n["Incentknow.Organisms.UserCard"], N = n["Incentknow.Route"], L = n["Incentknow.Templates.Page"], x = function () { function n() { } return n.value = new n, n }(), U = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), J = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), O = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), R = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), _ = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), q = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), W = function (n) { return function (e) { return function (t) { return L.section("page-content")([M.div([k.css("header")])([h.slot()(new m.IsSymbol(function () { return "userCard" }))(d.ordUnit)(m.SProxy.value)(g.unit)(T.component(e)(n))({ userId: t.creatorUserId, timestamp: t.createdAt })(w.absurd), M.div([k.css("space")])([]), M.div([k.css("buttons")])([M.div([k.css("container")])([M.div([k.css("rivision")])([k.link_(O.create)(new N.RivisionList(t.contentId))([b.text("\u30ea\u30d3\u30b8\u30e7\u30f3")])]), M.div([k.css("edit")])([D.button("\u7de8\u96c6")(R.create(new N.EditContent(t.contentId)))])])])]), h.slot()(new m.IsSymbol(function () { return "content" }))(d.ordUnit)(m.SProxy.value)(g.unit)(F.component(n)(n.MonadEffect0())(e))({ format: t.format, value: t.data })(w.absurd)]) } } }, B = function (n) { return { contentSpec: n.contentSpec, content: s.Nothing.value, relationalContents: f.empty, tab: "main", contentSubId: s.Nothing.value } }, Q = function (n) { return function (e) { return function (c) { if (c instanceof x) return r.bind(S.bindHalogenM)(a.get(S.monadStateHalogenM))(function (n) { return r.discard(r.discardUnit)(S.bindHalogenM)(i.for_(S.applicativeHalogenM)(i.foldableMaybe)(n.contentSubId)(function (n) { return S.unsubscribe(n) }))(function () { if (n.contentSpec instanceof N.ContentSpecContentId) return r.bind(S.bindHalogenM)(E.subscribeApi(e)(U.create)(I.onSnapshotContent(n.contentSpec.value0)))(function (n) { return a.modify_(S.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.contentSubId = new s.Just(n), t }) }); if (n.contentSpec instanceof N.ContentSpecSemanticId) return E.callbackApi(e)(U.create)(I.onLoadContentBySemanticId(n.contentSpec.value0)(n.contentSpec.value1)); throw new Error("Failed pattern match at Incentknow.Pages.Content (line 134, column 5 - line 139, column 82): " + [n.contentSpec.constructor.name]) }) }); if (c instanceof U) return r.bind(S.bindHalogenM)(a.get(S.monadStateHalogenM))(function (e) { return r.discard(r.discardUnit)(S.bindHalogenM)(function () { if (e.contentSpec instanceof N.ContentSpecSemanticId) return C.pushState(C.behaviourHalogenM(n))(new N.Content(c.value0.contentId)); if (e.contentSpec instanceof N.ContentSpecContentId) return t.pure(S.applicativeHalogenM)(g.unit); throw new Error("Failed pattern match at Incentknow.Pages.Content (line 142, column 5 - line 146, column 18): " + [e.contentSpec.constructor.name]) }())(function () { return a.modify_(S.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.content = new s.Just(c.value0), e }) }) }); if (c instanceof J) return r.bind(S.bindHalogenM)(a.get(S.monadStateHalogenM))(function (o) { return t.when(S.applicativeHalogenM)(u.notEq(N.eqContentSpec)(c.value0.contentSpec)(o.contentSpec))(r.discard(r.discardUnit)(S.bindHalogenM)(a.put(S.monadStateHalogenM)(B(c.value0)))(function () { return Q(n)(e)(x.value) })) }); if (c instanceof O) return C.navigateRoute(C.behaviourHalogenM(n))(c.value0)(c.value1); if (c instanceof R) return C.navigate(C.behaviourHalogenM(n))(c.value0); if (c instanceof q) return E.forFetch(C.behaviourHalogenM(n))(c.value1)(function (n) { return a.modify_(S.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.relationalContents = f.insert(d.ordString)(c.value0)(n)(e.relationalContents), t }) }); if (c instanceof _) return r.bind(S.bindHalogenM)(a.modify(S.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.tab = c.value0, e }))(function (n) { if ("main" === c.value0) return t.pure(S.applicativeHalogenM)(g.unit); var e = s.fromMaybe(0)(l.fromString(c.value0)); return i.for_(S.applicativeHalogenM)(i.foldableMaybe)(n.content)(function (r) { return t.when(S.applicativeHalogenM)(!f.member(d.ordString)(c.value0)(n.relationalContents))(i.for_(S.applicativeHalogenM)(i.foldableMaybe)(o.index(r.format.contentPage.relations)(e))(function (n) { return t.pure(S.applicativeHalogenM)(g.unit) })) }) }); throw new Error("Failed pattern match at Incentknow.Pages.Content (line 129, column 16 - line 167, column 22): " + [c.constructor.name]) } } }; e.component = function (n) { return function (e) { return y.mkComponent({ initialState: B, render: function (n) { return function (e) { return function (t) { return k.maybeElem(t.content)(function (r) { return 0 === o.length(r.format.contentPage.relations) ? W(n)(e)(r) : L.tabPage(u.eqString)({ tabs: p.append(p.semigroupArray)(["main"])(c.map(c.functorArray)(v.show(v.showInt))(o.range(0)(o.length(r.format.contentPage.relations) - 1 | 0))), currentTab: t.tab, onChangeTab: _.create, showTab: function (n) { return "main" === n ? "Main" : s.maybe("Error")(function (n) { return n.displayName })(o.index(r.format.contentPage.relations)(s.fromMaybe(0)(l.fromString(n)))) } })([])([b.text(A.getContentSemanticData(r.data)(r.format).title)])(["main" === t.tab ? W(n)(e)(r) : k.maybeElem(f.lookup(d.ordString)(t.tab)(t.relationalContents))(function (r) { return H.remoteWith(r)(function (r) { return h.slot()(new m.IsSymbol(function () { return "contentList" }))(d.ordString)(m.SProxy.value)(t.tab)(P.component(n)(e)(n.MonadEffect0()))({ value: r })(w.absurd) }) })]) }) } } }(n)(e), eval: y.mkEval({ handleAction: Q(n)(e), handleQuery: y.defaultEval.handleQuery, receive: function (n) { return s.Just.create(J.create(n)) }, initialize: new s.Just(x.value), finalize: y.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Composition.Outliner"] = n["Incentknow.Pages.Composition.Outliner"] || {}; var e = n["Incentknow.Pages.Composition.Outliner"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Argonaut.Core"], u = n["Data.Array"], i = n["Data.Foldable"], c = n["Data.Functor"], l = n["Data.List.Types"], f = n["Data.Map"], s = n["Data.Map.Internal"], d = n["Data.Maybe"], p = n["Data.Maybe.Utils"], v = n["Data.Set"], m = n["Data.Symbol"], g = n["Data.Unit"], w = n["Data.Void"], y = n["Foreign.Object"], h = n["Halogen.Component"], b = n["Halogen.HTML"], M = n["Halogen.HTML.Elements"], S = n["Halogen.Query.HalogenM"], I = n["Incentknow.Api"], E = n["Incentknow.Api.Execution"], C = n["Incentknow.Data.Ids"], H = n["Incentknow.HTML.Utils"], D = n["Incentknow.Pages.Content"], A = n["Incentknow.Route"], k = function () { function n() { } return n.value = new n, n }(), F = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), P = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), T = function (n) { return { spaceId: n.spaceId, formatId: n.formatId, outliner: n.outliner, items: s.empty } }, N = { content: d.Nothing.value, children: v.empty, parent: d.Nothing.value }, L = function (n) { return function (e) { return function (e) { if (e instanceof k) return r.bind(S.bindHalogenM)(a.get(S.monadStateHalogenM))(function (e) { var t, r = (t = e.formatId, function (n) { return s.alter(C.ordFormatId)(d.maybe(new d.Just(d.Nothing.value))(d.Just.create))(t)(c.map(s.functorMap)(d.Just.create)(n)) })(e.outliner.parentProperties), a = f.keys(r); return i.for_(S.applicativeHalogenM)(v.foldableSet)(a)(function (t) { var a = p.flatten(s.lookup(C.ordFormatId)(t)(r)); return E.subscribeApi(n)(P.create(a))(I.onSnapshotContents({ formatId: t, spaceId: e.spaceId })) }) }); if (e instanceof F) return t.pure(S.applicativeHalogenM)(g.unit); if (e instanceof P) return a.modify_(S.monadStateHalogenM)(function (n) { var a, u = {}; for (var c in n) ({}).hasOwnProperty.call(n, c) && (u[c] = n[c]); return u.items = i.foldr(i.foldableArray)((a = e.value0, function (n) { return function (e) { var u = r.bind(d.bindMaybe)(a)(function (e) { return r.bind(d.bindMaybe)(o.toObject(n.data))(function (n) { return r.bind(d.bindMaybe)(y.lookup(e)(n))(function (n) { return r.bind(d.bindMaybe)(o.toString(n))(function (n) { return t.pure(d.applicativeMaybe)(n) }) }) }) }), i = s.alter(C.ordContentId)(function (e) { return new d.Just((t = d.fromMaybe(N)(e), { parent: u, content: new d.Just(n), children: t.children })); var t })(n.contentId)(e); if (u instanceof d.Just) return s.alter(C.ordContentId)(function (e) { if (e instanceof d.Just) return new d.Just({ children: v.insert(C.ordContentId)(n.contentId)(e.value0.children), content: e.value0.content, parent: e.value0.parent }); if (e instanceof d.Nothing) return new d.Just({ children: v.singleton(n.contentId), content: N.content, parent: N.parent }); throw new Error("Failed pattern match at Incentknow.Pages.Composition.Outliner (line 107, column 17 - line 109, column 77): " + [e.constructor.name]) })(u.value0)(i); if (u instanceof d.Nothing) return i; throw new Error("Failed pattern match at Incentknow.Pages.Composition.Outliner (line 101, column 44 - line 103, column 24): " + [u.constructor.name]) } }))(n.items)(e.value1), u }); throw new Error("Failed pattern match at Incentknow.Pages.Composition.Outliner (line 122, column 16 - line 135, column 81): " + [e.constructor.name]) } } }; e.component = function (n) { return function (e) { return function (t) { return h.mkComponent({ initialState: T, render: function (n) { return function (e) { return function (t) { var r = function (a) { var o = u.catMaybes(c.map(c.functorArray)(function (n) { return s.lookup(C.ordContentId)(n)(t.items) })(u.fromFoldable(v.foldableSet)(a.children))); return H.maybeElem(a.content)(function (t) { return M.div([H.css("page-cmp-outliner_item")])([b.slot()(new m.IsSymbol(function () { return "content" }))(C.ordContentId)(m.SProxy.value)(t.contentId)(D.component(n)(e))({ contentSpec: new A.ContentSpecContentId(t.contentId) })(w.absurd), H.whenElem(u.length(o) > 0)(function (n) { return M.div([H.css("children")])(c.map(c.functorArray)(r)(o)) })]) }) }; return M.div([H.css("page-cmp-outliner")])(c.map(c.functorArray)(r)(u.filter(function (n) { return d.isNothing(n.parent) })(u.fromFoldable(l.foldableList)(s.values(t.items))))) } } }(n)(e), eval: h.mkEval({ handleAction: L(e)(n.MonadEffect0()), handleQuery: h.defaultEval.handleQuery, receive: function (n) { return d.Just.create(F.create(n)) }, initialize: new d.Just(k.value), finalize: h.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Composition.Timeline"] = n["Incentknow.Pages.Composition.Timeline"] || {}; var e = n["Incentknow.Pages.Composition.Timeline"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Array"], u = n["Data.Foldable"], i = n["Data.Functor"], c = n["Data.Maybe"], l = n["Data.Ord"], f = n["Data.Symbol"], s = n["Data.Unit"], d = n["Data.Void"], p = n["Halogen.Component"], v = n["Halogen.HTML"], m = n["Halogen.HTML.Elements"], g = n["Halogen.Query.HalogenM"], w = n["Incentknow.Api"], y = n["Incentknow.Api.Execution"], h = n["Incentknow.Data.Ids"], b = n["Incentknow.HTML.Utils"], M = n["Incentknow.Pages.Content"], S = n["Incentknow.Route"], I = function () { function n() { } return n.value = new n, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), H = function (n) { return { spaceId: n.spaceId, formatId: n.formatId, contents: [], subId: c.Nothing.value } }; e.component = function (n) { return function (e) { return function (D) { return p.mkComponent({ initialState: H, render: function (n) { return function (e) { return function (t) { return m.div([b.css("page-cmp-timeline")])(i.map(i.functorArray)(function (t) { return m.div([b.css("item")])([v.slot()(new f.IsSymbol(function () { return "content" }))(h.ordContentId)(f.SProxy.value)(t.contentId)(M.component(e)(n))({ contentSpec: new S.ContentSpecContentId(t.contentId) })(d.absurd)]) })(t.contents)) } } }(n)(e), eval: p.mkEval({ handleAction: function (n) { return function (e) { return function (e) { return function (e) { if (e instanceof I) return r.bind(g.bindHalogenM)(a.get(g.monadStateHalogenM))(function (e) { return r.discard(r.discardUnit)(g.bindHalogenM)(u.for_(g.applicativeHalogenM)(u.foldableMaybe)(e.subId)(function (n) { return g.unsubscribe(n) }))(function () { return r.bind(g.bindHalogenM)(y.subscribeApi(n)(C.create)(w.onSnapshotContents({ spaceId: e.spaceId, formatId: e.formatId })))(function (n) { return a.modify_(g.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.subId = new c.Just(n), t }) }) }) }); if (e instanceof C) { var i = function (n) { return function (e) { return l.compare(l.ordNumber)(e.createdAt)(n.createdAt) } }; return a.modify_(g.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.contents = o.sortBy(i)(e.value0), t }) } if (e instanceof E) return t.pure(g.applicativeHalogenM)(s.unit); throw new Error("Failed pattern match at Incentknow.Pages.Composition.Timeline (line 62, column 16 - line 73, column 33): " + [e.constructor.name]) } } } }(n)(e)(e.MonadEffect0()), handleQuery: p.defaultEval.handleQuery, receive: function (n) { return c.Just.create(E.create(n)) }, initialize: new c.Just(I.value), finalize: p.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Composition"] = n["Incentknow.Pages.Composition"] || {}; var e = n["Incentknow.Pages.Composition"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Array"], u = n["Data.Eq"], i = n["Data.Maybe"], c = n["Data.Ord"], l = n["Data.Symbol"], f = n["Data.Unit"], s = n["Data.Void"], d = n["Halogen.Component"], p = n["Halogen.HTML"], v = n["Halogen.HTML.Core"], m = n["Halogen.HTML.Elements"], g = n["Halogen.Query.HalogenM"], w = n["Incentknow.Data.Page"], y = n["Incentknow.HTML.Utils"], h = n["Incentknow.Pages.Composition.Outliner"], b = n["Incentknow.Pages.Composition.Timeline"], M = n["Incentknow.Templates.Page"], S = function () { function n() { } return n.value = new n, n }(), I = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), E = function (n) { return { formatId: n.formatId, spaceId: n.spaceId, format: i.Nothing.value, compotisions: [], tab: 0 } }; e.component = function (n) { return function (e) { return function (C) { return d.mkComponent({ initialState: E, render: function (n) { return function (e) { return function (t) { return function (t) { return y.maybeElem(t.format)(function (r) { return M.tabPage(u.eqInt)({ tabs: o.range(0)(o.length(t.compotisions) - 1 | 0), currentTab: t.tab, onChangeTab: I.create, showTab: function (n) { var e = o.index(t.compotisions)(n); if (e instanceof i.Just && e.value0 instanceof w.CompositionOutliner) return "Outliner"; if (e instanceof i.Just && e.value0 instanceof w.CompositionBoard) return "Borad"; if (e instanceof i.Just && e.value0 instanceof w.CompositionGallery) return "Gallery"; if (e instanceof i.Just && e.value0 instanceof w.CompositionTimeline) return "Timeline"; if (e instanceof i.Just && e.value0 instanceof w.CompositionList) return "List"; if (e instanceof i.Just && e.value0 instanceof w.CompositionTable) return "Table"; if (e instanceof i.Nothing) return "\u30a8\u30e9\u30fc"; throw new Error("Failed pattern match at Incentknow.Pages.Composition (line 71, column 19 - line 78, column 29): " + [e.constructor.name]) } })([])([m.div([y.css("page-space")])([m.div([y.css("name")])([v.text(r.displayName)])])])([(a = o.index(t.compotisions)(t.tab), a instanceof i.Just && a.value0 instanceof w.CompositionOutliner ? p.slot()(new l.IsSymbol(function () { return "outliner" }))(c.ordUnit)(l.SProxy.value)(f.unit)(h.component(n)(e)(n.MonadEffect0()))({ spaceId: t.spaceId, formatId: t.formatId, outliner: a.value0.value0 })(s.absurd) : a instanceof i.Just && a.value0 instanceof w.CompositionTimeline ? p.slot()(new l.IsSymbol(function () { return "timeline" }))(c.ordUnit)(l.SProxy.value)(f.unit)(b.component(e)(n)(n.MonadEffect0()))({ spaceId: t.spaceId, formatId: t.formatId })(s.absurd) : v.text(""))]); var a }) } } } }(n)(e)(n.MonadEffect0()), eval: d.mkEval({ handleAction: (n.MonadEffect0(), function (n) { if (n instanceof S) return r.bind(g.bindHalogenM)(a.get(g.monadStateHalogenM))(function (n) { return t.pure(g.applicativeHalogenM)(f.unit) }); if (n instanceof I) return a.modify_(g.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.tab = n.value0, t }); throw new Error("Failed pattern match at Incentknow.Pages.Composition (line 93, column 16 - line 100, column 45): " + [n.constructor.name]) }), handleQuery: d.defaultEval.handleQuery, receive: d.defaultEval.receive, initialize: new i.Just(S.value), finalize: d.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.Table"] = n["Incentknow.Organisms.Table"] || {}; var e = n["Incentknow.Organisms.Table"], t = n["Control.Applicative"], r = n["Control.Monad.State.Class"], a = n["Data.Functor"], o = n["Data.Maybe"], u = n["Data.Unit"], i = n["Halogen.Component"], c = n["Halogen.HTML.Core"], l = n["Halogen.HTML.Elements"], f = n["Halogen.Query.HalogenM"], s = n["Incentknow.AppM"], d = n["Incentknow.HTML.Utils"], p = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), v = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), m = function () { function n() { } return n.value = new n, n }(), g = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), w = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), y = function (n) { var e = function (n) { return l.td([])([function () { if (n.value0 instanceof o.Just) return d.link_(w.create)(n.value0.value0)([c.text(n.value1)]); if (n.value0 instanceof o.Nothing) return c.text(n.value1); throw new Error("Failed pattern match at Incentknow.Organisms.Table (line 71, column 9 - line 73, column 34): " + [n.value0.constructor.name]) }()]) }; return l.table([d.css("org-table")])([l.thead([])([l.tr([])(a.map(a.functorArray)(function (n) { return l.th([])([c.text(n)]) })(n.headers))]), l.tbody([])(a.map(a.functorArray)(function (n) { return l.tr([])(a.map(a.functorArray)(e)(n.value0)) })(n.rows))]) }, h = function (n) { return { headers: n.headers, rows: n.rows } }; e.TableCell = p, e.TableRow = v, e.component = function (n) { return function (e) { return i.mkComponent({ initialState: h, render: y, eval: i.mkEval({ handleAction: function (n) { return function (e) { return function (e) { if (e instanceof m) return t.pure(f.applicativeHalogenM)(u.unit); if (e instanceof g) return r.put(f.monadStateHalogenM)(h(e.value0)); if (e instanceof w) return s.navigateRoute(s.behaviourHalogenM(n))(e.value0)(e.value1); throw new Error("Failed pattern match at Incentknow.Organisms.Table (line 77, column 16 - line 80, column 52): " + [e.constructor.name]) } } }(n)(n.MonadEffect0()), handleQuery: i.defaultEval.handleQuery, receive: function (n) { return o.Just.create(g.create(n)) }, initialize: new o.Just(m.value), finalize: i.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Crawler.Caches"] = n["Incentknow.Pages.Crawler.Caches"] || {}; var e = n["Incentknow.Pages.Crawler.Caches"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.DateTime.Utils"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.Newtype"], c = n["Data.Ord"], l = n["Data.Symbol"], f = n["Data.Unit"], s = n["Data.Void"], d = n["Halogen.Component"], p = n["Halogen.HTML"], v = n["Halogen.HTML.Elements"], m = n["Halogen.Query.HalogenM"], g = n["Incentknow.Api"], w = n["Incentknow.Api.Execution"], y = n["Incentknow.AppM"], h = n["Incentknow.Atoms.Icon"], b = n["Incentknow.Data.Ids"], M = n["Incentknow.HTML.Utils"], S = n["Incentknow.Organisms.Table"], I = function () { function n() { } return n.value = new n, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function (n) { return new S.TableRow([S.TableCell.create(u.Nothing.value)(i.unwrap(b.newtypeContentId)(n.scraperId)), S.TableCell.create(u.Nothing.value)(n.url), S.TableCell.create(u.Nothing.value)(a.fromTimestampToString(n.timestamp)), S.TableCell.create(u.Nothing.value)(n.status)]) }, H = function (n) { return { crawlerId: n.crawlerId, caches: w.Loading.value } }, D = ["\u30b9\u30af\u30ec\u30a4\u30d1\u30fcID", "URL", "\u53d6\u5f97\u6642\u523b", "\u30b9\u30c6\u30fc\u30bf\u30b9"]; e.component = function (n) { return function (e) { return function (a) { return d.mkComponent({ initialState: H, render: function (n) { return function (e) { return function (e) { return v.div([M.css("page-crawler-caches")])([h.remoteWith(e.caches)(function (e) { return p.slot()(new l.IsSymbol(function () { return "table" }))(c.ordUnit)(l.SProxy.value)(f.unit)(S.component(n)(n.MonadEffect0()))({ headers: D, rows: o.map(o.functorArray)(C)(e) })(s.absurd) })]) } } }(n)(n.MonadEffect0()), eval: d.mkEval({ handleAction: function (n) { return function (e) { return function (a) { return function (a) { if (a instanceof I) return t.bind(m.bindHalogenM)(r.get(m.monadStateHalogenM))(function (n) { return w.fetchApi(e)(E.create)(g.getCrawlerCaches(n.crawlerId)) }); if (a instanceof E) return w.forFetch(y.behaviourHalogenM(n))(a.value0)(function (n) { return r.modify_(m.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.caches = n, t }) }); throw new Error("Failed pattern match at Incentknow.Pages.Crawler.Caches (line 73, column 16 - line 79, column 38): " + [a.constructor.name]) } } } }(n)(e)(n.MonadEffect0()), handleQuery: d.defaultEval.handleQuery, receive: d.defaultEval.receive, initialize: new u.Just(I.value), finalize: d.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Crawler.Main"] = n["Incentknow.Pages.Crawler.Main"] || {}; var e = n["Incentknow.Pages.Crawler.Main"], t = n["Control.Applicative"], r = n["Control.Monad.State.Class"], a = n["Data.Maybe"], o = n["Data.Unit"], u = n["Halogen.Component"], i = n["Halogen.HTML.Core"], c = n["Halogen.HTML.Elements"], l = n["Halogen.Query.HalogenM"], f = n["Incentknow.Atoms.Inputs"], s = function () { function n() { } return n.value = new n, n }(), d = function () { function n() { } return n.value = new n, n }(), p = function () { function n() { } return n.value = new n, n }(), v = function () { function n() { } return n.value = new n, n }(), m = function (n) { return { crawler: n.crawler, editMode: !1, updating: !1 } }; e.component = function (n) { return function (e) { return function (e) { return u.mkComponent({ initialState: m, render: (n.MonadEffect0(), function (n) { return c.div_([n.editMode ? i.text("") : f.button("\u7de8\u96c6\u3059\u308b")(d.value), n.editMode ? c.div_([f.submitButton({ text: "\u66f4\u65b0\u3059\u308b", loadingText: "\u66f4\u65b0\u4e2d", isDisabled: n.updating, isLoading: n.updating, onClick: v.value }), f.button("\u5909\u66f4\u3092\u7834\u68c4")(p.value)]) : i.text("")]) }), eval: u.mkEval({ handleAction: (n.MonadEffect0(), function (n) { if (n instanceof s) return t.pure(l.applicativeHalogenM)(o.unit); if (n instanceof d) return r.modify_(l.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.editMode = !0, e }); if (n instanceof p) return r.modify_(l.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.editMode = !1, e }); if (n instanceof v) return t.pure(l.applicativeHalogenM)(o.unit); throw new Error("Failed pattern match at Incentknow.Pages.Crawler.Main (line 68, column 16 - line 72, column 26): " + [n.constructor.name]) }), handleQuery: u.defaultEval.handleQuery, receive: u.defaultEval.receive, initialize: new a.Just(s.value), finalize: u.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Crawler.TaskList"] = n["Incentknow.Pages.Crawler.TaskList"] || {}; var e = n["Incentknow.Pages.Crawler.TaskList"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.DateTime.Utils"], u = n["Data.Eq"], i = n["Data.Foldable"], c = n["Data.Functor"], l = n["Data.Maybe"], f = n["Data.Nullable"], s = n["Data.Ord"], d = n["Data.Symbol"], p = n["Data.Unit"], v = n["Data.Void"], m = n["Halogen.Component"], g = n["Halogen.HTML"], w = n["Halogen.HTML.Elements"], y = n["Halogen.Query.HalogenM"], h = n["Incentknow.Api"], b = n["Incentknow.Api.Execution"], M = n["Incentknow.Data.Ids"], S = n["Incentknow.HTML.Utils"], I = n["Incentknow.Organisms.Table"], E = function () { function n() { } return n.value = new n, n }(), C = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function (n) { return new I.TableRow([I.TableCell.create(l.Nothing.value)(n.taskId), I.TableCell.create(l.Nothing.value)(o.fromTimestampToString(n.createdAt)), I.TableCell.create(l.Nothing.value)(l.maybe("")(o.fromTimestampToString)(f.toMaybe(n.endedAt))), new I.TableCell(l.Nothing.value, n.status)]) }, A = function (n) { return { crawlerId: n.crawlerId, operationId: n.operationId, tasks: [], subscriptionId: l.Nothing.value } }, k = ["\u30bf\u30b9\u30afID", "\u958b\u59cb\u6642\u523b", "\u7d42\u4e86\u6642\u523b", "\u30b9\u30c6\u30fc\u30bf\u30b9"], F = function (n) { return function (e) { return function (o) { return function (o) { if (o instanceof E) return r.bind(y.bindHalogenM)(a.get(y.monadStateHalogenM))(function (n) { return r.discard(r.discardUnit)(y.bindHalogenM)(i.for_(y.applicativeHalogenM)(i.foldableMaybe)(n.subscriptionId)(function (n) { return y.unsubscribe(n) }))(function () { return r.bind(y.bindHalogenM)(b.subscribeApi(e)(C.create)(h.onSnapshotCrawlerTasks(n.crawlerId)(n.operationId)))(function (n) { return a.modify_(y.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.subscriptionId = new l.Just(n), t }) }) }) }); if (o instanceof C) return a.modify_(y.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.tasks = o.value0, e }); if (o instanceof H) return r.discard(r.discardUnit)(y.bindHalogenM)(a.put(y.monadStateHalogenM)(A(o.value0)))(function () { return r.bind(y.bindHalogenM)(a.get(y.monadStateHalogenM))(function (r) { return t.when(y.applicativeHalogenM)(u.notEq(M.eqOperationId)(r.operationId)(o.value0.operationId))(F(n)(e)(n.MonadEffect0())(E.value)) }) }); throw new Error("Failed pattern match at Incentknow.Pages.Crawler.TaskList (line 75, column 16 - line 87, column 30): " + [o.constructor.name]) } } } }; e.component = function (n) { return function (e) { return function (t) { return m.mkComponent({ initialState: A, render: function (n) { return function (e) { return function (e) { return w.div([S.css("page-crawler-operations")])([g.slot()(new d.IsSymbol(function () { return "table" }))(s.ordUnit)(d.SProxy.value)(p.unit)(I.component(n)(n.MonadEffect0()))({ headers: k, rows: c.map(c.functorArray)(D)(e.tasks) })(v.absurd)]) } } }(n)(n.MonadEffect0()), eval: m.mkEval({ handleAction: F(n)(e)(n.MonadEffect0()), handleQuery: m.defaultEval.handleQuery, receive: function (n) { return l.Just.create(H.create(n)) }, initialize: new l.Just(E.value), finalize: m.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Crawler.Operation"] = n["Incentknow.Pages.Crawler.Operation"] || {}; var e = n["Incentknow.Pages.Crawler.Operation"], t = n["Control.Applicative"], r = n["Data.Maybe"], a = n["Data.Ord"], o = n["Data.Symbol"], u = n["Data.Unit"], i = n["Data.Void"], c = n["Halogen.Component"], l = n["Halogen.HTML"], f = n["Halogen.HTML.Elements"], s = n["Halogen.Query.HalogenM"], d = n["Incentknow.HTML.Utils"], p = n["Incentknow.Pages.Crawler.TaskList"], v = function () { function n() { } return n.value = new n, n }(), m = function (n) { return { crawlerId: n.crawlerId, operationId: n.operationId } }; e.component = function (n) { return function (e) { return function (g) { return c.mkComponent({ initialState: m, render: function (n) { return function (e) { return function (t) { return f.div([d.css("page-crawler-operations")])([l.slot()(new o.IsSymbol(function () { return "tasks" }))(a.ordUnit)(o.SProxy.value)(u.unit)(p.component(n)(e)(n.MonadEffect0()))({ crawlerId: t.crawlerId, operationId: t.operationId })(i.absurd)]) } } }(n)(e), eval: c.mkEval({ handleAction: (n.MonadEffect0(), function (n) { return t.pure(s.applicativeHalogenM)(u.unit) }), handleQuery: c.defaultEval.handleQuery, receive: c.defaultEval.receive, initialize: new r.Just(v.value), finalize: c.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Crawler.OperationList"] = n["Incentknow.Pages.Crawler.OperationList"] || {}; var e = n["Incentknow.Pages.Crawler.OperationList"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.DateTime.Utils"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.Newtype"], c = n["Data.Nullable"], l = n["Data.Ord"], f = n["Data.Symbol"], s = n["Data.Unit"], d = n["Data.Void"], p = n["Halogen.Component"], v = n["Halogen.HTML"], m = n["Halogen.HTML.Elements"], g = n["Halogen.Query.HalogenM"], w = n["Incentknow.Api"], y = n["Incentknow.Api.Execution"], h = n["Incentknow.AppM"], b = n["Incentknow.Atoms.Icon"], M = n["Incentknow.Data.Ids"], S = n["Incentknow.HTML.Utils"], I = n["Incentknow.Organisms.Table"], E = n["Incentknow.Route"], C = function () { function n() { } return n.value = new n, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function (n) { return { crawlerId: n.crawlerId, operations: y.Loading.value } }, A = ["\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3ID", "\u958b\u59cb\u6642\u523b", "\u7d42\u4e86\u6642\u523b", "\u30b9\u30c6\u30fc\u30bf\u30b9"], k = function (n) { return function (e) { return function (e) { return m.div([S.css("page-crawler-operations")])([b.remoteWith(e.operations)(function (t) { return v.slot()(new f.IsSymbol(function () { return "table" }))(l.ordUnit)(f.SProxy.value)(s.unit)(I.component(n)(n.MonadEffect0()))({ headers: A, rows: o.map(o.functorArray)((r = e.crawlerId, function (n) { return new I.TableRow([I.TableCell.create(u.Just.create(E.Crawler.create(r)(new E.CrawlerOperation(n.operationId))))(i.unwrap(M.newtypeOperationId)(n.operationId)), I.TableCell.create(u.Nothing.value)(a.fromTimestampToString(n.createdAt)), I.TableCell.create(u.Nothing.value)(u.maybe("")(a.fromTimestampToString)(c.toMaybe(n.endedAt))), new I.TableCell(u.Nothing.value, n.status)]) }))(t) })(d.absurd); var r })]) } } }; e.component = function (n) { return function (e) { return function (a) { return p.mkComponent({ initialState: D, render: k(n)(n.MonadEffect0()), eval: p.mkEval({ handleAction: function (n) { return function (e) { return function (a) { return function (a) { if (a instanceof C) return t.bind(g.bindHalogenM)(r.get(g.monadStateHalogenM))(function (n) { return y.fetchApi(e)(H.create)(w.getCrawlerOperations(n.crawlerId)) }); if (a instanceof H) return y.forFetch(h.behaviourHalogenM(n))(a.value0)(function (n) { return r.modify_(g.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.operations = n, t }) }); throw new Error("Failed pattern match at Incentknow.Pages.Crawler.OperationList (line 76, column 16 - line 82, column 46): " + [a.constructor.name]) } } } }(n)(e)(n.MonadEffect0()), handleQuery: p.defaultEval.handleQuery, receive: p.defaultEval.receive, initialize: new u.Just(C.value), finalize: p.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Crawler"] = n["Incentknow.Pages.Crawler"] || {}; var e = n["Incentknow.Pages.Crawler"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Eq"], u = n["Data.Maybe"], i = n["Data.Ord"], c = n["Data.Symbol"], l = n["Data.Unit"], f = n["Data.Void"], s = n["Halogen.Component"], d = n["Halogen.HTML"], p = n["Halogen.HTML.Core"], v = n["Halogen.HTML.Elements"], m = n["Halogen.Query.HalogenM"], g = n["Incentknow.Api"], w = n["Incentknow.Api.Execution"], y = n["Incentknow.AppM"], h = n["Incentknow.Atoms.Icon"], b = n["Incentknow.Atoms.Inputs"], M = n["Incentknow.Data.Ids"], S = n["Incentknow.HTML.Utils"], I = n["Incentknow.Pages.Crawler.Caches"], E = n["Incentknow.Pages.Crawler.Main"], C = n["Incentknow.Pages.Crawler.Operation"], H = n["Incentknow.Pages.Crawler.OperationList"], D = n["Incentknow.Route"], A = n["Incentknow.Templates.Page"], k = function () { function n() { } return n.value = new n, n }(), F = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), P = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), T = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), N = function () { function n() { } return n.value = new n, n }(), L = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), x = function () { function n() { } return n.value = new n, n }(), U = function (n) { return { crawlerId: n.crawlerId, crawler: w.Loading.value, tab: n.tab } }, J = function (n) { return function (e) { return function (e) { return function (u) { if (u instanceof k) return r.bind(m.bindHalogenM)(a.get(m.monadStateHalogenM))(function (n) { return w.fetchApi(e)(L.create)(g.getCrawler(n.crawlerId)) }); if (u instanceof L) return w.forFetch(y.behaviourHalogenM(n))(u.value0)(function (n) { return a.modify_(m.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.crawler = n, t }) }); if (u instanceof P) return r.bind(m.bindHalogenM)(a.get(m.monadStateHalogenM))(function (t) { return o.notEq(M.eqCrawlerId)(t.crawlerId)(u.value0.crawlerId) ? r.discard(r.discardUnit)(m.bindHalogenM)(a.put(m.monadStateHalogenM)(U(u.value0)))(function () { return J(n)(n.MonadEffect0())(e)(k.value) }) : a.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.tab = u.value0.tab, e }) }); if (u instanceof F) return r.bind(m.bindHalogenM)(a.get(m.monadStateHalogenM))(function (e) { return y.navigate(y.behaviourHalogenM(n))(new D.Crawler(e.crawlerId, u.value0)) }); if (u instanceof T) return y.navigate(y.behaviourHalogenM(n))(u.value0); if (u instanceof N) return r.bind(m.bindHalogenM)(a.get(m.monadStateHalogenM))(function (n) { return t.pure(m.applicativeHalogenM)(l.unit) }); if (u instanceof x) return r.bind(m.bindHalogenM)(a.get(m.monadStateHalogenM))(function (a) { return r.bind(m.bindHalogenM)(w.executeApi(y.behaviourHalogenM(n))(m.monadAffHalogenM(e))(g.runCrawler({ crawlerId: a.crawlerId, method: "crawling" })))(function () { return t.pure(m.applicativeHalogenM)(l.unit) }) }); throw new Error("Failed pattern match at Incentknow.Pages.Crawler (line 105, column 16 - line 130, column 14): " + [u.constructor.name]) } } } }; e.component = function (n) { return function (e) { return function (t) { return s.mkComponent({ initialState: U, render: function (n) { return function (e) { return function (t) { return function (t) { return A.tabPage(D.eqCrawlerTab)({ tabs: [D.CrawlerMain.value, D.CrawlerOperations.value, D.CrawlerCaches.value], currentTab: t.tab, onChangeTab: F.create, showTab: function (n) { if (n instanceof D.CrawlerMain) return "Main"; if (n instanceof D.CrawlerOperations) return "Operations"; if (n instanceof D.CrawlerOperation) return "Operations"; if (n instanceof D.CrawlerCaches) return "Caches"; throw new Error("Failed pattern match at Incentknow.Pages.Crawler (line 82, column 9 - line 86, column 36): " + [n.constructor.name]) } })([b.menuPositiveButton("\u5b9f\u884c")(x.value)])([v.div([S.css("page-crawler")])([h.remoteWith(t.crawler)(function (n) { return v.div([S.css("name")])([p.text(n.displayName)]) })])])([function () { if (t.tab instanceof D.CrawlerMain) return h.remoteWith(t.crawler)(function (t) { return d.slot()(new c.IsSymbol(function () { return "main" }))(i.ordUnit)(c.SProxy.value)(l.unit)(E.component(n)(e)(n.MonadEffect0()))({ crawler: t })(f.absurd) }); if (t.tab instanceof D.CrawlerOperations) return d.slot()(new c.IsSymbol(function () { return "operations" }))(i.ordUnit)(c.SProxy.value)(l.unit)(H.component(n)(e)(n.MonadEffect0()))({ crawlerId: t.crawlerId })(f.absurd); if (t.tab instanceof D.CrawlerOperation) return d.slot()(new c.IsSymbol(function () { return "operation" }))(i.ordUnit)(c.SProxy.value)(l.unit)(C.component(n)(e)(n.MonadEffect0()))({ crawlerId: t.crawlerId, operationId: t.tab.value0 })(f.absurd); if (t.tab instanceof D.CrawlerCaches) return d.slot()(new c.IsSymbol(function () { return "caches" }))(i.ordUnit)(c.SProxy.value)(l.unit)(I.component(n)(e)(n.MonadEffect0()))({ crawlerId: t.crawlerId })(f.absurd); throw new Error("Failed pattern match at Incentknow.Pages.Crawler (line 95, column 7 - line 101, column 121): " + [t.tab.constructor.name]) }()]) } } } }(n)(e)(n.MonadEffect0()), eval: s.mkEval({ handleAction: J(n)(n.MonadEffect0())(e), handleQuery: s.defaultEval.handleQuery, receive: function (n) { return u.Just.create(P.create(n)) }, initialize: new u.Just(k.value), finalize: s.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.ContentMenu"] = n["Incentknow.Molecules.ContentMenu"] || {}; var e = n["Incentknow.Molecules.ContentMenu"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Eq"], o = n["Data.Foldable"], u = n["Data.Functor"], i = n["Data.Maybe"], c = n["Data.Newtype"], l = n["Data.Ord"], f = n["Data.Symbol"], s = n["Data.Unit"], d = n["Halogen.Component"], p = n["Halogen.HTML"], v = n["Halogen.HTML.Core"], m = n["Halogen.HTML.Elements"], g = n["Halogen.HTML.Properties"], w = n["Halogen.Query.HalogenM"], y = n["Incentknow.Api"], h = n["Incentknow.Api.Execution"], b = n["Incentknow.AppM"], M = n["Incentknow.Data.Content"], S = n["Incentknow.Data.Ids"], I = n["Incentknow.HTML.Utils"], E = n["Incentknow.Molecules.SelectMenu"], C = function () { function n() { } return n.value = new n, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), F = function (n) { return { items: [], initialContentId: n.value, contentId: n.value, spaceId: n.spaceId, formatId: n.formatId, disabled: n.disabled } }, P = function (n) { return m.div([I.css("name")])([v.text(n.title), I.maybeElem(n.image)(function (n) { return m.img([g.src(n)]) })]) }, T = function (n) { var e = M.getContentSemanticData(n.data)(n.format); return { id: c.unwrap(S.newtypeContentId)(n.contentId), name: e.title, searchWord: e.title, html: P(e) } }, N = function (n) { return function (e) { return function (c) { return function (c) { if (c instanceof C) return t.bind(w.bindHalogenM)(r.get(w.monadStateHalogenM))(function (n) { return t.discard(t.discardUnit)(w.bindHalogenM)(o.for_(w.applicativeHalogenM)(o.foldableMaybe)(n.initialContentId)(function (n) { return h.fetchApi(e)(A.create)(y.getContent(n)) }))(function () { if (n.spaceId instanceof i.Just) return h.fetchApi(e)(k.create)(y.getContents(n.spaceId.value0)(n.formatId)(y.defaultCondition)); if (n.spaceId instanceof i.Nothing) return h.fetchApi(e)(k.create)(y.getContentsByFormat(n.formatId)); throw new Error("Failed pattern match at Incentknow.Molecules.ContentMenu (line 113, column 5 - line 115, column 79): " + [n.spaceId.constructor.name]) }) }); if (c instanceof A) return h.forFetchItem(b.behaviourHalogenM(n))(c.value0)(function (n) { return r.modify_(w.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.items = E.upsertItems([T(n)])(e.items), t }) }); if (c instanceof k) return h.forFetchItem(b.behaviourHalogenM(n))(c.value0)(function (n) { return r.modify_(w.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.items = E.upsertItems(u.map(u.functorArray)(T)(n))(e.items), t }) }); if (c instanceof H) return t.bind(w.bindHalogenM)(r.get(w.monadStateHalogenM))(function (o) { return a.notEq(S.eqFormatId)(o.formatId)(c.value0.formatId) || a.notEq(i.eqMaybe(S.eqSpaceId))(o.spaceId)(c.value0.spaceId) ? t.discard(t.discardUnit)(w.bindHalogenM)(r.put(w.monadStateHalogenM)(F(c.value0)))(function () { return N(n)(e)(n.MonadEffect0())(C.value) }) : r.modify_(w.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.contentId = c.value0.value, e.disabled = c.value0.disabled, e }) }); if (c instanceof D) return w.raise(u.map(i.functorMaybe)(S.ContentId)(c.value0)); throw new Error("Failed pattern match at Incentknow.Molecules.ContentMenu (line 108, column 16 - line 129, column 53): " + [c.constructor.name]) } } } }; e.component = function (n) { return function (e) { return function (t) { return d.mkComponent({ initialState: F, render: function (n) { return function (e) { return function (t) { return p.slot()(new f.IsSymbol(function () { return "selectMenu" }))(l.ordUnit)(f.SProxy.value)(s.unit)(E.component(n)(e))({ resource: new E.SelectMenuResourceAllCandidates(t.items), value: u.map(i.functorMaybe)(c.unwrap(S.newtypeContentId))(t.contentId), disabled: t.disabled })(function (n) { return i.Just.create(D.create(n)) }) } } }(n)(e), eval: d.mkEval({ handleAction: N(n)(e)(n.MonadEffect0()), handleQuery: d.defaultEval.handleQuery, receive: function (n) { return i.Just.create(H.create(n)) }, initialize: new i.Just(C.value), finalize: d.defaultEval.finalize }) }) } } }, e.fromContentToHtml = P }(PS), function (n) { "use strict"; n["Incentknow.Molecules.EntityMenu"] = n["Incentknow.Molecules.EntityMenu"] || {}; var e = n["Incentknow.Molecules.EntityMenu"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Either"], u = n["Data.Functor"], i = n["Data.Maybe"], c = n["Data.Newtype"], l = n["Data.Nullable"], f = n["Data.Ord"], s = n["Data.Symbol"], d = n["Data.Unit"], p = n["Effect.Aff"], v = n["Foreign.NullOrUndefined"], m = n["Halogen.Component"], g = n["Halogen.HTML"], w = n["Halogen.Query.HalogenM"], y = n["Incentknow.Api"], h = n["Incentknow.Api.Execution"], b = n["Incentknow.Data.Content"], M = n["Incentknow.Data.Ids"], S = n["Incentknow.Molecules.ContentMenu"], I = n["Incentknow.Molecules.SelectMenu"], E = function () { function n() { } return n.value = new n, n }(), C = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function (n) { var e = b.getContentSemanticData(n.data)(n.format); return { id: i.maybe(c.unwrap(M.newtypeContentId)(n.contentId))(c.unwrap(M.newtypeSemanticId))(e.semanticId), name: e.title, searchWord: e.title, html: S.fromContentToHtml(e) } }, A = function (n) { return { semanticId: n.value, formatId: n.formatId, disabled: n.disabled } }; e.component = function (n) { return function (e) { return function (b) { return m.mkComponent({ initialState: A, render: function (n) { return function (e) { return function (a) { return g.slot()(new s.IsSymbol(function () { return "selectMenu" }))(f.ordUnit)(s.SProxy.value)(d.unit)(I.component(n)(e))({ resource: new I.SelectMenuResourceFetchFunctions({ search: function (n) { var e = y.getContentsByReactor({ formatId: a.formatId, words: l.notNull(n), conditions: v.null }); return r.bind(p.bindAff)(h.callApi(e))(function (n) { return t.pure(p.applicativeAff)(u.map(o.functorEither)(u.map(u.functorArray)(D))(n)) }) }, get: function (n) { return function (e) { return y.onLoadContentBySemanticId(a.formatId)(c.wrap(M.newtypeSemanticId)(n))(function (n) { return e(D(n)) }) } } }), value: u.map(i.functorMaybe)(c.unwrap(M.newtypeSemanticId))(a.semanticId), disabled: a.disabled })(function (n) { return i.Just.create(H.create(n)) }) } } }(n)(e), eval: m.mkEval({ handleAction: (n.MonadEffect0(), function (n) { if (n instanceof E) return t.pure(w.applicativeHalogenM)(d.unit); if (n instanceof C) return a.modify_(w.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.formatId = n.value0.formatId, t.semanticId = n.value0.value, t.disabled = n.value0.disabled, t }); if (n instanceof H) return w.raise(u.map(i.functorMaybe)(M.ContentId)(n.value0)); throw new Error("Failed pattern match at Incentknow.Molecules.EntityMenu (line 113, column 16 - line 116, column 53): " + [n.constructor.name]) }), handleQuery: m.defaultEval.handleQuery, receive: function (n) { return i.Just.create(C.create(n)) }, initialize: new i.Just(E.value), finalize: m.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.Document.Section"] = n["Incentknow.Organisms.Document.Section"] || {}; var e = n["Incentknow.Organisms.Document.Section"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Argonaut.Core"], u = n["Data.Argonaut.Encode.Class"], i = n["Data.Eq"], c = n["Data.Foldable"], l = n["Data.Maybe"], f = n["Data.Ord"], s = n["Data.Symbol"], d = n["Data.Unit"], p = n["Halogen.Component"], v = n["Halogen.HTML"], m = n["Halogen.HTML.Core"], g = n["Halogen.HTML.Elements"], w = n["Halogen.HTML.Events"], y = n["Halogen.Query.HalogenM"], h = n["Incentknow.Data.Ids"], b = n["Incentknow.HTML.Utils"], M = n["Incentknow.Molecules.AceEditor"], S = n["Incentknow.Molecules.FormatMenu"], I = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function (n) { return { section: n.value, env: n.env, formatId: l.Nothing.value, format: l.Nothing.value, contentComponent: n.contentComponent } }; e.ContentComponent = I, e.component = function (n) { return function (e) { return function (e) { return p.mkComponent({ initialState: k, render: function (n) { return function (e) { return function (e) { return function (t) { return g.div_([g.div_([g.span([w.onClick(function (n) { return l.Just.create(new C("text")) })])([m.text("\u30c6\u30ad\u30b9\u30c8")]), g.span([w.onClick(function (n) { return l.Just.create(new C("content")) })])([m.text("\u30e1\u30c7\u30a3\u30a2")])]), "content" === t.section.type ? g.div_([v.slot()(new s.IsSymbol(function () { return "formatMenu" }))(f.ordUnit)(s.SProxy.value)(d.unit)(S.component(n)(e)(n.MonadEffect0()))({ value: t.formatId, filter: S.None.value, disabled: !1 })(function (n) { return l.Just.create(H.create(n)) }), b.maybeElem(t.format)(function (r) { return v.slot()(new s.IsSymbol(function () { return "content" }))(f.ordUnit)(s.SProxy.value)(d.unit)((a = t.contentComponent, function (n) { return function (e) { return function (e) { return a.value0(n)(n.MonadEffect0())(e) } } })(n)(n.MonadEffect0())(e))({ format: r, value: o.jsonNull, env: t.env })(function (n) { return l.Just.create(A.create(n)) }); var a })]) : v.slot()(new s.IsSymbol(function () { return "aceEditor" }))(f.ordUnit)(s.SProxy.value)(d.unit)(M.component(e))({ value: "", language: l.Nothing.value, variableHeight: !0, readonly: !1 })(function (n) { return l.Just.create(D.create(n)) })]) } } } }(n)(n.MonadEffect0())(e), eval: p.mkEval({ handleAction: (n.MonadEffect0(), function (n) { return function (n) { return n instanceof E ? a.put(y.monadStateHalogenM)(k(n.value0)) : n instanceof C ? r.bind(y.bindHalogenM)(a.modify(y.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.section = { type: n.value0, data: e.section.data, id: e.section.id }, t }))(function (n) { return y.raise(n.section) }) : n instanceof H ? r.discard(r.discardUnit)(y.bindHalogenM)(a.modify_(y.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.formatId = n.value0, t }))(function () { return r.bind(y.bindHalogenM)(a.get(y.monadStateHalogenM))(function (e) { return c.for_(y.applicativeHalogenM)(c.foldableMaybe)(n.value0)(function (n) { return t.when(y.applicativeHalogenM)(i.notEq(l.eqMaybe(h.eqFormatId))(e.formatId)(new l.Just(n)))(a.modify_(y.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.format = l.Nothing.value, e })) }) }) }) : n instanceof D ? r.bind(y.bindHalogenM)(a.modify(y.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.section = { data: u.encodeJson(u.encodeJsonJString)(n.value0), id: e.section.id, type: e.section.type }, t }))(function (n) { return y.raise(n.section) }) : t.pure(y.applicativeHalogenM)(d.unit) } })(e), handleQuery: p.defaultEval.handleQuery, receive: function (n) { return l.Just.create(E.create(n)) }, initialize: p.defaultEval.initialize, finalize: p.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.Document"] = n["Incentknow.Organisms.Document"] || {}; var e = n["Incentknow.Organisms.Document"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Argonaut.Core"], u = n["Data.Argonaut.Decode.Class"], i = n["Data.Argonaut.Encode.Class"], c = n["Data.Array"], l = n["Data.Either"], f = n["Data.Function"], s = n["Data.Functor"], d = n["Data.Maybe"], p = n["Data.Ord"], v = n["Data.Symbol"], m = n["Data.Unit"], g = n["Halogen.Component"], w = n["Halogen.HTML"], y = n["Halogen.HTML.Elements"], h = n["Halogen.Query.HalogenM"], b = n["Incentknow.Atoms.Inputs"], M = n["Incentknow.Data.Ids"], S = n["Incentknow.Organisms.Document.Section"], I = function () { function n() { } return n.value = new n, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function () { function n() { } return n.value = new n, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function (n) { return { sections: l.either(f.const([]))(function (n) { return n })(u.decodeJson(u.decodeArray(u.decodeRecord(u.gDecodeJsonCons(u.decodeJsonJson)(u.gDecodeJsonCons(u.decodeJsonString)(u.gDecodeJsonCons(u.decodeJsonString)(u.gDecodeJsonNil)(new v.IsSymbol(function () { return "type" }))()())(new v.IsSymbol(function () { return "id" }))()())(new v.IsSymbol(function () { return "data" }))()())()))(n.value)), env: n.env, contentComponent: n.contentComponent } }, A = function (n) { return function (e) { return function (e) { return function (e) { if (e instanceof I) return t.pure(h.applicativeHalogenM)(m.unit); if (e instanceof E) return a.put(h.monadStateHalogenM)(D(e.value0)); if (e instanceof H) return r.bind(h.bindHalogenM)(a.get(h.monadStateHalogenM))(function (n) { return h.raise(i.encodeJson(i.encodeJsonArray(i.encodeRecord(i.gEncodeJsonCons(i.encodeJsonJson)(i.gEncodeJsonCons(i.encodeJsonJString)(i.gEncodeJsonCons(i.encodeJsonJString)(i.gEncodeJsonNil)(new v.IsSymbol(function () { return "type" }))())(new v.IsSymbol(function () { return "id" }))())(new v.IsSymbol(function () { return "data" }))())()))(s.map(s.functorArray)(function (n) { return n.id === e.value0.id ? e.value0 : n })(n.sections))) }); if (e instanceof C) { return r.bind(h.bindHalogenM)(a.get(h.monadStateHalogenM))(function (e) { return r.bind(h.bindHalogenM)(M.generateId(h.monadEffectHalogenM(n.MonadEffect0()))(6))(function (n) { return h.raise(i.encodeJson(i.encodeJsonArray(i.encodeRecord(i.gEncodeJsonCons(i.encodeJsonJson)(i.gEncodeJsonCons(i.encodeJsonJString)(i.gEncodeJsonCons(i.encodeJsonJString)(i.gEncodeJsonNil)(new v.IsSymbol(function () { return "type" }))())(new v.IsSymbol(function () { return "id" }))())(new v.IsSymbol(function () { return "data" }))())()))(c.cons({ type: "text", id: n, data: o.jsonNull })(e.sections))) }) }) } throw new Error("Failed pattern match at Incentknow.Organisms.Document (line 80, column 16 - line 91, column 60): " + [e.constructor.name]) } } } }; e.component = function (n) { return function (e) { return function (e) { return g.mkComponent({ initialState: D, render: function (n) { return function (e) { return function (t) { return y.div_([b.button("\u8ffd\u52a0")(C.value), y.div_(s.map(s.functorArray)(function (r) { return w.slot()(new v.IsSymbol(function () { return "section" }))(p.ordString)(v.SProxy.value)(r.id)(S.component(n)(n.MonadEffect0())(e))({ value: r, env: t.env, contentComponent: t.contentComponent })(function (n) { return d.Just.create(H.create(n)) }) })(t.sections))]) } } }(n)(e), eval: g.mkEval({ handleAction: A(n)(n.MonadEffect0())(e), handleQuery: g.defaultEval.handleQuery, receive: function (n) { return d.Just.create(E.create(n)) }, initialize: new d.Just(I.value), finalize: g.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.Content.ValueEditor"] = n["Incentknow.Organisms.Content.ValueEditor"] || {}; var e = n["Incentknow.Organisms.Content.ValueEditor"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Argonaut.Core"], u = n["Data.Argonaut.Decode.Class"], i = n["Data.Argonaut.Encode.Class"], c = n["Data.Array"], l = n["Data.Either"], f = n["Data.Eq"], s = n["Data.Functor"], d = n["Data.Maybe"], p = n["Data.Newtype"], v = n["Data.Ord"], m = n["Data.Show"], g = n["Data.Symbol"], w = n["Data.Unit"], y = n["Effect.Class"], h = n["Effect.Class.Console"], b = n["Halogen.Component"], M = n["Halogen.HTML"], S = n["Halogen.HTML.Core"], I = n["Halogen.HTML.Elements"], E = n["Halogen.Query.HalogenM"], C = n["Incentknow.Api"], H = n["Incentknow.Api.Execution"], D = n["Incentknow.AppM"], A = n["Incentknow.Atoms.Inputs"], k = n["Incentknow.Data.Ids"], F = n["Incentknow.Data.Property"], P = n["Incentknow.Molecules.AceEditor"], T = n["Incentknow.Molecules.ContentMenu"], N = n["Incentknow.Molecules.EntityMenu"], L = n["Incentknow.Molecules.FormatMenu"], x = n["Incentknow.Molecules.SelectMenu"], U = n["Incentknow.Molecules.SpaceMenu"], J = n["Incentknow.Organisms.Document"], O = n["Test.Unit.Console"], R = function () { function n() { } return n.value = new n, n }(), _ = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), q = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), W = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), B = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), Q = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), z = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), V = function (n) { return { value: n.value, type: n.type, env: n.env, contentComponent: n.contentComponent, format: H.Loading.value } }, j = function (n) { return function (e) { return function (e) { return function (u) { if (u instanceof R) return r.bind(E.bindHalogenM)(a.get(E.monadStateHalogenM))(function (n) { return n.format instanceof H.Loading && n.type instanceof F.ContentType ? H.fetchApi(e)(z.create)(C.getFormat(n.type.value0.format)) : t.pure(E.applicativeHalogenM)(w.unit) }); if (u instanceof q) return r.discard(r.discardUnit)(E.bindHalogenM)(h.logShow(E.monadEffectHalogenM(n.MonadEffect0()))(m.showString)(o.stringify(u.value0)))(function () { return E.raise(u.value0) }); if (u instanceof W) return r.bind(E.bindHalogenM)(a.get(E.monadStateHalogenM))(function (e) { return r.discard(r.discardUnit)(E.bindHalogenM)(h.logShow(E.monadEffectHalogenM(n.MonadEffect0()))(m.showString)("ChangeAttribute"))(function () { return r.discard(r.discardUnit)(E.bindHalogenM)(h.logShow(E.monadEffectHalogenM(n.MonadEffect0()))(m.showString)(u.value0))(function () { return r.discard(r.discardUnit)(E.bindHalogenM)(h.logShow(E.monadEffectHalogenM(n.MonadEffect0()))(m.showString)(o.stringify(u.value1)))(function () { var n, t = e.type instanceof F.ObjectType ? e.type.value0.properties : [], o = F.mkProperties(e.value)(t), i = F.encodeProperties((n = o, function (e) { return function (t) { return s.map(s.functorArray)(function (n) { return n.info.id === e ? { value: t, info: n.info } : n })(n) } })(u.value0)(u.value1)); return r.discard(r.discardUnit)(E.bindHalogenM)(a.modify_(E.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.value = i, e }))(function () { return E.raise(i) }) }) }) }) }); if (u instanceof B) return r.bind(E.bindHalogenM)(a.get(E.monadStateHalogenM))(function (n) { var e = d.fromMaybe([])(o.toArray(n.value)), t = c.mapWithIndex(function (n) { return function (e) { return n === u.value0 ? u.value1 : e } })(e), l = i.encodeJson(i.encodeJsonArray(i.encodeJsonJson))(t); return r.discard(r.discardUnit)(E.bindHalogenM)(a.modify_(E.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.value = l, e }))(function () { return E.raise(l) }) }); if (u instanceof Q) return r.bind(E.bindHalogenM)(a.get(E.monadStateHalogenM))(function (n) { var e = d.fromMaybe([])(o.toArray(n.value)), t = d.fromMaybe(e)(c.deleteAt(u.value0)(e)), l = i.encodeJson(i.encodeJsonArray(i.encodeJsonJson))(t); return r.discard(r.discardUnit)(E.bindHalogenM)(a.modify_(E.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.value = l, e }))(function () { return E.raise(l) }) }); if (u instanceof _) return r.bind(E.bindHalogenM)(a.get(E.monadStateHalogenM))(function (t) { var o; return f.eq(F.eqType)(t.type)(u.value0.type) ? a.put(E.monadStateHalogenM)((o = V(u.value0), { format: t.format, contentComponent: o.contentComponent, env: o.env, type: o.type, value: o.value })) : r.discard(r.discardUnit)(E.bindHalogenM)(a.put(E.monadStateHalogenM)(V(u.value0)))(function () { return j(n)(n.MonadEffect0())(e)(R.value) }) }); if (u instanceof z) return H.forFetch(D.behaviourHalogenM(n))(u.value0)(function (e) { return r.bind(E.bindHalogenM)(a.modify(E.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.format = e, t }))(function (e) { return y.liftEffect(E.monadEffectHalogenM(n.MonadEffect0()))(O.consoleLog(m.show(d.showMaybe(m.showString))(s.map(d.functorMaybe)(p.unwrap(k.newtypeSpaceId))(d.maybe(d.Nothing.value)(function (n) { return "internal" === n.usage ? d.Nothing.value : e.env.spaceId })(H.toMaybe(e.format)))))) }) }); throw new Error("Failed pattern match at Incentknow.Organisms.Content.ValueEditor (line 202, column 16 - line 261, column 161): " + [u.constructor.name]) } } } }, G = function (n) { return { id: n.id, name: n.displayName, searchWord: n.id + n.displayName, html: S.text(n.displayName) } }, K = function (n) { return function (e) { return function (e) { return b.mkComponent({ initialState: V, render: function (n) { return function (e) { return function (t) { var r, a, f, m, y, h, b, E, C, D, O, R, _ = (r = d.fromMaybe(""), function (n) { return r(o.toString(n)) }), z = function (n) { return "" === n ? o.jsonNull : o.fromString(n) }; if (t.type instanceof F.StringType) return A.textarea({ onChange: function (n) { return q.create(z(n)) }, placeholder: "", value: _(t.value) }); if (t.type instanceof F.ImageType) return A.textarea({ onChange: function (n) { return q.create(z(n)) }, placeholder: "", value: _(t.value) }); if (t.type instanceof F.IntType) return A.numberarea({ onChange: (a = i.encodeJson(i.encodeJsonMaybe(i.encodeJsonInt)), function (n) { return q.create(a(n)) }), value: function (n) { if (n instanceof l.Left) return d.Nothing.value; if (n instanceof l.Right) return new d.Just(n.value0); throw new Error("Failed pattern match at Incentknow.Organisms.Content.ValueEditor (line 197, column 13 - line 199, column 22): " + [n.constructor.name]) }(u.decodeJson(u.decodeJsonInt)(t.value)) }); if (t.type instanceof F.EnumType) return M.slot()(new g.IsSymbol(function () { return "selectMenu" }))(v.ordUnit)(g.SProxy.value)(w.unit)(x.component(n)(e))({ resource: x.SelectMenuResourceAllCandidates.create(s.map(s.functorArray)(G)(t.type.value0.enumerators)), value: o.toString(t.value), disabled: !1 })((f = d.maybe(o.jsonNull)(o.fromString), function (n) { return d.Just.create(q.create(f(n))) })); if (t.type instanceof F.BoolType) return A.checkbox("")(d.fromMaybe(!1)(o.toBoolean(t.value)))((m = i.encodeJson(i.encodeJsonJBoolean), function (n) { return q.create(m(n)) }))(!1); if (t.type instanceof F.TextType) return M.slot()(new g.IsSymbol(function () { return "aceEditor" }))(v.ordUnit)(g.SProxy.value)(w.unit)(P.component(e))({ value: _(t.value), language: d.Nothing.value, variableHeight: !0, readonly: !1 })(function (n) { return d.Just.create(q.create(z(n))) }); if (t.type instanceof F.CodeType) return M.slot()(new g.IsSymbol(function () { return "aceEditor" }))(v.ordUnit)(g.SProxy.value)(w.unit)(P.component(e))({ value: _(t.value), language: t.type.value0.language, variableHeight: !0, readonly: !1 })(function (n) { return d.Just.create(q.create(z(n))) }); if (t.type instanceof F.FormatType) return M.slot()(new g.IsSymbol(function () { return "formatMenu" }))(v.ordUnit)(g.SProxy.value)(w.unit)(L.component(n)(e)(n.MonadEffect0()))({ value: s.map(d.functorMaybe)(p.wrap(k.newtypeFormatId))(o.toString(t.value)), filter: d.maybe(L.None.value)(L.SpaceBy.create)(t.env.spaceId), disabled: !1 })((h = d.maybe(o.jsonNull)((y = p.unwrap(k.newtypeFormatId), function (n) { return o.fromString(y(n)) })), function (n) { return d.Just.create(q.create(h(n))) })); if (t.type instanceof F.SpaceType) return M.slot()(new g.IsSymbol(function () { return "spaceMenu" }))(v.ordUnit)(g.SProxy.value)(w.unit)(U.component(n)(e)(n.MonadEffect0()))({ value: s.map(d.functorMaybe)(p.wrap(k.newtypeSpaceId))(o.toString(t.value)), disabled: !1 })((E = d.maybe(o.jsonNull)((b = p.unwrap(k.newtypeSpaceId), function (n) { return o.fromString(b(n)) })), function (n) { return d.Just.create(q.create(E(n))) })); if (t.type instanceof F.ContentType) return M.slot()(new g.IsSymbol(function () { return "contentMenu" }))(v.ordUnit)(g.SProxy.value)(w.unit)(T.component(n)(e)(n.MonadEffect0()))({ spaceId: d.maybe(d.Nothing.value)(function (n) { return "internal" === n.usage ? d.Nothing.value : t.env.spaceId })(H.toMaybe(t.format)), value: s.map(d.functorMaybe)(p.wrap(k.newtypeContentId))(o.toString(t.value)), formatId: t.type.value0.format, disabled: !1 })((D = d.maybe(o.jsonNull)((C = p.unwrap(k.newtypeContentId), function (n) { return o.fromString(C(n)) })), function (n) { return d.Just.create(q.create(D(n))) })); if (t.type instanceof F.EntityType) return M.slot()(new g.IsSymbol(function () { return "entityMenu" }))(v.ordUnit)(g.SProxy.value)(w.unit)(N.component(n)(e)(n.MonadEffect0()))({ value: s.map(d.functorMaybe)(p.wrap(k.newtypeSemanticId))(o.toString(t.value)), formatId: t.type.value0.format, disabled: !1 })((R = d.maybe(o.jsonNull)((O = p.unwrap(k.newtypeContentId), function (n) { return o.fromString(O(n)) })), function (n) { return d.Just.create(q.create(R(n))) })); if (t.type instanceof F.DocumentType) return M.slot()(new g.IsSymbol(function () { return "document" }))(v.ordUnit)(g.SProxy.value)(w.unit)(J.component(n)(n.MonadEffect0())(e))({ value: t.value, env: t.env, contentComponent: t.contentComponent })(function (n) { return d.Just.create(q.create(n)) }); if (t.type instanceof F.UrlType) return A.textarea({ onChange: function (n) { return q.create(z(n)) }, placeholder: "", value: _(t.value) }); if (t.type instanceof F.ArrayType) { new F.StringType({}); var V = d.fromMaybe([])(o.toArray(t.value)); return I.div_([A.button("\u8ffd\u52a0")(q.create(i.encodeJson(i.encodeJsonArray(i.encodeJsonJson))(c.cons(o.jsonNull)(d.fromMaybe([])(o.toArray(t.value)))))), I.div_(c.mapWithIndex(function (r) { return function (a) { return I.div([])([M.slot()(new g.IsSymbol(function () { return "value" }))(v.ordInt)(g.SProxy.value)(r)(K(n)(n.MonadEffect0())(e))({ value: d.fromMaybe(o.jsonNull)(c.index(V)(r)), type: t.type.value0.type, env: t.env, contentComponent: t.contentComponent })((u = B.create(r), function (n) { return d.Just.create(u(n)) })), A.button("\u524a\u9664")(new Q(r))]); var u } })(V))]) } if (t.type instanceof F.ObjectType) { var j = F.mkProperties(t.value)(t.type.value0.properties); return I.div_(s.map(s.functorArray)(function (r) { return I.dl([])([I.dt([])([I.label_([S.text(r.info.displayName)])]), I.dd([])([M.slot()(new g.IsSymbol(function () { return "property" }))(v.ordString)(g.SProxy.value)(r.info.id)(K(n)(n.MonadEffect0())(e))({ value: r.value, type: r.info.type, env: t.env, contentComponent: t.contentComponent })((a = W.create(r.info.id), function (n) { return d.Just.create(a(n)) }))])]); var a })(j)) } throw new Error("Failed pattern match at Incentknow.Organisms.Content.ValueEditor (line 110, column 16 - line 191, column 10): " + [t.type.constructor.name]) } } }(n)(e), eval: b.mkEval({ handleAction: j(n)(n.MonadEffect0())(e), handleQuery: b.defaultEval.handleQuery, receive: function (n) { return d.Just.create(_.create(n)) }, initialize: new d.Just(R.value), finalize: b.defaultEval.finalize }) }) } } }; e.component = K }(PS), function (n) { "use strict"; n["Incentknow.Organisms.Content.Editor"] = n["Incentknow.Organisms.Content.Editor"] || {}; var e = n["Incentknow.Organisms.Content.Editor"], t = n["Control.Monad.State.Class"], r = n["Data.Functor"], a = n["Data.Maybe"], o = n["Data.Ord"], u = n["Data.Symbol"], i = n["Data.Unit"], c = n["Halogen.Component"], l = n["Halogen.HTML"], f = n["Halogen.Query.HalogenM"], s = n["Incentknow.Data.Property"], d = n["Incentknow.Organisms.Content.ValueEditor"], p = n["Incentknow.Organisms.Document.Section"], v = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), m = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), g = function (n) { return { format: n.format, value: n.value, env: n.env } }, w = function (n) { return function (e) { return function (t) { return { value: n, env: t, type: new s.ObjectType({ properties: r.map(r.functorArray)(s.toPropertyInfo)(e.structure.properties) }), contentComponent: new p.ContentComponent(function (n) { return function (e) { return function (e) { return y(n)(n.MonadEffect0())(e) } } }) } } } }, y = function (n) { return function (e) { return function (e) { return c.mkComponent({ initialState: g, render: function (n) { return function (e) { return function (t) { return l.slot()(new u.IsSymbol(function () { return "value" }))(o.ordUnit)(u.SProxy.value)(i.unit)(d.component(n)(n.MonadEffect0())(e))(w(t.value)(t.format)(t.env))(function (n) { return a.Just.create(m.create(n)) }) } } }(n)(e), eval: c.mkEval({ handleAction: (n.MonadEffect0(), function (n) { return function (n) { if (n instanceof v) return t.put(f.monadStateHalogenM)(g(n.value0)); if (n instanceof m) return f.raise(n.value0); throw new Error("Failed pattern match at Incentknow.Organisms.Content.Editor (line 79, column 16 - line 81, column 37): " + [n.constructor.name]) } })(e), handleQuery: c.defaultEval.handleQuery, receive: function (n) { return a.Just.create(v.create(n)) }, initialize: c.defaultEval.initialize, finalize: c.defaultEval.finalize }) }) } } }; e.component = y }(PS), function (n) { "use strict"; n["Incentknow.Pages.EditContent"] = n["Incentknow.Pages.EditContent"] || {}; var e = n["Incentknow.Pages.EditContent"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.Rec.Class"], o = n["Control.Monad.State.Class"], u = n["Data.Argonaut.Core"], i = n["Data.Eq"], c = n["Data.Foldable"], l = n["Data.Maybe"], f = n["Data.Newtype"], s = n["Data.Nullable"], d = n["Data.Ord"], p = n["Data.Symbol"], v = n["Data.Unit"], m = n["Effect.Aff"], g = n["Effect.Exception"], w = n["Halogen.Component"], y = n["Halogen.HTML"], h = n["Halogen.Query.EventSource"], b = n["Halogen.Query.HalogenM"], M = n["Incentknow.Api"], S = n["Incentknow.Api.Execution"], I = n["Incentknow.AppM"], E = n["Incentknow.Atoms.Icon"], C = n["Incentknow.Atoms.Inputs"], H = n["Incentknow.Atoms.Message"], D = n["Incentknow.Data.Ids"], A = n["Incentknow.Organisms.Content.Editor"], k = n["Incentknow.Templates.Page"], F = function () { function n() { } return n.value = new n, n }(), P = function () { function n() { } return n.value = new n, n }(), T = function () { function n() { } return n.value = new n, n }(), N = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), L = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), x = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), U = function () { function n() { } return n.value = new n, n }(), J = function () { function n() { } return n.value = new n, n }(), O = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), R = function (n) { return { contentId: n.contentId, data: S.Loading.value, value: u.jsonNull, saveState: H.HasNotChange.value, loading: !1, workSubId: l.Nothing.value, timerSubId: l.Nothing.value, disabled: !0 } }, _ = function (n) { return function (e) { return function (e) { var u = r.bind(b.bindHalogenM)(o.get(b.monadStateHalogenM))(function (n) { return t.when(b.applicativeHalogenM)(i.eq(H.eqSaveState)(n.saveState)(H.Saving.value))(o.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.saveState = H.Saved.value, e })) }); return function (d) { if (d instanceof F) return r.bind(b.bindHalogenM)(o.get(b.monadStateHalogenM))(function (u) { return r.discard(r.discardUnit)(b.bindHalogenM)(c.for_(b.applicativeHalogenM)(c.foldableMaybe)(u.workSubId)(function (n) { return b.unsubscribe(n) }))(function () { return r.discard(r.discardUnit)(b.bindHalogenM)(_(n)(n.MonadEffect0())(e)(P.value))(function () { return t.when(b.applicativeHalogenM)(l.isNothing(u.timerSubId))(r.bind(b.bindHalogenM)(b.subscribe(function (n) { return h.affEventSource(n)(function (n) { return r.bind(m.bindAff)(m.forkAff(a.forever(m.monadRecAff)(r.discard(r.discardUnit)(m.bindAff)(m.delay(2e3))(function () { return h.emit(n)(U.value) }))))(function (n) { return t.pure(m.applicativeAff)(m.killFiber(g.error("Event source finalized"))(n)) }) }) }(e)))(function (n) { return o.modify_(b.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.timerSubId = new l.Just(n), t }) })) }) }) }); if (d instanceof x) { if (d.value0 instanceof l.Just) return r.bind(b.bindHalogenM)(o.get(b.monadStateHalogenM))(function (n) { return t.when(b.applicativeHalogenM)(i.eq(H.eqSaveState)(n.saveState)(H.HasNotChange.value) || i.eq(H.eqSaveState)(n.saveState)(H.Saved.value))(o.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.value = d.value0.value0.data, e })) }); if (d.value0 instanceof l.Nothing) return o.modify_(b.monadStateHalogenM)(function (n) { var e = S.toMaybe(n.data); if (e instanceof l.Just) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.value = e.value0.data, t } if (e instanceof l.Nothing) return n; throw new Error("Failed pattern match at Incentknow.Pages.EditContent (line 145, column 29 - line 147, column 27): " + [e.constructor.name]) }); throw new Error("Failed pattern match at Incentknow.Pages.EditContent (line 138, column 5 - line 147, column 27): " + [d.value0.constructor.name]) } if (d instanceof P) return r.bind(b.bindHalogenM)(o.get(b.monadStateHalogenM))(function (n) { return S.fetchApi(e)(O.create)(M.getContent(n.contentId)) }); if (d instanceof O) return d.value0 instanceof S.FromCache ? o.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.data = new S.Holding(d.value0.value0), e }) : d.value0 instanceof S.FromServer ? r.bind(b.bindHalogenM)(o.modify(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.data = new S.Holding(d.value0.value0), e }))(function (n) { return r.bind(b.bindHalogenM)(S.subscribeApi(e)(function (n) { return x.create(s.toMaybe(n)) })(M.onSnapshotWork(f.unwrap(D.newtypeContentId)(n.contentId))))(function (n) { return o.modify_(b.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.workSubId = new l.Just(n), t.disabled = !1, t }) }) }) : t.pure(b.applicativeHalogenM)(v.unit); if (d instanceof N) return r.bind(b.bindHalogenM)(o.get(b.monadStateHalogenM))(function (a) { return t.when(b.applicativeHalogenM)(i.notEq(D.eqContentId)(a.contentId)(d.value0.contentId))(r.discard(r.discardUnit)(b.bindHalogenM)(o.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.contentId = d.value0.contentId, e }))(function () { return _(n)(n.MonadEffect0())(e)(P.value) })) }); if (d instanceof L) return r.bind(b.bindHalogenM)(o.get(b.monadStateHalogenM))(function (n) { return t.when(b.applicativeHalogenM)(!n.disabled)(n.saveState instanceof H.Saving ? o.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.value = d.value0, e.saveState = H.SavingButChanged.value, e }) : o.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.value = d.value0, e.saveState = H.NotSaved.value, e })) }); if (d instanceof J) return r.bind(b.bindHalogenM)(o.get(b.monadStateHalogenM))(function (t) { return c.for_(b.applicativeHalogenM)(c.foldableMaybe)(S.toMaybe(t.data))(function (a) { return r.discard(r.discardUnit)(b.bindHalogenM)(o.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.loading = !0, e }))(function () { return r.bind(b.bindHalogenM)(S.executeApi(I.behaviourHalogenM(n))(b.monadAffHalogenM(e))(M.commitContent({ contentId: t.contentId, structureId: a.format.defaultStructureId, data: t.value })))(function (n) { return r.discard(r.discardUnit)(b.bindHalogenM)(c.for_(b.applicativeHalogenM)(c.foldableMaybe)(n)(function (n) { return o.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.saveState = H.HasNotChange.value, e }) }))(function () { return o.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.loading = !1, e }) }) }) }) }) }); if (d instanceof U) return r.bind(b.bindHalogenM)(o.get(b.monadStateHalogenM))(function (a) { return t.when(b.applicativeHalogenM)(i.eq(H.eqSaveState)(a.saveState)(H.NotSaved.value) && !a.loading)(c.for_(b.applicativeHalogenM)(c.foldableMaybe)(S.toMaybe(a.data))(function (t) { return r.discard(r.discardUnit)(b.bindHalogenM)(o.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.saveState = H.Saving.value, e }))(function () { return r.bind(b.bindHalogenM)(S.executeApi(I.behaviourHalogenM(n))(b.monadAffHalogenM(e))(M.writeContentWork({ contentId: a.contentId, structureId: t.format.defaultStructureId, data: a.value })))(function (n) { if (n instanceof l.Just) return u; if (n instanceof l.Nothing) return o.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.saveState = H.NotSaved.value, e }); throw new Error("Failed pattern match at Incentknow.Pages.EditContent (line 185, column 9 - line 187, column 58): " + [n.constructor.name]) }) }) })) }); if (d instanceof T) return _(n)(n.MonadEffect0())(e)(U.value); throw new Error("Failed pattern match at Incentknow.Pages.EditContent (line 128, column 16 - line 188, column 38): " + [d.constructor.name]) } } } }, q = p.SProxy.value; e.component = function (n) { return function (e) { return function (e) { return w.mkComponent({ initialState: R, render: function (n) { return function (e) { return function (e) { return function (t) { return k.section("page-edit-content")([H.saveState(t.saveState), E.remoteWith(t.data)(function (r) { return y.slot()(new p.IsSymbol(function () { return "editor" }))(d.ordUnit)(q)(v.unit)(A.component(n)(n.MonadEffect0())(e))({ format: r.format, value: t.value, env: { spaceId: new l.Just(r.spaceId) } })(function (n) { return l.Just.create(L.create(n)) }) }), C.submitButton({ isDisabled: l.isNothing(S.toMaybe(t.data)) || t.loading || t.disabled, isLoading: t.loading, text: "\u5909\u66f4", loadingText: "\u5909\u66f4\u4e2d", onClick: J.value })]) } } } }(n)(n.MonadEffect0())(e), eval: w.mkEval({ handleAction: _(n)(n.MonadEffect0())(e), handleQuery: w.defaultEval.handleQuery, receive: function (n) { return l.Just.create(N.create(n)) }, initialize: new l.Just(F.value), finalize: new l.Just(T.value) }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.DangerChange"] = n["Incentknow.Molecules.DangerChange"] || {}; var e = n["Incentknow.Molecules.DangerChange"], t = n["Control.Monad.State.Class"], r = n["Data.Unit"], a = n["Halogen.Component"], o = n["Halogen.HTML.Core"], u = n["Halogen.HTML.Elements"], i = n["Halogen.Query.HalogenM"], c = n["Incentknow.Atoms.Inputs"], l = n["Incentknow.HTML.Utils"], f = function () { function n() { } return n.value = new n, n }(), s = function () { function n() { } return n.value = new n, n }(), d = function () { function n() { } return n.value = new n, n }(), p = function (n) { return u.div([])([c.dangerButton(n.text)(f.value), l.whenElem(n.isFocused)(function (e) { return u.div([l.css("mol-danger-change")])([u.div([l.css("title")])([o.text(n.title)]), u.div([l.css("message")])([o.text(n.message)]), u.div([l.css("button")])([c.button("\u30ad\u30e3\u30f3\u30bb\u30eb")(s.value), c.dangerButton("\u5b9f\u884c")(d.value)])]) })]) }, v = function (n) { return { text: n.text, title: n.title, message: n.message, isFocused: !1 } }; e.component = function (n) { return a.mkComponent({ initialState: v, render: p, eval: a.mkEval({ handleAction: function (n) { if (n instanceof f) return t.modify_(i.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.isFocused = !0, e }); if (n instanceof s) return t.modify_(i.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.isFocused = !1, e }); if (n instanceof d) return i.raise(r.unit); throw new Error("Failed pattern match at Incentknow.Molecules.DangerChange (line 61, column 16 - line 64, column 26): " + [n.constructor.name]) }, handleQuery: a.defaultEval.handleQuery, receive: a.defaultEval.receive, initialize: a.defaultEval.initialize, finalize: a.defaultEval.finalize }) }) } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.TypeMenu"] = n["Incentknow.Molecules.TypeMenu"] || {}; var e = n["Incentknow.Molecules.TypeMenu"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Array"], u = n["Data.Eq"], i = n["Data.Foldable"], c = n["Data.Functor"], l = n["Data.Maybe"], f = n["Data.Ord"], s = n["Data.Symbol"], d = n["Data.Unit"], p = n["Halogen.Component"], v = n["Halogen.HTML"], m = n["Halogen.HTML.Core"], g = n["Halogen.HTML.Elements"], w = n["Halogen.Query.HalogenM"], y = n["Incentknow.Data.Property"], h = n["Incentknow.HTML.Utils"], b = n["Incentknow.Molecules.FormatMenu"], M = n["Incentknow.Molecules.SelectMenu"], S = n["Incentknow.Molecules.SpaceMenu"], I = function () { function n() { } return n.value = new n, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), F = [{ id: "integer", name: "Integer", desc: "\u6574\u6570" }, { id: "string", name: "String", desc: "\u6587\u5b57\u5217(\u6539\u884c\u306a\u3057)" }, { id: "text", name: "Text", desc: "\u6587\u5b57\u5217(\u6539\u884c\u3042\u308a)" }, { id: "decimal", name: "Decimal", desc: "\u5c11\u6570" }, { id: "boolean", name: "Boolean", desc: "\u30d6\u30fc\u30eb\u5024" }, { id: "enumeration", name: "Enum", desc: "\u5217\u6319\u4f53" }, { id: "format", name: "Format", desc: "\u30d5\u30a9\u30fc\u30de\u30c3\u30c8" }, { id: "space", name: "Space", desc: "\u30b9\u30da\u30fc\u30b9" }, { id: "content", name: "Content", desc: "\u30b3\u30f3\u30c6\u30f3\u30c4" }, { id: "code", name: "SourceCode", desc: "\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9" }, { id: "url", name: "URL", desc: "URL" }, { id: "array", name: "Array", desc: "\u914d\u5217" }, { id: "object", name: "Object", desc: "\u30aa\u30d6\u30b8\u30a7\u30af\u30c8" }, { id: "document", name: "Document", desc: "\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8" }, { id: "entity", name: "Entity", desc: "\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3" }, { id: "image", name: "Image", desc: "\u753b\u50cf" }], P = function (n) { var e = g.div([])([g.div([h.css("name")])([m.text(n.name)]), g.div([h.css("desc")])([m.text(n.desc)])]); return { id: n.id, name: n.name, searchWord: n.name, html: e } }, T = [{ id: "python", name: "Python", desc: "" }, { id: "javascript", name: "JavaScript", desc: "" }, { id: "r", name: "R", desc: "" }, { id: "json", name: "JSON", desc: "" }], N = { format: l.Nothing.value, space: l.Nothing.value, language: l.Nothing.value, type: l.Nothing.value, properties: new l.Just([]), enumerators: l.Nothing.value }, L = function (n) { if (n instanceof y.IntType) return N; if (n instanceof y.StringType) return N; if (n instanceof y.BoolType) return N; if (n instanceof y.TextType) return N; if (n instanceof y.FormatType) return N; if (n instanceof y.SpaceType) return N; if (n instanceof y.ContentType) return { format: new l.Just(n.value0.format), space: N.space, language: N.language, type: N.type, properties: N.properties, enumerators: N.enumerators }; if (n instanceof y.CodeType) return { format: N.format, space: N.space, language: n.value0.language, type: N.type, properties: N.properties, enumerators: N.enumerators }; if (n instanceof y.ArrayType) return { format: N.format, space: N.space, language: N.language, type: new l.Just(n.value0.type), properties: N.properties, enumerators: N.enumerators }; if (n instanceof y.UrlType) return N; if (n instanceof y.ObjectType) return { format: N.format, space: N.space, language: N.language, type: N.type, properties: new l.Just(n.value0.properties), enumerators: N.enumerators }; if (n instanceof y.DocumentType) return N; if (n instanceof y.EnumType) return { format: N.format, space: N.space, language: N.language, type: N.type, properties: N.properties, enumerators: new l.Just(n.value0.enumerators) }; if (n instanceof y.EntityType) return { format: new l.Just(n.value0.format), space: N.space, language: N.language, type: N.type, properties: N.properties, enumerators: N.enumerators }; if (n instanceof y.ImageType) return N; throw new Error("Failed pattern match at Incentknow.Molecules.TypeMenu (line 50, column 20 - line 65, column 41): " + [n.constructor.name]) }, x = function (n) { var e = { space: new l.Just(n.spaceId), enumerators: N.enumerators, format: N.format, language: N.language, properties: N.properties, type: N.type }; return { typeNameItems: c.map(c.functorArray)(P)(o.filter(function (e) { return i.notElem(i.foldableArray)(u.eqString)(e.id)(n.exceptions) })(F)), langNameItems: c.map(c.functorArray)(P)(T), typeName: c.map(l.functorMaybe)(y.getTypeName)(n.value), typeArgs: l.fromMaybe(e)(c.map(l.functorMaybe)(L)(n.value)), exceptions: n.exceptions, spaceId: n.spaceId, disabled: n.disabled } }, U = function (n) { if (n.typeName instanceof l.Just) { var e = (a = n.typeName.value0, function (n) { return "integer" === a ? t.pure(l.applicativeMaybe)(new y.IntType({})) : "string" === a ? t.pure(l.applicativeMaybe)(new y.StringType({})) : "text" === a ? t.pure(l.applicativeMaybe)(new y.TextType({})) : "format" === a ? t.pure(l.applicativeMaybe)(new y.FormatType({})) : "boolean" === a ? t.pure(l.applicativeMaybe)(new y.BoolType({})) : "space" === a ? t.pure(l.applicativeMaybe)(new y.SpaceType({})) : "content" === a ? r.bind(l.bindMaybe)(n.format)(function (n) { return t.pure(l.applicativeMaybe)(new y.ContentType({ format: n })) }) : "code" === a ? t.pure(l.applicativeMaybe)(new y.CodeType({ language: n.language })) : "array" === a ? r.bind(l.bindMaybe)(n.type)(function (n) { return t.pure(l.applicativeMaybe)(new y.ArrayType({ type: n })) }) : "url" === a ? t.pure(l.applicativeMaybe)(new y.UrlType({})) : "object" === a ? r.bind(l.bindMaybe)(n.properties)(function (n) { return t.pure(l.applicativeMaybe)(new y.ObjectType({ properties: n })) }) : "document" === a ? t.pure(l.applicativeMaybe)(new y.DocumentType({})) : "enumeration" === a ? r.bind(l.bindMaybe)(n.enumerators)(function (n) { return t.pure(l.applicativeMaybe)(new y.EnumType({ enumerators: n })) }) : "entity" === a ? r.bind(l.bindMaybe)(n.format)(function (n) { return t.pure(l.applicativeMaybe)(new y.EntityType({ format: n })) }) : "image" === a ? t.pure(l.applicativeMaybe)(new y.ImageType({})) : l.Nothing.value })(n.typeArgs); if (e instanceof l.Just) return l.Just.create(new l.Just(e.value0)); if (e instanceof l.Nothing) return l.Nothing.value; throw new Error("Failed pattern match at Incentknow.Molecules.TypeMenu (line 245, column 16 - line 247, column 23): " + [e.constructor.name]) } var a; if (n.typeName instanceof l.Nothing) return new l.Just(l.Nothing.value); throw new Error("Failed pattern match at Incentknow.Molecules.TypeMenu (line 244, column 19 - line 248, column 26): " + [n.typeName.constructor.name]) }, J = function (n) { var e = U(n); if (e instanceof l.Just) return r.discard(r.discardUnit)(w.bindHalogenM)(w.raise(e.value0))(function () { return t.when(w.applicativeHalogenM)(l.isNothing(e.value0))(a.put(w.monadStateHalogenM)(n)) }); if (e instanceof l.Nothing) return a.put(w.monadStateHalogenM)(n); throw new Error("Failed pattern match at Incentknow.Molecules.TypeMenu (line 254, column 23 - line 258, column 25): " + [e.constructor.name]) }, O = function (n) { return function (e) { return p.mkComponent({ initialState: x, render: function (n) { return function (e) { return function (t) { return g.div_([v.slot()(new s.IsSymbol(function () { return "selectMenu" }))(f.ordUnit)(s.SProxy.value)(d.unit)(M.component(n)(e))({ resource: M.SelectMenuResourceAllCandidates.create(t.typeNameItems), value: t.typeName, disabled: t.disabled })(function (n) { return l.Just.create(C.create(n)) }), t.typeName instanceof l.Just && "content" === t.typeName.value0 ? g.div_([h.whenElem(l.isNothing(t.typeArgs.format))(function (r) { return v.slot()(new s.IsSymbol(function () { return "spaceMenu" }))(f.ordUnit)(s.SProxy.value)(d.unit)(S.component(n)(e)(n.MonadEffect0()))({ value: t.typeArgs.space, disabled: !1 })(function (n) { return l.Just.create(k.create(n)) }) }), v.slot()(new s.IsSymbol(function () { return "formatMenu" }))(f.ordUnit)(s.SProxy.value)(d.unit)(b.component(n)(e)(n.MonadEffect0()))({ value: t.typeArgs.format, filter: l.maybe(b.None.value)(b.SpaceBy.create)(t.typeArgs.space), disabled: t.disabled })(function (n) { return l.Just.create(H.create(n)) })]) : t.typeName instanceof l.Just && "entity" === t.typeName.value0 ? g.div_([h.whenElem(l.isNothing(t.typeArgs.format))(function (r) { return v.slot()(new s.IsSymbol(function () { return "spaceMenu" }))(f.ordUnit)(s.SProxy.value)(d.unit)(S.component(n)(e)(n.MonadEffect0()))({ value: t.typeArgs.space, disabled: !1 })(function (n) { return l.Just.create(k.create(n)) }) }), v.slot()(new s.IsSymbol(function () { return "formatMenu" }))(f.ordUnit)(s.SProxy.value)(d.unit)(b.component(n)(e)(n.MonadEffect0()))({ value: t.typeArgs.format, filter: l.maybe(b.None.value)(b.SpaceByAndHasSemanticId.create)(t.typeArgs.space), disabled: t.disabled })(function (n) { return l.Just.create(H.create(n)) })]) : t.typeName instanceof l.Just && "code" === t.typeName.value0 ? v.slot()(new s.IsSymbol(function () { return "langMenu" }))(f.ordUnit)(s.SProxy.value)(d.unit)(M.component(n)(e))({ resource: new M.SelectMenuResourceAllCandidates(t.langNameItems), value: t.typeArgs.language, disabled: t.disabled })(function (n) { return l.Just.create(D.create(n)) }) : t.typeName instanceof l.Just && "array" === t.typeName.value0 ? v.slot()(new s.IsSymbol(function () { return "typeMenu" }))(f.ordUnit)(s.SProxy.value)(d.unit)(O(n)(e))({ value: t.typeArgs.type, exceptions: ["array"], spaceId: t.spaceId, disabled: t.disabled })(function (n) { return l.Just.create(A.create(n)) }) : m.text("")]) } } }(n)(e), eval: p.mkEval({ handleAction: (n.MonadEffect0(), function (n) { if (n instanceof I) return t.pure(w.applicativeHalogenM)(d.unit); if (n instanceof E) return t.when(w.applicativeHalogenM)(l.isJust(n.value0.value))(a.put(w.monadStateHalogenM)(x(n.value0))); if (n instanceof H) return r.bind(w.bindHalogenM)(a.get(w.monadStateHalogenM))(function (e) { return J({ typeNameItems: e.typeNameItems, langNameItems: e.langNameItems, typeName: e.typeName, typeArgs: { format: n.value0, space: e.typeArgs.space, language: e.typeArgs.language, type: e.typeArgs.type, properties: e.typeArgs.properties, enumerators: e.typeArgs.enumerators }, exceptions: e.exceptions, spaceId: e.spaceId, disabled: e.disabled }) }); if (n instanceof C) return r.bind(w.bindHalogenM)(a.get(w.monadStateHalogenM))(function (e) { return J({ typeNameItems: e.typeNameItems, langNameItems: e.langNameItems, typeName: n.value0, typeArgs: e.typeArgs, exceptions: e.exceptions, spaceId: e.spaceId, disabled: e.disabled }) }); if (n instanceof D) return r.bind(w.bindHalogenM)(a.get(w.monadStateHalogenM))(function (e) { return J({ typeNameItems: e.typeNameItems, langNameItems: e.langNameItems, typeName: e.typeName, typeArgs: { format: e.typeArgs.format, space: e.typeArgs.space, language: n.value0, type: e.typeArgs.type, properties: e.typeArgs.properties, enumerators: e.typeArgs.enumerators }, exceptions: e.exceptions, spaceId: e.spaceId, disabled: e.disabled }) }); if (n instanceof A) return r.bind(w.bindHalogenM)(a.get(w.monadStateHalogenM))(function (e) { return J({ typeNameItems: e.typeNameItems, langNameItems: e.langNameItems, typeName: e.typeName, typeArgs: { format: e.typeArgs.format, space: e.typeArgs.space, language: e.typeArgs.language, type: n.value0, properties: e.typeArgs.properties, enumerators: e.typeArgs.enumerators }, exceptions: e.exceptions, spaceId: e.spaceId, disabled: e.disabled }) }); if (n instanceof k) return r.bind(w.bindHalogenM)(a.get(w.monadStateHalogenM))(function (e) { return J({ typeNameItems: e.typeNameItems, langNameItems: e.langNameItems, typeName: e.typeName, typeArgs: { format: e.typeArgs.format, space: n.value0, language: e.typeArgs.language, type: e.typeArgs.type, properties: e.typeArgs.properties, enumerators: e.typeArgs.enumerators }, exceptions: e.exceptions, spaceId: e.spaceId, disabled: e.disabled }) }); throw new Error("Failed pattern match at Incentknow.Molecules.TypeMenu (line 261, column 16 - line 278, column 74): " + [n.constructor.name]) }), handleQuery: p.defaultEval.handleQuery, receive: function (n) { return l.Just.create(E.create(n)) }, initialize: new l.Just(I.value), finalize: p.defaultEval.finalize }) }) } }; e.component = O }(PS), function (n) { "use strict"; n["Incentknow.Organisms.Enumeration"] = n["Incentknow.Organisms.Enumeration"] || {}; var e = n["Incentknow.Organisms.Enumeration"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Array"], u = n["Data.Functor"], i = n["Data.Maybe"], c = n["Data.Maybe.Utils"], l = n["Data.Ord"], f = n["Data.Semigroup"], s = n["Data.Symbol"], d = n["Data.Unit"], p = n["Halogen.Component"], v = n["Halogen.HTML"], m = n["Halogen.HTML.Core"], g = n["Halogen.HTML.Elements"], w = n["Halogen.HTML.Events"], y = n["Halogen.HTML.Properties"], h = n["Halogen.Query.HalogenM"], b = n["Incentknow.Atoms.Inputs"], M = n["Incentknow.Data.Ids"], S = n["Incentknow.HTML.Utils"], I = n["Incentknow.Molecules.DangerChange"], E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function () { function n() { } return n.value = new n, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), A = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), k = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), F = function () { function n() { } return n.value = new n, n }(), P = function (n) { return "" === n.displayName ? i.Nothing.value : new i.Just(n) }, T = function (n) { return { enums: n.value, readonly: n.readonly } }, N = function (n) { return r.bind(h.bindHalogenM)(a.get(h.monadStateHalogenM))(function (e) { var r = u.map(u.functorArray)(P)(e.enums); return t.pure(h.applicativeHalogenM)(u.map(i.functorMaybe)(n.value0)(c.allJust(r))) }) }; e.GetValue = E, e.component = function (n) { return p.mkComponent({ initialState: T, render: function (n) { return function (e) { return g.div([S.css("org-enumeration")])([e.readonly ? m.text("") : g.div([S.css("buttons-area")])([b.button("\u8ffd\u52a0")(F.value)]), g.table_([g.thead([])([g.tr([])([g.th([])([m.text("")]), g.th([])([m.text("ID")]), g.th([])([m.text("\u30d5\u30a3\u30fc\u30eb\u30c9\u540d")]), g.th([])([m.text("\u8868\u793a\u540d")])])]), g.tbody([])(u.map(u.functorArray)(function (t) { return g.tr([])([g.td([])([v.slot()(new s.IsSymbol(function () { return "delete" }))(l.ordString)(s.SProxy.value)(t.id)(I.component(n))({ text: "\u524a\u9664", title: "\u5217\u6319\u5b50\u306e\u524a\u9664", message: "\u5217\u6319\u5b50\u300c" + ("" === t.displayName ? t.id : t.displayName) + "\u300d\u3092\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b\uff1f" })(function (n) { return i.Just.create(new k(t.id)) })]), g.td([])([m.text(t.id)]), g.td([])([e.readonly ? m.text(i.fromMaybe("")(t.fieldName)) : g.textarea([y.value(i.fromMaybe("")(t.fieldName)), w.onValueChange((a = A.create(t.id), function (n) { return i.Just.create(a(n)) }))])]), g.td([])([e.readonly ? m.text(t.displayName) : g.textarea([y.value(t.displayName), w.onValueChange((r = D.create(t.id), function (n) { return i.Just.create(r(n)) }))])])]); var r, a })(e.enums))])]) } }(n), eval: p.mkEval({ handleAction: function (n) { var e = function (n) { return function (e) { return u.map(u.functorArray)(function (t) { return t.id === n ? e(t) : t }) } }; return function (u) { if (u instanceof C) return t.pure(h.applicativeHalogenM)(d.unit); if (u instanceof H) return a.put(h.monadStateHalogenM)(T(u.value0)); if (u instanceof D) return a.modify_(h.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.enums = e(u.value0)(function (n) { return { id: n.id, displayName: u.value1, fieldName: n.fieldName } })(n.enums), t }); if (u instanceof A) return a.modify_(h.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.enums = e(u.value0)(function (n) { return { id: n.id, displayName: n.displayName, fieldName: "" === u.value1 ? i.Nothing.value : new i.Just(u.value1) } })(n.enums), t }); if (u instanceof k) return a.modify_(h.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.enums = o.filter(function (n) { return n.id !== u.value0 })(n.enums), e }); if (u instanceof F) return r.bind(h.bindHalogenM)(M.generateId(h.monadEffectHalogenM(n))(4))(function (n) { return a.modify_(h.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.enums = f.append(f.semigroupArray)(e.enums)([{ displayName: "", fieldName: i.Nothing.value, id: n }]), t }) }); throw new Error("Failed pattern match at Incentknow.Organisms.Enumeration (line 121, column 16 - line 131, column 102): " + [u.constructor.name]) } }(n), handleQuery: N, receive: function (n) { return i.Just.create(H.create(n)) }, initialize: new i.Just(C.value), finalize: p.defaultEval.finalize }) }) } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.Structure"] = n["Incentknow.Organisms.Structure"] || {}; var e = n["Incentknow.Organisms.Structure"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Array"], u = n["Data.Foldable"], i = n["Data.Functor"], c = n["Data.Maybe"], l = n["Data.Maybe.Utils"], f = n["Data.Newtype"], s = n["Data.Ord"], d = n["Data.Semigroup"], p = n["Data.Symbol"], v = n["Data.Traversable"], m = n["Data.Void"], g = n["Halogen.Component"], w = n["Halogen.HTML"], y = n["Halogen.HTML.Core"], h = n["Halogen.HTML.Elements"], b = n["Halogen.HTML.Properties"], M = n["Halogen.Query"], S = n["Halogen.Query.HalogenM"], I = n["Incentknow.Atoms.Inputs"], E = n["Incentknow.Data.Ids"], C = n["Incentknow.Data.Property"], H = n["Incentknow.HTML.Utils"], D = n["Incentknow.Molecules.DangerChange"], A = n["Incentknow.Molecules.TypeMenu"], k = n["Incentknow.Organisms.Enumeration"], F = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), P = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), T = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), N = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), L = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), x = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), U = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), J = function () { function n() { } return n.value = new n, n }(), O = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), R = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), _ = function (n) { return r.bind(c.bindMaybe)(n.displayName)(function (e) { return r.bind(c.bindMaybe)(n.type)(function (r) { return t.pure(c.applicativeMaybe)({ id: n.id, displayName: e, fieldName: n.fieldName, type: r, semantic: n.semantic, optional: n.optional }) }) }) }, q = function (n) { return "" === n ? c.Nothing.value : new c.Just(n) }, W = p.SProxy.value, B = function (n) { return function (e) { return { props: e.props, readonly: n.readonly, spaceId: n.spaceId } } }, Q = function (n) { return B(n)({ props: [], readonly: !0, spaceId: f.wrap(E.newtypeSpaceId)("") }) }, z = function (n) { return n instanceof C.ArrayType && n.value0.type instanceof C.ObjectType ? new c.Just(n.value0.type.value0.properties) : c.Nothing.value }, V = function (n) { return n instanceof C.EnumType ? new c.Just(n.value0.enumerators) : c.Nothing.value }, j = p.SProxy.value, G = function (n) { return r.bind(S.bindHalogenM)(S.query()(new p.IsSymbol(function () { return "structure" }))(s.ordString)(W)(n.id)(M.request(F.create)))(function (e) { return r.bind(S.bindHalogenM)(S.query()(new p.IsSymbol(function () { return "enumeration" }))(s.ordString)(j)(n.id)(M.request(k.GetValue.create)))(function (r) { return e instanceof c.Just ? t.pure(S.applicativeHalogenM)({ type: i.map(c.functorMaybe)((a = e.value0, function (n) { return n instanceof C.ArrayType && n.value0.type instanceof C.ObjectType ? C.ArrayType.create({ type: C.ObjectType.create({ properties: a }) }) : n }))(n.type), displayName: n.displayName, fieldName: n.fieldName, id: n.id, optional: n.optional, semantic: n.semantic }) : r instanceof c.Just ? t.pure(S.applicativeHalogenM)({ type: i.map(c.functorMaybe)((o = r.value0, function (n) { return n instanceof C.EnumType ? C.EnumType.create({ enumerators: o }) : n }))(n.type), displayName: n.displayName, fieldName: n.fieldName, id: n.id, optional: n.optional, semantic: n.semantic }) : t.pure(S.applicativeHalogenM)(n); var a, o }) }) }, K = function (n) { if (n instanceof F) return r.bind(S.bindHalogenM)(a.get(S.monadStateHalogenM))(function (e) { return r.bind(S.bindHalogenM)(v.for(S.applicativeHalogenM)(v.traversableArray)(e.props)(G))(function (e) { var r = i.map(i.functorArray)(_)(e); return t.pure(S.applicativeHalogenM)(i.map(c.functorMaybe)(n.value0)(l.allJust(r))) }) }); if (n instanceof P) { var e = i.map(i.functorArray)(function (n) { return { id: n.id, displayName: new c.Just(n.displayName), fieldName: n.fieldName, type: new c.Just(n.type), semantic: n.semantic, optional: n.optional } })(n.value0); return r.discard(r.discardUnit)(S.bindHalogenM)(a.modify_(S.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.props = e, t }))(function () { return r.discard(r.discardUnit)(S.bindHalogenM)(u.for_(S.applicativeHalogenM)(u.foldableArray)(e)(function (n) { return u.for_(S.applicativeHalogenM)(u.foldableMaybe)(l.flatten(i.map(c.functorMaybe)(z)(n.type)))(function (e) { return S.query()(new p.IsSymbol(function () { return "structure" }))(s.ordString)(W)(n.id)(M.tell(P.create(e))) }) }))(function () { return t.pure(S.applicativeHalogenM)(new c.Just(n.value1)) }) }) } throw new Error("Failed pattern match at Incentknow.Organisms.Structure (line 280, column 15 - line 304, column 8): " + [n.constructor.name]) }, X = function (n) { return function (e) { return function (t) { return g.mkComponent({ initialState: Q, render: function (n) { return function (e) { return function (t) { return h.div([H.css("org-structure")])([t.readonly ? y.text("") : h.div([H.css("buttons-area")])([I.button("\u8ffd\u52a0")(J.value)]), h.table_([h.thead([])([h.tr([])([H.whenElem(!t.readonly)(function (n) { return h.th([])([y.text("")]) }), h.th([])([y.text("ID")]), h.th([])([y.text("\u30d5\u30a3\u30fc\u30eb\u30c9\u540d")]), h.th([])([y.text("\u8868\u793a\u540d")]), h.th([])([y.text("\u578b")]), h.th([])([y.text("\u610f\u5473")]), h.th([])([y.text("Optional")])])]), h.tbody([])(o.concat(i.map(i.functorArray)(function (r) { return [h.tr([])([H.whenElem(!t.readonly)(function (e) { return h.td([])([w.slot()(new p.IsSymbol(function () { return "delete" }))(s.ordString)(p.SProxy.value)(r.id)(D.component(n.MonadEffect0()))({ text: "\u524a\u9664", title: "\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u524a\u9664", message: "\u30d7\u30ed\u30d1\u30c6\u30a3\u300c" + c.fromMaybe(r.id)(r.displayName) + "\u300d\u3092\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b\uff1f" })(function (n) { return c.Just.create(new O(r.id)) })]) }), h.td([])([y.text(r.id)]), h.td([])([t.readonly ? y.text(c.fromMaybe("")(r.fieldName)) : I.textarea({ value: c.fromMaybe("")(r.fieldName), placeholder: "", onChange: N.create(r.id) })]), h.td([])([t.readonly ? y.text(c.fromMaybe("")(r.displayName)) : I.textarea({ value: c.fromMaybe("")(r.displayName), placeholder: "", onChange: T.create(r.id) })]), h.td([])([t.readonly ? y.text(c.fromMaybe("")(i.map(c.functorMaybe)(C.getTypeName)(r.type))) : w.slot()(new p.IsSymbol(function () { return "typeMenu" }))(s.ordString)(p.SProxy.value)(r.id)(A.component(n)(e))({ value: r.type, exceptions: ["object"], spaceId: t.spaceId, disabled: !1 })((a = L.create(r.id), function (n) { return c.Just.create(a(n)) }))]), h.td([])([t.readonly ? y.text(c.fromMaybe("")(r.semantic)) : I.textarea({ value: c.fromMaybe("")(r.semantic), placeholder: "", onChange: x.create(r.id) })]), h.td([])([t.readonly ? y.text(c.fromMaybe("")(r.semantic)) : I.checkbox("")(r.optional)(U.create(r.id))(!1)])]), H.maybeElem(l.flatten(i.map(c.functorMaybe)(z)(r.type)))(function (a) { return h.tr([])([h.td([b.colSpan(7)])([w.slot()(new p.IsSymbol(function () { return "structure" }))(s.ordString)(W)(r.id)(X(n)(e)(n.MonadEffect0()))({ readonly: t.readonly, spaceId: t.spaceId })(m.absurd)])]) }), H.maybeElem(l.flatten(i.map(c.functorMaybe)(V)(r.type)))(function (e) { return h.tr([])([h.td([b.colSpan(7)])([w.slot()(new p.IsSymbol(function () { return "enumeration" }))(s.ordString)(p.SProxy.value)(r.id)(k.component(n.MonadEffect0()))({ value: e, readonly: t.readonly })(m.absurd)])]) })]; var a })(t.props)))])]) } } }(n)(e), eval: g.mkEval({ handleAction: function (n) { var e = function (n) { return function (e) { return i.map(i.functorArray)(function (t) { return t.id === n ? e(t) : t }) } }; return function (t) { if (t instanceof T) return a.modify_(S.monadStateHalogenM)(function (n) { var r = {}; for (var a in n) ({}).hasOwnProperty.call(n, a) && (r[a] = n[a]); return r.props = e(t.value0)(function (n) { return { id: n.id, displayName: q(t.value1), fieldName: n.fieldName, type: n.type, semantic: n.semantic, optional: n.optional } })(n.props), r }); if (t instanceof N) return a.modify_(S.monadStateHalogenM)(function (n) { var r = {}; for (var a in n) ({}).hasOwnProperty.call(n, a) && (r[a] = n[a]); return r.props = e(t.value0)(function (n) { return { id: n.id, displayName: n.displayName, fieldName: q(t.value1), type: n.type, semantic: n.semantic, optional: n.optional } })(n.props), r }); if (t instanceof L) return a.modify_(S.monadStateHalogenM)(function (n) { var r = {}; for (var a in n) ({}).hasOwnProperty.call(n, a) && (r[a] = n[a]); return r.props = e(t.value0)(function (n) { return { id: n.id, displayName: n.displayName, fieldName: n.fieldName, type: t.value1, semantic: n.semantic, optional: n.optional } })(n.props), r }); if (t instanceof x) return a.modify_(S.monadStateHalogenM)(function (n) { var r = {}; for (var a in n) ({}).hasOwnProperty.call(n, a) && (r[a] = n[a]); return r.props = e(t.value0)(function (n) { return { id: n.id, displayName: n.displayName, fieldName: n.fieldName, type: n.type, semantic: q(t.value1), optional: n.optional } })(n.props), r }); if (t instanceof U) return a.modify_(S.monadStateHalogenM)(function (n) { var r = {}; for (var a in n) ({}).hasOwnProperty.call(n, a) && (r[a] = n[a]); return r.props = e(t.value0)(function (n) { return { id: n.id, displayName: n.displayName, fieldName: n.fieldName, type: n.type, semantic: n.semantic, optional: t.value1 } })(n.props), r }); if (t instanceof J) return r.bind(S.bindHalogenM)(E.generateId(S.monadEffectHalogenM(n))(4))(function (n) { return a.modify_(S.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.props = d.append(d.semigroupArray)(e.props)([{ displayName: c.Nothing.value, fieldName: c.Nothing.value, semantic: c.Nothing.value, id: n, type: c.Nothing.value, optional: !1 }]), t }) }); if (t instanceof O) return a.modify_(S.monadStateHalogenM)(function (n) { var e = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]); return e.props = o.filter(function (n) { return n.id !== t.value0 })(n.props), e }); if (t instanceof R) return a.modify_(S.monadStateHalogenM)(B(t.value0)); throw new Error("Failed pattern match at Incentknow.Organisms.Structure (line 236, column 16 - line 252, column 50): " + [t.constructor.name]) } }(n.MonadEffect0()), handleQuery: K, receive: function (n) { return c.Just.create(R.create(n)) }, initialize: g.defaultEval.initialize, finalize: g.defaultEval.finalize }) }) } } }; e.GetValue = F, e.SetValue = P, e.component = X }(PS), function (n) { "use strict"; n["Incentknow.Pages.Format.Main"] = n["Incentknow.Pages.Format.Main"] || {}; var e = n["Incentknow.Pages.Format.Main"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Eq"], u = n["Data.Foldable"], i = n["Data.Functor"], c = n["Data.Maybe"], l = n["Data.Ord"], f = n["Data.Symbol"], s = n["Data.Unit"], d = n["Data.Void"], p = n["Halogen.Component"], v = n["Halogen.HTML"], m = n["Halogen.HTML.Core"], g = n["Halogen.HTML.Elements"], w = n["Halogen.Query"], y = n["Halogen.Query.HalogenM"], h = n["Incentknow.Api"], b = n["Incentknow.Api.Execution"], M = n["Incentknow.AppM"], S = n["Incentknow.Atoms.Inputs"], I = n["Incentknow.Data.Property"], E = n["Incentknow.Organisms.Structure"], C = function () { function n() { } return n.value = new n, n }(), H = function () { function n() { } return n.value = new n, n }(), D = function () { function n() { } return n.value = new n, n }(), A = function () { function n() { } return n.value = new n, n }(), k = f.SProxy.value, F = function (n) { return { format: n.format, editMode: !1, updating: !1 } }; e.component = function (n) { return function (e) { return function (P) { return p.mkComponent({ initialState: F, render: function (n) { return function (e) { return function (t) { return function (t) { return g.div_([t.editMode ? m.text("") : S.button("\u7de8\u96c6\u3059\u308b")(H.value), v.slot()(new f.IsSymbol(function () { return "structure" }))(l.ordUnit)(k)(s.unit)(E.component(n)(e)(n.MonadEffect0()))({ readonly: !t.editMode, spaceId: t.format.spaceId })(d.absurd), t.editMode ? g.div_([S.submitButton({ text: "\u66f4\u65b0\u3059\u308b", loadingText: "\u66f4\u65b0\u4e2d", isDisabled: t.updating, isLoading: t.updating, onClick: A.value }), S.button("\u5909\u66f4\u3092\u7834\u68c4")(D.value)]) : m.text("")]) } } } }(n)(e)(n.MonadEffect0()), eval: p.mkEval({ handleAction: function (n) { return function (e) { return function (d) { return function (d) { if (d instanceof C) return r.bind(y.bindHalogenM)(a.get(y.monadStateHalogenM))(function (n) { var e = i.map(i.functorArray)(I.toPropertyInfo)(n.format.structure.properties); return r.bind(y.bindHalogenM)(y.query()(new f.IsSymbol(function () { return "structure" }))(l.ordUnit)(k)(s.unit)(w.tell(E.SetValue.create(e))))(function () { return t.pure(y.applicativeHalogenM)(s.unit) }) }); if (d instanceof H) return a.modify_(y.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.editMode = !0, e }); if (d instanceof D) return a.modify_(y.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.editMode = !1, e }); if (d instanceof A) return r.bind(y.bindHalogenM)(a.get(y.monadStateHalogenM))(function (d) { return r.bind(y.bindHalogenM)(y.query()(new f.IsSymbol(function () { return "structure" }))(l.ordUnit)(k)(s.unit)(w.request(E.GetValue.create)))(u.traverse_(y.applicativeHalogenM)(u.foldableMaybe)(function (u) { var l = I.difference(i.map(i.functorArray)(I.toPropertyInfo)(d.format.structure.properties))(u); return t.when(y.applicativeHalogenM)(o.notEq(I.eqChangeType)(l.changeType)(I.NoneChange.value))(r.discard(r.discardUnit)(y.bindHalogenM)(a.modify_(y.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.updating = !0, e }))(function () { return r.bind(y.bindHalogenM)(b.executeApi(M.behaviourHalogenM(n))(y.monadAffHalogenM(e))(h.updateFormatStructure(d.format.formatId)(i.map(i.functorArray)(I.fromPropertyInfo)(u))))(function (n) { if (n instanceof c.Just) return a.modify_(y.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.updating = !1, e.editMode = !1, e.format = function () { var e = {}; for (var t in n.format) ({}).hasOwnProperty.call(n.format, t) && (e[t] = n.format[t]); return e.structure = function () { var e = {}; for (var t in n.format.structure) ({}).hasOwnProperty.call(n.format.structure, t) && (e[t] = n.format.structure[t]); return e.properties = i.map(i.functorArray)(I.fromPropertyInfo)(u), e }(), e }(), e }); if (n instanceof c.Nothing) return a.modify_(y.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.updating = !1, e }); throw new Error("Failed pattern match at Incentknow.Pages.Format.Main (line 95, column 13 - line 99, column 49): " + [n.constructor.name]) }) })) })) }); throw new Error("Failed pattern match at Incentknow.Pages.Format.Main (line 78, column 16 - line 99, column 49): " + [d.constructor.name]) } } } }(n)(e)(n.MonadEffect0()), handleQuery: p.defaultEval.handleQuery, receive: p.defaultEval.receive, initialize: new c.Just(C.value), finalize: p.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.Setting"] = n["Incentknow.Molecules.Setting"] || {}; var e = n["Incentknow.Molecules.Setting"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Either"], u = n["Data.Eq"], i = n["Data.Maybe"], c = n["Data.Unit"], l = n["Effect.Aff.Class"], f = n["Halogen.Component"], s = n["Halogen.HTML.Core"], d = n["Halogen.HTML.Elements"], p = n["Halogen.HTML.Events"], v = n["Halogen.Query.HalogenM"], m = n["Incentknow.Atoms.Inputs"], g = n["Incentknow.HTML.Utils"], w = function () { function n() { } return n.value = new n, n }(), y = function () { function n() { } return n.value = new n, n }(), h = function () { function n() { } return n.value = new n, n }(), b = function () { function n() { } return n.value = new n, n }(), M = function () { function n() { } return n.value = new n, n }(), S = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), I = function () { function n() { } return n.value = new n, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), H = function () { function n() { } return n.value = new n, n }(), D = function () { function n() { } return n.value = new n, n }(), A = function () { function n() { } return n.value = new n, n }(), k = function (n) { if (n instanceof o.Right) return M.value; if (n instanceof o.Left) return new S(n.value0); throw new Error("Failed pattern match at Incentknow.Molecules.Setting (line 143, column 20 - line 145, column 25): " + [n.constructor.name]) }, F = function (n) { return function (e) { if (e instanceof y) return s.text(""); if (e instanceof b) return s.text(""); if (e instanceof h) return s.text(""); if (e instanceof M) return d.div([g.css("message message-success")])([d.span_([s.text(n)])]); if (e instanceof S) return d.div([g.css("message message-error")])([d.span_([s.text(e.value0)])]); throw new Error("Failed pattern match at Incentknow.Molecules.Setting (line 148, column 34 - line 153, column 84): " + [e.constructor.name]) } }, P = function (n) { return function (e) { if (n instanceof y) return m.button("\u5909\u66f4")(e); if (n instanceof b) return s.text(""); if (n instanceof h) return s.text(""); if (n instanceof S) return s.text(""); if (n instanceof M) return m.button("\u5909\u66f4")(e); throw new Error("Failed pattern match at Incentknow.Molecules.Setting (line 156, column 31 - line 161, column 30): " + [n.constructor.name]) } }, T = function (n) { return d.span([g.css("cancel"), p.onClick(function (e) { return new i.Just(n) })])([s.text("\u30ad\u30e3\u30f3\u30bb\u30eb")]) }, N = function (n) { return function (e) { return function (t) { return function (r) { if (n instanceof y) return s.text(""); if (n instanceof h) return d.div([g.css("button")])([m.submitButton({ text: "\u6c7a\u5b9a", loadingText: "\u5909\u66f4\u4e2d", isDisabled: r, isLoading: !1, onClick: e }), T(t)]); if (n instanceof b) return d.div([g.css("button")])([m.submitButton({ text: "\u6c7a\u5b9a", loadingText: "\u5909\u66f4\u4e2d", isDisabled: !0, isLoading: !0, onClick: e })]); if (n instanceof S) return d.div([g.css("button")])([m.submitButton({ text: "\u6c7a\u5b9a", loadingText: "\u5909\u66f4\u4e2d", isDisabled: r, isLoading: !1, onClick: e }), T(t)]); if (n instanceof M) return s.text(""); throw new Error("Failed pattern match at Incentknow.Molecules.Setting (line 164, column 51 - line 198, column 24): " + [n.constructor.name]) } } } }, L = function (n) { return { state: y.value, typingValue: n.value, nowValue: n.value, title: n.title, desc: n.desc, submit: n.submit, disabled: n.disabled } }, x = function (n) { return r.discard(r.discardUnit)(v.bindHalogenM)(a.modify_(v.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.state = y.value, e }))(function () { return t.pure(v.applicativeHalogenM)(i.Nothing.value) }) }, U = new u.Eq(function (n) { return function (e) { return n instanceof y && e instanceof y || (n instanceof h && e instanceof h || (n instanceof b && e instanceof b || (n instanceof M && e instanceof M || n instanceof S && e instanceof S && n.value0 === e.value0))) } }); e.component = function (n) { return function (e) { return function (o) { return f.mkComponent({ initialState: L, render: function (n) { return function (e) { return function (e) { return function (t) { return d.div([g.css("item")])([d.div([g.css("main")])([d.div([g.css("left")])([d.label_([s.text(t.title)]), d.div([g.css("value")])([function () { if (t.state instanceof y) return e.viewer(t.nowValue); if (t.state instanceof h) return e.editor(C.create)(!1)(t.typingValue); if (t.state instanceof b) return e.editor(C.create)(!0)(t.typingValue); if (t.state instanceof S) return e.editor(C.create)(!1)(t.typingValue); if (t.state instanceof M) return e.viewer(t.nowValue); throw new Error("Failed pattern match at Incentknow.Molecules.Setting (line 94, column 19 - line 99, column 60): " + [t.state.constructor.name]) }()]), d.div([g.css("desc")])([s.text(t.desc)])]), g.whenElem(!t.disabled)(function (n) { return d.div([g.css("right")])([P(t.state)(H.value)]) })]), N(t.state)(D.value)(A.value)(!e.validate(t.typingValue) || u.eq(n)(t.nowValue)(t.typingValue)), F("\u5909\u66f4\u3057\u307e\u3057\u305f")(t.state)]) } } } }(n)(e)(o), eval: f.mkEval({ handleAction: function (n) { return function (e) { return function (e) { if (e instanceof I) return t.pure(v.applicativeHalogenM)(c.unit); if (e instanceof E) return a.modify_(v.monadStateHalogenM)((o = e.value0, function (n) { return { state: n.state, typingValue: o.value, nowValue: o.value, title: o.title, desc: o.desc, submit: o.submit, disabled: o.disabled } })); var o; if (e instanceof C) return a.modify_(v.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.typingValue = e.value0, t }); if (e instanceof H) return r.discard(r.discardUnit)(v.bindHalogenM)(a.modify_(v.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.state = h.value, e }))(function () { return v.raise(w.value) }); if (e instanceof D) return r.discard(r.discardUnit)(v.bindHalogenM)(a.modify_(v.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.state = b.value, e }))(function () { return r.bind(v.bindHalogenM)(a.get(v.monadStateHalogenM))(function (e) { return r.bind(v.bindHalogenM)(l.liftAff(v.monadAffHalogenM(n))(e.submit(e.typingValue)))(function (n) { return a.modify_(v.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.state = k(n), t }) }) }) }); if (e instanceof A) return a.modify_(v.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.state = y.value, e }); throw new Error("Failed pattern match at Incentknow.Molecules.Setting (line 113, column 23 - line 125, column 41): " + [e.constructor.name]) } } }(e)(o), handleQuery: x, receive: function (n) { return i.Just.create(E.create(n)) }, initialize: new i.Just(I.value), finalize: f.defaultEval.finalize }) }) } } }, e.None = y, e.Changing = h, e.Sending = b, e.Changed = M, e.Failed = S, e.Edited = w, e.toState = k, e.renderMessage = F, e.renderEditButton = P, e.renderSubmitButton = N, e.handleSettingQuery = x, e.eqChangingState = U }(PS), function (n) { "use strict"; n["Incentknow.Molecules.CompositionMenu"] = n["Incentknow.Molecules.CompositionMenu"] || {}; var e = n["Incentknow.Molecules.CompositionMenu"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.Ord"], c = n["Data.Symbol"], l = n["Data.Unit"], f = n["Halogen.Component"], s = n["Halogen.HTML"], d = n["Halogen.HTML.Core"], p = n["Halogen.HTML.Elements"], v = n["Halogen.Query.HalogenM"], m = n["Incentknow.Data.Page"], g = n["Incentknow.HTML.Utils"], w = n["Incentknow.Molecules.SelectMenu"], y = function () { function n() { } return n.value = new n, n }(), h = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), b = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), M = [{ id: "list", name: "\u30ea\u30b9\u30c8", desc: "\u4e00\u89a7\u8868\u793a\u3057\u307e\u3059" }], S = function (n) { var e = p.div([])([p.div([g.css("name")])([d.text(n.name)]), p.div([g.css("desc")])([d.text(n.desc)])]); return { id: n.id, name: n.name, searchWord: n.name, html: e } }, I = function (n) { return m.CompositionList, "list" }, E = function (n) { return { typeItems: o.map(o.functorArray)(S)(M), disabled: n.disabled, type: o.map(u.functorMaybe)(I)(n.value) } }, C = function (n) { if (n.type instanceof u.Just) { var e = "list" === n.type.value0 ? t.pure(u.applicativeMaybe)(m.CompositionList.value) : u.Nothing.value; if (e instanceof u.Just) return u.Just.create(new u.Just(e.value0)); if (e instanceof u.Nothing) return u.Nothing.value; throw new Error("Failed pattern match at Incentknow.Molecules.CompositionMenu (line 121, column 14 - line 123, column 23): " + [e.constructor.name]) } if (n.type instanceof u.Nothing) return new u.Just(u.Nothing.value); throw new Error("Failed pattern match at Incentknow.Molecules.CompositionMenu (line 120, column 33 - line 124, column 26): " + [n.type.constructor.name]) }, H = function (n) { return function (n) { if (n instanceof y) return t.pure(v.applicativeHalogenM)(l.unit); if (n instanceof h) return t.when(v.applicativeHalogenM)(u.isJust(n.value0.value))(a.put(v.monadStateHalogenM)(E(n.value0))); if (n instanceof b) return r.bind(v.bindHalogenM)(a.get(v.monadStateHalogenM))(function (e) { return function (n) { var e = C(n); if (e instanceof u.Just) return r.discard(r.discardUnit)(v.bindHalogenM)(v.raise(e.value0))(function () { return t.when(v.applicativeHalogenM)(u.isNothing(e.value0))(a.put(v.monadStateHalogenM)(n)) }); if (e instanceof u.Nothing) return a.put(v.monadStateHalogenM)(n); throw new Error("Failed pattern match at Incentknow.Molecules.CompositionMenu (line 130, column 23 - line 134, column 25): " + [e.constructor.name]) }({ typeItems: e.typeItems, disabled: e.disabled, type: n.value0 }) }); throw new Error("Failed pattern match at Incentknow.Molecules.CompositionMenu (line 137, column 16 - line 142, column 40): " + [n.constructor.name]) } }; e.component = function (n) { return function (e) { return f.mkComponent({ initialState: E, render: function (n) { return function (e) { return function (t) { return p.div_([s.slot()(new c.IsSymbol(function () { return "selectMenu" }))(i.ordUnit)(c.SProxy.value)(l.unit)(w.component(n)(e))({ resource: new w.SelectMenuResourceAllCandidates(t.typeItems), value: t.type, disabled: t.disabled })(function (n) { return u.Just.create(b.create(n)) })]) } } }(n)(e), eval: f.mkEval({ handleAction: H(n.MonadEffect0()), handleQuery: f.defaultEval.handleQuery, receive: function (n) { return u.Just.create(h.create(n)) }, initialize: new u.Just(y.value), finalize: f.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.CollectionPage"] = n["Incentknow.Organisms.CollectionPage"] || {}; var e = n["Incentknow.Organisms.CollectionPage"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Array"], u = n["Data.Functor"], i = n["Data.Maybe"], c = n["Data.Maybe.Utils"], l = n["Data.Ord"], f = n["Data.Semigroup"], s = n["Data.Show"], d = n["Data.Symbol"], p = n["Halogen.Component"], v = n["Halogen.HTML"], m = n["Halogen.HTML.Core"], g = n["Halogen.HTML.Elements"], w = n["Halogen.Query.HalogenM"], y = n["Incentknow.Atoms.Inputs"], h = n["Incentknow.Data.Page"], b = n["Incentknow.HTML.Utils"], M = n["Incentknow.Molecules.CompositionMenu"], S = n["Incentknow.Molecules.DangerChange"], I = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), E = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), C = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), H = function () { function n() { } return n.value = new n, n }(), D = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function (n) { return r.bind(i.bindMaybe)(n.composition)(function (n) { return t.pure(i.applicativeMaybe)(n) }) }, F = function (n) { return { readonly: n.readonly, compositions: [] } }, P = function (n) { if (n instanceof I) return r.bind(w.bindHalogenM)(a.get(w.monadStateHalogenM))(function (e) { var r = u.map(u.functorArray)(k)(e.compositions); return t.pure(w.applicativeHalogenM)(u.map(i.functorMaybe)(n.value0)(u.map(i.functorMaybe)(function (n) { return { compositions: u.map(u.functorArray)(h.fromContentComposition)(n) } })(c.allJust(r)))) }); if (n instanceof E) { var e = u.map(u.functorArray)(function (n) { return { composition: new i.Just(n) } })(u.map(u.functorArray)(h.toContentComposition)(n.value0.compositions)); return r.discard(r.discardUnit)(w.bindHalogenM)(a.modify_(w.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.compositions = e, t }))(function () { return t.pure(w.applicativeHalogenM)(new i.Just(n.value1)) }) } throw new Error("Failed pattern match at Incentknow.Organisms.CollectionPage (line 152, column 15 - line 165, column 46): " + [n.constructor.name]) }, T = function (n) { return function (n) { if (n instanceof C) return a.modify_(w.monadStateHalogenM)(function (e) { var t, r = {}; for (var a in e) ({}).hasOwnProperty.call(e, a) && (r[a] = e[a]); return r.compositions = (t = n.value0, function (n) { return o.mapWithIndex(function (e) { return function (r) { return t === e ? n(r) : r } }) })(function (e) { return { composition: n.value1 } })(e.compositions), r }); if (n instanceof H) return a.modify_(w.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.compositions = f.append(f.semigroupArray)(n.compositions)([{ composition: i.Nothing.value }]), e }); if (n instanceof D) return a.modify_(w.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.compositions = o.catMaybes(o.mapWithIndex(function (e) { return function (t) { return n.value0 === e ? i.Nothing.value : new i.Just(t) } })(e.compositions)), t }); if (n instanceof A) return a.modify_(w.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.readonly = n.value0.readonly, t }); throw new Error("Failed pattern match at Incentknow.Organisms.CollectionPage (line 134, column 16 - line 141, column 65): " + [n.constructor.name]) } }; e.GetValue = I, e.SetValue = E, e.component = function (n) { return function (e) { return function (t) { return p.mkComponent({ initialState: F, render: function (n) { return function (e) { return function (t) { return g.div([b.css("org-structure")])([t.readonly ? m.text("") : g.div([b.css("buttons-area")])([y.button("\u8ffd\u52a0")(H.value)]), g.table_([g.thead([])([g.tr([])([b.whenElem(!t.readonly)(function (n) { return g.th([])([m.text("")]) }), g.th([])([m.text("\u30b3\u30f3\u30dd\u30b8\u30b7\u30e7\u30f3")])])]), g.tbody([])(o.mapWithIndex(function (r) { return function (a) { return g.tr([])([b.whenElem(!t.readonly)(function (e) { return g.td([])([v.slot()(new d.IsSymbol(function () { return "delete" }))(l.ordInt)(d.SProxy.value)(r)(S.component(n.MonadEffect0()))({ text: "\u524a\u9664", title: "\u30b3\u30f3\u30dd\u30b8\u30b7\u30e7\u30f3\u306e\u524a\u9664", message: "\u30b3\u30f3\u30dd\u30b8\u30b7\u30e7\u30f3\u300c" + s.show(s.showInt)(r) + "\u300d\u3092\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b\uff1f" })(function (n) { return i.Just.create(new D(r)) })]) }), g.td([])([v.slot()(new d.IsSymbol(function () { return "compositionMenu" }))(l.ordInt)(d.SProxy.value)(r)(M.component(n)(e))({ value: a.composition, disabled: t.readonly })((o = C.create(r), function (n) { return i.Just.create(o(n)) }))])]); var o } })(t.compositions))])]) } } }(n)(e), eval: p.mkEval({ handleAction: T(n.MonadEffect0()), handleQuery: P, receive: function (n) { return i.Just.create(A.create(n)) }, initialize: p.defaultEval.initialize, finalize: p.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.PropertyMenu"] = n["Incentknow.Molecules.PropertyMenu"] || {}; var e = n["Incentknow.Molecules.PropertyMenu"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Array"], o = n["Data.Eq"], u = n["Data.Functor"], i = n["Data.Maybe"], c = n["Data.Ord"], l = n["Data.Symbol"], f = n["Data.Unit"], s = n["Halogen.Component"], d = n["Halogen.HTML"], p = n["Halogen.HTML.Core"], v = n["Halogen.HTML.Elements"], m = n["Halogen.Query.HalogenM"], g = n["Incentknow.Api"], w = n["Incentknow.Api.Execution"], y = n["Incentknow.AppM"], h = n["Incentknow.Data.Ids"], b = n["Incentknow.Data.Property"], M = n["Incentknow.HTML.Utils"], S = n["Incentknow.Molecules.SelectMenu"], I = function () { function n() { } return n.value = new n, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function (n) { var e = v.div([M.css("name")])([p.text(n.displayName)]); return { id: n.id, name: n.displayName, searchWord: n.displayName, html: e } }, A = function (n) { return { props: [], formatId: n.formatId, property: n.value, type: n.type, disabled: n.disabled } }, k = function (n) { return function (e) { return function (a) { return function (a) { if (a instanceof I) return t.bind(m.bindHalogenM)(r.get(m.monadStateHalogenM))(function (n) { return w.fetchApi(e)(H.create)(g.getFormat(n.formatId)) }); if (a instanceof H) return w.forFetchItem(y.behaviourHalogenM(n))(a.value0)(function (n) { var e = u.map(u.functorArray)(b.toPropertyInfo)(n.structure.properties); return r.modify_(m.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.props = e, t }) }); if (a instanceof E) return t.bind(m.bindHalogenM)(r.get(m.monadStateHalogenM))(function (u) { return o.notEq(h.eqFormatId)(u.formatId)(a.value0.formatId) ? t.discard(t.discardUnit)(m.bindHalogenM)(r.put(m.monadStateHalogenM)(A(a.value0)))(function () { return k(n)(e)(n.MonadEffect0())(I.value) }) : r.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.property = a.value0.value, e.disabled = a.value0.disabled, e }) }); if (a instanceof C) return m.raise(a.value0); throw new Error("Failed pattern match at Incentknow.Molecules.PropertyMenu (line 99, column 16 - line 115, column 37): " + [a.constructor.name]) } } } }; e.component = function (n) { return function (e) { return function (t) { return s.mkComponent({ initialState: A, render: function (n) { return function (e) { return function (t) { var r = i.maybe(t.props)(function (n) { return a.filter(function (e) { return o.eq(b.eqType)(e.type)(n) })(t.props) })(t.type); return d.slot()(new l.IsSymbol(function () { return "selectMenu" }))(c.ordUnit)(l.SProxy.value)(f.unit)(S.component(n)(e))({ resource: S.SelectMenuResourceAllCandidates.create(u.map(u.functorArray)(D)(r)), value: t.property, disabled: t.disabled })(function (n) { return i.Just.create(C.create(n)) }) } } }(n)(e), eval: s.mkEval({ handleAction: k(n)(e)(n.MonadEffect0()), handleQuery: s.defaultEval.handleQuery, receive: function (n) { return i.Just.create(E.create(n)) }, initialize: new i.Just(I.value), finalize: s.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.ContentPage"] = n["Incentknow.Organisms.ContentPage"] || {}; var e = n["Incentknow.Organisms.ContentPage"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Array"], u = n["Data.Functor"], i = n["Data.Maybe"], c = n["Data.Maybe.Utils"], l = n["Data.Ord"], f = n["Data.Semigroup"], s = n["Data.Show"], d = n["Data.Symbol"], p = n["Halogen.Component"], v = n["Halogen.HTML"], m = n["Halogen.HTML.Core"], g = n["Halogen.HTML.Elements"], w = n["Halogen.Query.HalogenM"], y = n["Incentknow.Atoms.Inputs"], h = n["Incentknow.Data.Property"], b = n["Incentknow.HTML.Utils"], M = n["Incentknow.Molecules.DangerChange"], S = n["Incentknow.Molecules.FormatMenu"], I = n["Incentknow.Molecules.PropertyMenu"], E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), H = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), D = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), A = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), k = function () { function n() { } return n.value = new n, n }(), F = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), P = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), T = function (n) { return r.bind(i.bindMaybe)(n.displayName)(function (e) { return r.bind(i.bindMaybe)(n.formatId)(function (a) { return r.bind(i.bindMaybe)(n.property)(function (n) { return t.pure(i.applicativeMaybe)({ displayName: e, formatId: a, property: n }) }) }) }) }, N = function (n) { return { readonly: n.readonly, relations: [], spaceId: n.spaceId, formatId: n.formatId } }, L = function (n) { if (n instanceof E) return r.bind(w.bindHalogenM)(a.get(w.monadStateHalogenM))(function (e) { var r = u.map(u.functorArray)(T)(e.relations); return t.pure(w.applicativeHalogenM)(u.map(i.functorMaybe)(n.value0)(u.map(i.functorMaybe)(function (n) { return { relations: n } })(c.allJust(r)))) }); if (n instanceof C) { var e = u.map(u.functorArray)(function (n) { return { displayName: new i.Just(n.displayName), formatId: new i.Just(n.formatId), property: new i.Just(n.property) } })(n.value0.relations); return r.discard(r.discardUnit)(w.bindHalogenM)(a.modify_(w.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.relations = e, t }))(function () { return t.pure(w.applicativeHalogenM)(new i.Just(n.value1)) }) } throw new Error("Failed pattern match at Incentknow.Organisms.ContentPage (line 185, column 15 - line 202, column 8): " + [n.constructor.name]) }, x = function (n) { var e = function (n) { return function (e) { return o.mapWithIndex(function (t) { return function (r) { return n === t ? e(r) : r } }) } }; return function (n) { if (n instanceof D) return a.modify_(w.monadStateHalogenM)(function (t) { var r = {}; for (var a in t) ({}).hasOwnProperty.call(t, a) && (r[a] = t[a]); return r.relations = e(n.value0)(function (e) { return { formatId: e.formatId, displayName: (t = n.value1, "" === t ? i.Nothing.value : new i.Just(t)), property: e.property }; var t })(t.relations), r }); if (n instanceof H) return a.modify_(w.monadStateHalogenM)(function (t) { var r = {}; for (var a in t) ({}).hasOwnProperty.call(t, a) && (r[a] = t[a]); return r.relations = e(n.value0)(function (e) { return { formatId: n.value1, displayName: e.displayName, property: e.property } })(t.relations), r }); if (n instanceof A) return a.modify_(w.monadStateHalogenM)(function (t) { var r = {}; for (var a in t) ({}).hasOwnProperty.call(t, a) && (r[a] = t[a]); return r.relations = e(n.value0)(function (e) { return { formatId: e.formatId, displayName: e.displayName, property: n.value1 } })(t.relations), r }); if (n instanceof k) return a.modify_(w.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.relations = f.append(f.semigroupArray)(n.relations)([{ displayName: i.Nothing.value, formatId: i.Nothing.value, property: i.Nothing.value }]), e }); if (n instanceof F) return a.modify_(w.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.relations = o.catMaybes(o.mapWithIndex(function (e) { return function (t) { return n.value0 === e ? i.Nothing.value : new i.Just(t) } })(e.relations)), t }); if (n instanceof P) return a.modify_(w.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.readonly = n.value0.readonly, t }); throw new Error("Failed pattern match at Incentknow.Organisms.ContentPage (line 157, column 16 - line 168, column 65): " + [n.constructor.name]) } }; e.GetValue = E, e.SetValue = C, e.component = function (n) { return function (e) { return function (t) { return p.mkComponent({ initialState: N, render: function (n) { return function (e) { return function (t) { return g.div([b.css("org-structure")])([t.readonly ? m.text("") : g.div([b.css("buttons-area")])([y.button("\u8ffd\u52a0")(k.value)]), g.table_([g.thead([])([g.tr([])([b.whenElem(!t.readonly)(function (n) { return g.th([])([m.text("")]) }), g.th([])([m.text("\u8868\u793a\u540d")]), g.th([])([m.text("\u30d5\u30a9\u30fc\u30de\u30c3\u30c8")]), g.th([])([m.text("\u30d7\u30ed\u30d1\u30c6\u30a3")])])]), g.tbody([])(o.mapWithIndex(function (r) { return function (a) { return g.tr([])([b.whenElem(!t.readonly)(function (e) { return g.td([])([v.slot()(new d.IsSymbol(function () { return "delete" }))(l.ordInt)(d.SProxy.value)(r)(M.component(n.MonadEffect0()))({ text: "\u524a\u9664", title: "\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u524a\u9664", message: "\u30ea\u30ec\u30fc\u30b7\u30e7\u30f3\u300c" + i.fromMaybe(s.show(s.showInt)(r))(a.displayName) + "\u300d\u3092\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b\uff1f" })(function (n) { return i.Just.create(new F(r)) })]) }), g.td([])([t.readonly ? m.text(i.fromMaybe("")(a.displayName)) : y.textarea({ value: i.fromMaybe("")(a.displayName), placeholder: "", onChange: D.create(r) })]), g.td([])([v.slot()(new d.IsSymbol(function () { return "formatMenu" }))(l.ordInt)(d.SProxy.value)(r)(S.component(n)(e)(n.MonadEffect0()))({ value: a.formatId, filter: new S.SpaceBy(t.spaceId), disabled: t.readonly })((o = H.create(r), function (n) { return i.Just.create(o(n)) }))]), g.td([])([b.maybeElem(a.formatId)(function (o) { return v.slot()(new d.IsSymbol(function () { return "propMenu" }))(l.ordInt)(d.SProxy.value)(r)(I.component(n)(e)(n.MonadEffect0()))({ value: a.property, formatId: o, type: i.Just.create(new h.ContentType({ format: t.formatId })), disabled: t.readonly })((u = A.create(r), function (n) { return i.Just.create(u(n)) })); var u })])]); var o } })(t.relations))])]) } } }(n)(e), eval: p.mkEval({ handleAction: x(n.MonadEffect0()), handleQuery: L, receive: function (n) { return i.Just.create(P.create(n)) }, initialize: p.defaultEval.initialize, finalize: p.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Format.Page"] = n["Incentknow.Pages.Format.Page"] || {}; var e = n["Incentknow.Pages.Format.Page"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Eq"], u = n["Data.Foldable"], i = n["Data.Maybe"], c = n["Data.Ord"], l = n["Data.Symbol"], f = n["Data.Unit"], s = n["Data.Void"], d = n["Halogen.Component"], p = n["Halogen.HTML"], v = n["Halogen.HTML.Core"], m = n["Halogen.HTML.Elements"], g = n["Halogen.Query"], w = n["Halogen.Query.HalogenM"], y = n["Incentknow.Api"], h = n["Incentknow.Api.Execution"], b = n["Incentknow.AppM"], M = n["Incentknow.Atoms.Inputs"], S = n["Incentknow.HTML.Utils"], I = n["Incentknow.Molecules.Setting"], E = n["Incentknow.Organisms.CollectionPage"], C = n["Incentknow.Organisms.ContentPage"], H = function () { function n() { } return n.value = new n, n }(), D = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), A = function () { function n() { } return n.value = new n, n }(), k = function () { function n() { } return n.value = new n, n }(), F = function () { function n() { } return n.value = new n, n }(), P = function () { function n() { } return n.value = new n, n }(), T = function () { function n() { } return n.value = new n, n }(), N = function () { function n() { } return n.value = new n, n }(), L = function (n) { return { format: n.format, contentPageState: I.None.value, collectionPageState: I.None.value } }, x = l.SProxy.value, U = l.SProxy.value; e.component = function (n) { return function (e) { return function (J) { return d.mkComponent({ initialState: L, render: function (n) { return function (e) { return function (t) { return m.div([S.css("page-format-page")])([m.div([S.css("part")])([m.div([S.css("title")])([v.text("\u30b3\u30f3\u30c6\u30f3\u30c4\u30da\u30fc\u30b8"), o.eq(I.eqChangingState)(t.contentPageState)(I.None.value) ? M.button("\u7de8\u96c6")(A.value) : I.renderSubmitButton(t.contentPageState)(F.value)(T.value)(!1)]), p.slot()(new l.IsSymbol(function () { return "contentPage" }))(c.ordUnit)(x)(f.unit)(C.component(n)(e)(n.MonadEffect0()))({ spaceId: t.format.spaceId, formatId: t.format.formatId, readonly: o.notEq(I.eqChangingState)(t.contentPageState)(I.Changing.value) })(s.absurd)]), m.div([S.css("part")])([m.div([S.css("title")])([v.text("\u4e00\u89a7\u30da\u30fc\u30b8"), o.eq(I.eqChangingState)(t.collectionPageState)(I.None.value) ? M.button("\u7de8\u96c6")(k.value) : I.renderSubmitButton(t.collectionPageState)(P.value)(N.value)(!1)]), p.slot()(new l.IsSymbol(function () { return "collectionPage" }))(c.ordUnit)(U)(f.unit)(E.component(n)(e)(n.MonadEffect0()))({ readonly: o.notEq(I.eqChangingState)(t.collectionPageState)(I.Changing.value) })(s.absurd)])]) } } }(n)(e), eval: d.mkEval({ handleAction: (O = n, function (n) { return function (e) { return function (e) { var o, i = O, s = n, d = !1; function p(n, o, p, v) { if (v instanceof H) return d = !0, r.bind(w.bindHalogenM)(a.get(w.monadStateHalogenM))(function (n) { return r.bind(w.bindHalogenM)(w.query()(new l.IsSymbol(function () { return "contentPage" }))(c.ordUnit)(x)(f.unit)(g.tell(C.SetValue.create(n.format.contentPage))))(function () { return r.bind(w.bindHalogenM)(w.query()(new l.IsSymbol(function () { return "collectionPage" }))(c.ordUnit)(U)(f.unit)(g.tell(E.SetValue.create(n.format.collectionPage))))(function () { return t.pure(w.applicativeHalogenM)(f.unit) }) }) }); if (v instanceof D) return i = n, s = o, n.MonadEffect0(), void (e = H.value); if (v instanceof A) return d = !0, a.modify_(w.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.contentPageState = I.Changing.value, e }); if (v instanceof k) return d = !0, a.modify_(w.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.collectionPageState = I.Changing.value, e }); if (v instanceof T) return d = !0, r.bind(w.bindHalogenM)(a.get(w.monadStateHalogenM))(function (n) { return r.bind(w.bindHalogenM)(w.query()(new l.IsSymbol(function () { return "contentPage" }))(c.ordUnit)(x)(f.unit)(g.tell(C.SetValue.create(n.format.contentPage))))(function () { return a.modify_(w.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.contentPageState = I.None.value, e }) }) }); if (v instanceof N) return d = !0, r.bind(w.bindHalogenM)(a.get(w.monadStateHalogenM))(function (n) { return r.bind(w.bindHalogenM)(w.query()(new l.IsSymbol(function () { return "collectionPage" }))(c.ordUnit)(U)(f.unit)(g.tell(E.SetValue.create(n.format.collectionPage))))(function () { return a.modify_(w.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.collectionPageState = I.None.value, e }) }) }); if (v instanceof F) return d = !0, r.bind(w.bindHalogenM)(a.get(w.monadStateHalogenM))(function (e) { return r.bind(w.bindHalogenM)(w.query()(new l.IsSymbol(function () { return "contentPage" }))(c.ordUnit)(x)(f.unit)(g.request(C.GetValue.create)))(u.traverse_(w.applicativeHalogenM)(u.foldableMaybe)(function (t) { return r.discard(r.discardUnit)(w.bindHalogenM)(a.modify_(w.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.contentPageState = I.Sending.value, e }))(function () { return r.bind(w.bindHalogenM)(h.executeApi(b.behaviourHalogenM(n))(w.monadAffHalogenM(o))(y.setFormatContentPage(e.format.formatId)(t)))(function () { return a.modify_(w.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.contentPageState = I.None.value, e }) }) }) })) }); if (v instanceof P) return d = !0, r.bind(w.bindHalogenM)(a.get(w.monadStateHalogenM))(function (e) { return r.bind(w.bindHalogenM)(w.query()(new l.IsSymbol(function () { return "collectionPage" }))(c.ordUnit)(U)(f.unit)(g.request(E.GetValue.create)))(u.traverse_(w.applicativeHalogenM)(u.foldableMaybe)(function (t) { return r.discard(r.discardUnit)(w.bindHalogenM)(a.modify_(w.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.collectionPageState = I.Sending.value, e }))(function () { return r.bind(w.bindHalogenM)(h.executeApi(b.behaviourHalogenM(n))(w.monadAffHalogenM(o))(y.setFormatCollectionPage(e.format.formatId)(t)))(function () { return a.modify_(w.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.collectionPageState = I.None.value, e }) }) }) })) }); throw new Error("Failed pattern match at Incentknow.Pages.Format.Page (line 103, column 16 - line 135, column 51): " + [v.constructor.name]) } for (; !d;)o = p(i, s, 0, e); return o } } })(e)(n.MonadEffect0()), handleQuery: d.defaultEval.handleQuery, receive: function (n) { return i.Just.create(D.create(n)) }, initialize: new i.Just(H.value), finalize: d.defaultEval.finalize }) }); var O } } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.Form"] = n["Incentknow.Molecules.Form"] || {}; var e = n["Incentknow.Molecules.Form"], t = n["Halogen.HTML.Core"], r = n["Halogen.HTML.Elements"], a = n["Incentknow.Atoms.Inputs"], o = function (n) { return function (e) { return r.dl([])([r.dt([])([r.label_([t.text(n)])]), r.dd([])(e)]) } }; e.define = o, e.defineText = function (n) { return o(n.label)([a.textarea({ placeholder: "", value: n.value, onChange: n.onChange })]) } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Format.Reactor"] = n["Incentknow.Pages.Format.Reactor"] || {}; var e = n["Incentknow.Pages.Format.Reactor"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Foldable"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.Maybe.Utils"], c = n["Data.Newtype"], l = n["Data.Nullable"], f = n["Data.Ord"], s = n["Data.Symbol"], d = n["Data.Unit"], p = n["Halogen.Component"], v = n["Halogen.HTML"], m = n["Halogen.HTML.Elements"], g = n["Halogen.Query.HalogenM"], w = n["Incentknow.Api"], y = n["Incentknow.Api.Execution"], h = n["Incentknow.AppM"], b = n["Incentknow.Atoms.Icon"], M = n["Incentknow.Atoms.Inputs"], S = n["Incentknow.Data.Ids"], I = n["Incentknow.Molecules.ContentMenu"], E = n["Incentknow.Molecules.Form"], C = n["Incentknow.Templates.Page"], H = function () { function n() { } return n.value = new n, n }(), D = function () { function n() { } return n.value = new n, n }(), A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), F = function (n) { return { format: n.format, reactor: y.Loading.value, definitionId: u.Nothing.value, loading: !1 } }; e.component = function (n) { return function (e) { return function (P) { return p.mkComponent({ initialState: F, render: function (n) { return function (e) { return function (t) { return function (t) { return C.creationPage({ title: "Reactor\u3092\u8a2d\u5b9a\u3059\u308b", desc: "" })([b.remoteWith(t.reactor)(function (r) { return m.div([])([E.define("ID")([v.slot()(new s.IsSymbol(function () { return "contentMenu" }))(f.ordUnit)(s.SProxy.value)(d.unit)(I.component(n)(e)(n.MonadEffect0()))({ formatId: c.wrap(S.newtypeFormatId)("n7rocAV23l29"), spaceId: new u.Just(r.spaceId), disabled: !1, value: t.definitionId })(function (n) { return u.Just.create(A.create(n)) })]), M.submitButton({ isDisabled: t.loading || u.isNothing(t.definitionId), isLoading: t.loading, loadingText: "", text: "\u30b9\u30da\u30fc\u30b9\u3092\u4f5c\u6210", onClick: D.value })]) })]) } } } }(n)(e)(n.MonadEffect0()), eval: p.mkEval({ handleAction: function (n) { return function (e) { return function (c) { return function (c) { if (c instanceof H) return t.bind(g.bindHalogenM)(r.get(g.monadStateHalogenM))(function (n) { return y.fetchApi(e)(k.create)(w.getReactor(n.format.formatId)) }); if (c instanceof k) return y.forFetch(h.behaviourHalogenM(n))(c.value0)(function (n) { return r.modify_(g.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.reactor = n, t.definitionId = i.flatten(o.map(u.functorMaybe)(function (n) { return l.toMaybe(n.definitionId) })(y.toMaybe(n))), t }) }); if (c instanceof A) return r.modify_(g.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.definitionId = c.value0, e }); if (c instanceof D) return t.bind(g.bindHalogenM)(r.get(g.monadStateHalogenM))(function (o) { return a.for_(g.applicativeHalogenM)(a.foldableMaybe)(o.definitionId)(function (u) { return t.discard(t.discardUnit)(g.bindHalogenM)(r.modify_(g.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.loading = !0, e }))(function () { return t.bind(g.bindHalogenM)(y.executeApi(h.behaviourHalogenM(n))(g.monadAffHalogenM(e))(w.setReactorDefinitionId(o.format.formatId)(u)))(function (e) { return t.discard(t.discardUnit)(g.bindHalogenM)(a.for_(g.applicativeHalogenM)(a.foldableMaybe)(e)(function (e) { return h.message(h.behaviourHalogenM(n))(new h.Success("\u5909\u66f4\u3057\u307e\u3057\u305f")) }))(function () { return r.modify_(g.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.loading = !1, e }) }) }) }) }) }); throw new Error("Failed pattern match at Incentknow.Pages.Format.Reactor (line 94, column 16 - line 109, column 38): " + [c.constructor.name]) } } } }(n)(e)(n.MonadEffect0()), handleQuery: p.defaultEval.handleQuery, receive: p.defaultEval.receive, initialize: new u.Just(H.value), finalize: p.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.GeneratorMenu"] = n["Incentknow.Molecules.GeneratorMenu"] || {}; var e = n["Incentknow.Molecules.GeneratorMenu"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.Ord"], c = n["Data.Symbol"], l = n["Data.Unit"], f = n["Halogen.Component"], s = n["Halogen.HTML"], d = n["Halogen.HTML.Core"], p = n["Halogen.HTML.Elements"], v = n["Halogen.Query.HalogenM"], m = n["Incentknow.HTML.Utils"], g = n["Incentknow.Molecules.SelectMenu"], w = function () { function n() { } return n.value = new n, n }(), y = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), h = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), b = function (n) { var e = p.div([])([p.div([m.css("name")])([d.text(n.name)]), p.div([m.css("desc")])([d.text(n.desc)])]); return { id: n.id, name: n.name, searchWord: n.name, html: e } }, M = function (n) { return { generator: n.value, disabled: n.disabled } }, S = [{ id: "none", name: "None", desc: "\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306f\u8a2d\u5b9a\u3057\u307e\u305b\u3093" }, { id: "reactor", name: "Reactor", desc: "\u53d6\u5f97\u6bce\u306b\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u751f\u6210\u3059\u308b\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u3092\u8a2d\u5b9a\u3057\u307e\u3059" }]; e.component = function (n) { return function (e) { return f.mkComponent({ initialState: M, render: function (n) { return function (e) { return function (t) { return p.div_([s.slot()(new c.IsSymbol(function () { return "selectMenu" }))(i.ordUnit)(c.SProxy.value)(l.unit)(g.component(n)(e))({ resource: g.SelectMenuResourceAllCandidates.create(o.map(o.functorArray)(b)(S)), value: t.generator, disabled: t.disabled })(function (n) { return u.Just.create(h.create(n)) })]) } } }(n)(e), eval: f.mkEval({ handleAction: (n.MonadEffect0(), function (n) { if (n instanceof w) return t.pure(v.applicativeHalogenM)(l.unit); if (n instanceof y) return t.when(v.applicativeHalogenM)(u.isJust(n.value0.value))(a.put(v.monadStateHalogenM)(M(n.value0))); if (n instanceof h) return r.discard(r.discardUnit)(v.bindHalogenM)(a.modify_(v.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.generator = n.value0, t }))(function () { return v.raise(n.value0) }); throw new Error("Failed pattern match at Incentknow.Molecules.GeneratorMenu (line 103, column 16 - line 108, column 22): " + [n.constructor.name]) }), handleQuery: f.defaultEval.handleQuery, receive: function (n) { return u.Just.create(y.create(n)) }, initialize: new u.Just(w.value), finalize: f.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.Setting.GeneratorMenu"] = n["Incentknow.Molecules.Setting.GeneratorMenu"] || {}; var e = n["Incentknow.Molecules.Setting.GeneratorMenu"], t = n["Data.Eq"], r = n["Data.Function"], a = n["Data.Maybe"], o = n["Data.Ord"], u = n["Data.Symbol"], i = n["Data.Unit"], c = n["Halogen.HTML"], l = n["Incentknow.Molecules.GeneratorMenu"], f = n["Incentknow.Molecules.Setting"]; e.component = function (n) { return function (e) { return f.component(a.eqMaybe(t.eqString))(n)({ editor: function (t) { return function (r) { return function (r) { return c.slot()(new u.IsSymbol(function () { return "menu" }))(o.ordUnit)(u.SProxy.value)(i.unit)(l.component(e)(n))({ value: r, disabled: !1 })(function (n) { return a.Just.create(t(n)) }) } } }, viewer: function (t) { return c.slot()(new u.IsSymbol(function () { return "menu" }))(o.ordUnit)(u.SProxy.value)(i.unit)(l.component(e)(n))({ value: t, disabled: !0 })(r.const(a.Nothing.value)) }, validate: a.isJust }) } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Format.Setting"] = n["Incentknow.Pages.Format.Setting"] || {}; var e = n["Incentknow.Pages.Format.Setting"], t = n["Control.Applicative"], r = n["Control.Monad.State.Class"], a = n["Data.Maybe"], o = n["Data.Ord"], u = n["Data.Symbol"], i = n["Data.Unit"], c = n["Halogen.Component"], l = n["Halogen.HTML"], f = n["Halogen.HTML.Elements"], s = n["Halogen.Query.HalogenM"], d = n["Incentknow.Api"], p = n["Incentknow.Api.Execution"], v = n["Incentknow.HTML.Utils"], m = n["Incentknow.Molecules.Setting.GeneratorMenu"], g = function () { function n() { } return n.value = new n, n }(), w = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), y = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), h = function (n) { return { format: n.format, disabled: n.disabled } }, b = u.SProxy.value; e.component = function (n) { return function (e) { return function (M) { return c.mkComponent({ initialState: h, render: function (n) { return function (e) { return function (t) { return function (t) { return f.div([v.css("page-user-setting")])([v.whenElem("internal" === t.format.usage)(function (r) { return l.slot()(new u.IsSymbol(function () { return "generatorMenu" }))(o.ordUnit)(b)(i.unit)(m.component(n)(e))({ submit: function (n) { return p.callApi((e = n, d.setContentGenerator(t.format.formatId)(a.fromMaybe("")(e)))); var e }, value: new a.Just(t.format.generator), title: "\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306e\u8a2d\u5b9a", desc: "\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u81ea\u52d5\u7684\u306b\u751f\u6210\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059", disabled: t.disabled })(function (n) { return a.Just.create(y.create(n)) }) })]) } } } }(e)(n)(n.MonadEffect0()), eval: c.mkEval({ handleAction: (n.MonadEffect0(), function (n) { if (n instanceof g) return t.pure(s.applicativeHalogenM)(i.unit); if (n instanceof w) return r.put(s.monadStateHalogenM)(h(n.value0)); if (n instanceof y) return t.pure(s.applicativeHalogenM)(i.unit); throw new Error("Failed pattern match at Incentknow.Pages.Format.Setting (line 100, column 16 - line 105, column 14): " + [n.constructor.name]) }), handleQuery: c.defaultEval.handleQuery, receive: function (n) { return a.Just.create(w.create(n)) }, initialize: new a.Just(g.value), finalize: c.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Format.Versions"] = n["Incentknow.Pages.Format.Versions"] || {}; var e = n["Incentknow.Pages.Format.Versions"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Functor"], o = n["Data.Maybe"], u = n["Data.Show"], i = n["Halogen.Component"], c = n["Halogen.HTML.Core"], l = n["Halogen.HTML.Elements"], f = n["Halogen.Query.HalogenM"], s = n["Incentknow.Api"], d = n["Incentknow.Api.Execution"], p = n["Incentknow.AppM"], v = n["Incentknow.Atoms.Icon"], m = n["Incentknow.HTML.Utils"], g = function () { function n() { } return n.value = new n, n }(), w = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), y = function (n) { return { formatId: n.formatId, versions: d.Loading.value } }; e.component = function (n) { return function (e) { return function (h) { return i.mkComponent({ initialState: y, render: (n.MonadEffect0(), function (n) { var e = function (n) { return l.div([m.css("item")])([l.div([])([c.text(u.show(u.showString)(n.version))])]) }; return l.div([m.css("page-format-versions")])([v.remoteWith(n.versions)(function (n) { return l.div([m.css("list")])(a.map(a.functorArray)(e)(n)) })]) }), eval: i.mkEval({ handleAction: function (n) { return function (e) { return function (a) { return function (a) { if (a instanceof g) return t.bind(f.bindHalogenM)(r.get(f.monadStateHalogenM))(function (n) { return d.fetchApi(e)(w.create)(s.getFormatStructures(n.formatId)) }); if (a instanceof w) return d.forFetch(p.behaviourHalogenM(n))(a.value0)(function (n) { return r.modify_(f.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.versions = n, t }) }); throw new Error("Failed pattern match at Incentknow.Pages.Format.Versions (line 62, column 16 - line 68, column 42): " + [a.constructor.name]) } } } }(n)(e)(n.MonadEffect0()), handleQuery: i.defaultEval.handleQuery, receive: i.defaultEval.receive, initialize: new o.Just(g.value), finalize: i.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Format"] = n["Incentknow.Pages.Format"] || {}; var e = n["Incentknow.Pages.Format"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Eq"], u = n["Data.Maybe"], i = n["Data.Ord"], c = n["Data.Semigroup"], l = n["Data.Symbol"], f = n["Data.Unit"], s = n["Data.Void"], d = n["Halogen.Component"], p = n["Halogen.HTML"], v = n["Halogen.HTML.Core"], m = n["Halogen.HTML.Elements"], g = n["Halogen.Query.HalogenM"], w = n["Incentknow.Api"], y = n["Incentknow.Api.Execution"], h = n["Incentknow.AppM"], b = n["Incentknow.Atoms.Icon"], M = n["Incentknow.Atoms.Inputs"], S = n["Incentknow.Data.Ids"], I = n["Incentknow.HTML.Utils"], E = n["Incentknow.Pages.Format.Main"], C = n["Incentknow.Pages.Format.Page"], H = n["Incentknow.Pages.Format.Reactor"], D = n["Incentknow.Pages.Format.Setting"], A = n["Incentknow.Pages.Format.Versions"], k = n["Incentknow.Route"], F = n["Incentknow.Templates.Page"], P = function () { function n() { } return n.value = new n, n }(), T = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), N = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), L = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), x = function () { function n() { } return n.value = new n, n }(), U = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), J = function (n) { return { formatId: n.formatId, format: y.Loading.value, tab: n.tab } }, O = function (n) { return function (e) { return function (e) { return function (u) { if (u instanceof P) return r.bind(g.bindHalogenM)(a.get(g.monadStateHalogenM))(function (n) { return y.fetchApi(e)(U.create)(w.getFormat(n.formatId)) }); if (u instanceof U) return y.forFetch(h.behaviourHalogenM(n))(u.value0)(function (n) { return a.modify_(g.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.format = n, t }) }); if (u instanceof N) return r.bind(g.bindHalogenM)(a.get(g.monadStateHalogenM))(function (t) { return o.notEq(S.eqFormatId)(t.formatId)(u.value0.formatId) ? r.discard(r.discardUnit)(g.bindHalogenM)(a.put(g.monadStateHalogenM)(J(u.value0)))(function () { return O(n)(n.MonadEffect0())(e)(P.value) }) : a.modify_(g.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.tab = u.value0.tab, e }) }); if (u instanceof T) return r.bind(g.bindHalogenM)(a.get(g.monadStateHalogenM))(function (e) { return h.navigate(h.behaviourHalogenM(n))(new k.Format(e.formatId, u.value0)) }); if (u instanceof L) return h.navigate(h.behaviourHalogenM(n))(u.value0); if (u instanceof x) return r.bind(g.bindHalogenM)(a.get(g.monadStateHalogenM))(function (n) { return t.pure(g.applicativeHalogenM)(f.unit) }); throw new Error("Failed pattern match at Incentknow.Pages.Format (line 110, column 16 - line 131, column 14): " + [u.constructor.name]) } } } }; e.component = function (n) { return function (e) { return function (t) { return d.mkComponent({ initialState: J, render: function (n) { return function (e) { return function (t) { return function (t) { return F.tabPage(k.eqFormatTab)({ tabs: c.append(c.semigroupArray)([k.FormatMain.value, k.FormatPage.value, k.FormatVersions.value, k.FormatSetting.value])(u.maybe(!1)(function (n) { return "reactor" === n.generator })(y.toMaybe(t.format)) ? [k.FormatReactor.value] : []), currentTab: t.tab, onChangeTab: T.create, showTab: function (n) { if (n instanceof k.FormatMain) return "Structure"; if (n instanceof k.FormatPage) return "Page"; if (n instanceof k.FormatVersions) return "Versions"; if (n instanceof k.FormatSetting) return "Setting"; if (n instanceof k.FormatReactor) return "Reactor"; throw new Error("Failed pattern match at Incentknow.Pages.Format (line 84, column 9 - line 89, column 37): " + [n.constructor.name]) } })([I.maybeElem(y.toMaybe(t.format))(function (n) { return M.menuPositiveButton("\u3053\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u4f5c\u6210")(L.create(new k.NewContent(new u.Just(n.spaceId), new u.Just(t.formatId)))) })])([b.remoteWith(t.format)(function (n) { return m.div([I.css("page-format")])([m.div([I.css("name")])([v.text(n.displayName)]), m.div([I.css("desc")])([v.text(n.description)])]) })])([b.remoteWith(t.format)(function (r) { if (t.tab instanceof k.FormatMain) return p.slot()(new l.IsSymbol(function () { return "main" }))(i.ordUnit)(l.SProxy.value)(f.unit)(E.component(n)(e)(n.MonadEffect0()))({ format: r })(s.absurd); if (t.tab instanceof k.FormatPage) return p.slot()(new l.IsSymbol(function () { return "page" }))(i.ordUnit)(l.SProxy.value)(f.unit)(C.component(n)(e)(n.MonadEffect0()))({ format: r })(s.absurd); if (t.tab instanceof k.FormatVersions) return p.slot()(new l.IsSymbol(function () { return "versions" }))(i.ordUnit)(l.SProxy.value)(f.unit)(A.component(n)(e)(n.MonadEffect0()))({ formatId: t.formatId })(s.absurd); if (t.tab instanceof k.FormatSetting) return p.slot()(new l.IsSymbol(function () { return "setting" }))(i.ordUnit)(l.SProxy.value)(f.unit)(D.component(n)(e)(n.MonadEffect0()))({ format: r, disabled: !1 })(s.absurd); if (t.tab instanceof k.FormatReactor) return p.slot()(new l.IsSymbol(function () { return "reactor" }))(i.ordUnit)(l.SProxy.value)(f.unit)(H.component(n)(e)(n.MonadEffect0()))({ format: r })(s.absurd); throw new Error("Failed pattern match at Incentknow.Pages.Format (line 101, column 9 - line 106, column 108): " + [t.tab.constructor.name]) })]) } } } }(n)(e)(n.MonadEffect0()), eval: d.mkEval({ handleAction: O(n)(n.MonadEffect0())(e), handleQuery: d.defaultEval.handleQuery, receive: function (n) { return u.Just.create(N.create(n)) }, initialize: new u.Just(P.value), finalize: d.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Home"] = n["Incentknow.Pages.Home"] || {}; var e = n["Incentknow.Pages.Home"], t = n.Affjax, r = n["Affjax.ResponseFormat"], a = n["Control.Applicative"], o = n["Control.Bind"], u = n["Control.Monad.State.Class"], i = n["Data.Functor"], c = n["Data.Maybe"], l = n["Data.Maybe.Utils"], f = n["Data.Ord"], s = n["Data.Symbol"], d = n["Data.Unit"], p = n["Data.Void"], v = n["Effect.Aff.Class"], m = n["Halogen.Component"], g = n["Halogen.HTML"], w = n["Halogen.Query.HalogenM"], y = n["Incentknow.HTML.RawHTML"], h = n["Incentknow.HTML.Utils"], b = function () { function n() { } return n.value = new n, n }(), M = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), S = function (n) { return { html: c.Nothing.value } }; e.component = function (n) { return function (e) { return m.mkComponent({ initialState: S, render: function (n) { return function (e) { return h.maybeElem(e.html)(function (e) { return g.slot()(new s.IsSymbol(function () { return "rawHtml" }))(f.ordUnit)(s.SProxy.value)(d.unit)(y.component(n))({ html: e })(p.absurd) }) } }(n.MonadEffect0()), eval: m.mkEval({ handleAction: function (n) { return function (e) { return function (e) { if (e instanceof b) return o.bind(w.bindHalogenM)(v.liftAff(w.monadAffHalogenM(n))(t.get(r.string)("home.html")))(function (n) { return u.modify_(w.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.html = i.map(c.functorMaybe)(function (n) { return n.body })(l.fromEither(n)), t }) }); if (e instanceof M) return a.pure(w.applicativeHalogenM)(d.unit); throw new Error("Failed pattern match at Incentknow.Pages.Home (line 52, column 16 - line 56, column 33): " + [e.constructor.name]) } } }(n)(n.MonadEffect0()), handleQuery: m.defaultEval.handleQuery, receive: function (n) { return c.Just.create(M.create(n)) }, initialize: new c.Just(b.value), finalize: m.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.JoinSpace"] = n["Incentknow.Pages.JoinSpace"] || {}; var e = n["Incentknow.Pages.JoinSpace"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Maybe"], u = n["Data.Unit"], i = n["Halogen.Component"], c = n["Halogen.HTML.Core"], l = n["Halogen.Query.HalogenM"], f = n["Incentknow.Api"], s = n["Incentknow.Api.Execution"], d = n["Incentknow.AppM"], p = n["Incentknow.Atoms.Inputs"], v = n["Incentknow.Templates.Page"], m = function () { function n() { } return n.value = new n, n }(), g = function () { function n() { } return n.value = new n, n }(), w = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), y = function (n) { return { spaceId: n.spaceId, space: s.Loading.value } }; e.component = function (n) { return function (e) { return function (h) { return i.mkComponent({ initialState: y, render: (n.MonadEffect0(), function (n) { return v.section("page-community-join")([c.text(""), p.submitButton({ isDisabled: !1, isLoading: !1, loadingText: "", text: "\u30b9\u30da\u30fc\u30b9\u3078\u306e\u52a0\u5165\u3092\u7533\u8acb\u3059\u308b", onClick: m.value })]) }), eval: i.mkEval({ handleAction: function (n) { return function (e) { return function (o) { return function (o) { if (o instanceof g) return r.bind(l.bindHalogenM)(a.get(l.monadStateHalogenM))(function (n) { return s.fetchApi(e)(w.create)(f.getSpace(n.spaceId)) }); if (o instanceof w) return s.forFetch(d.behaviourHalogenM(n))(o.value0)(function (n) { return a.modify_(l.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.space = n, t }) }); if (o instanceof m) return r.bind(l.bindHalogenM)(a.get(l.monadStateHalogenM))(function (a) { return r.bind(l.bindHalogenM)(s.executeApi(d.behaviourHalogenM(n))(l.monadAffHalogenM(e))(f.applySpaceMembership(a.spaceId)))(function (n) { return t.pure(l.applicativeHalogenM)(u.unit) }) }); throw new Error("Failed pattern match at Incentknow.Pages.JoinSpace (line 61, column 16 - line 71, column 14): " + [o.constructor.name]) } } } }(n)(e)(n.MonadEffect0()), handleQuery: i.defaultEval.handleQuery, receive: i.defaultEval.receive, initialize: new o.Just(g.value), finalize: i.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.NewContent"] = n["Incentknow.Pages.NewContent"] || {}; var e = n["Incentknow.Pages.NewContent"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.Rec.Class"], o = n["Control.Monad.State.Class"], u = n["Data.Argonaut.Core"], i = n["Data.Eq"], c = n["Data.Foldable"], l = n["Data.Functor"], f = n["Data.Maybe"], s = n["Data.Newtype"], d = n["Data.Nullable"], p = n["Data.Ord"], v = n["Data.Symbol"], m = n["Data.Unit"], g = n["Effect.Aff"], w = n["Effect.Exception"], y = n["Halogen.Component"], h = n["Halogen.HTML"], b = n["Halogen.HTML.Elements"], M = n["Halogen.Query.EventSource"], S = n["Halogen.Query.HalogenM"], I = n["Incentknow.Api"], E = n["Incentknow.Api.Execution"], C = n["Incentknow.AppM"], H = n["Incentknow.Atoms.Icon"], D = n["Incentknow.Atoms.Inputs"], A = n["Incentknow.Atoms.Message"], k = n["Incentknow.Data.Ids"], F = n["Incentknow.Data.Property"], P = n["Incentknow.HTML.Utils"], T = n["Incentknow.Molecules.FormatMenu"], N = n["Incentknow.Molecules.SpaceMenu"], L = n["Incentknow.Organisms.Content.Editor"], x = n["Incentknow.Route"], U = n["Incentknow.Templates.Page"], J = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), O = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), R = function () { function n() { } return n.value = new n, n }(), _ = function () { function n() { } return n.value = new n, n }(), q = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), W = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), B = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), Q = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), z = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), V = function () { function n() { } return n.value = new n, n }(), j = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), G = function () { function n() { } return n.value = new n, n }(), K = function (n) { if (n instanceof J) return { input: n, spaceId: n.value0, formatId: n.value1, format: E.Loading.value, value: u.jsonNull, workId: f.Nothing.value, saveState: A.HasNotChange.value, loading: !1, workSubId: f.Nothing.value, timerSubId: f.Nothing.value }; if (n instanceof O) return { input: n, spaceId: f.Nothing.value, formatId: f.Nothing.value, format: E.Loading.value, value: u.jsonNull, workId: new f.Just(n.value0), saveState: A.HasNotChange.value, loading: !1, workSubId: f.Nothing.value, timerSubId: f.Nothing.value }; throw new Error("Failed pattern match at Incentknow.Pages.NewContent (line 101, column 3 - line 125, column 8): " + [n.constructor.name]) }, X = new i.Eq(function (n) { return function (e) { return n instanceof J && e instanceof J ? i.eq(f.eqMaybe(k.eqSpaceId))(n.value0)(e.value0) && i.eq(f.eqMaybe(k.eqFormatId))(n.value1)(e.value1) : n instanceof O && e instanceof O && i.eq(k.eqWorkId)(n.value0)(e.value0) } }), Z = function (n) { return function (e) { return function (e) { var p = r.bind(S.bindHalogenM)(o.get(S.monadStateHalogenM))(function (n) { return t.when(S.applicativeHalogenM)(i.eq(A.eqSaveState)(n.saveState)(A.Saving.value))(o.modify_(S.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.saveState = A.Saved.value, e })) }); return function (v) { if (v instanceof R) return r.bind(S.bindHalogenM)(o.get(S.monadStateHalogenM))(function (u) { return r.discard(r.discardUnit)(S.bindHalogenM)(c.for_(S.applicativeHalogenM)(c.foldableMaybe)(u.workSubId)(function (n) { return S.unsubscribe(n) }))(function () { return r.discard(r.discardUnit)(S.bindHalogenM)(Z(n)(n.MonadEffect0())(e)(_.value))(function () { return t.when(S.applicativeHalogenM)(f.isNothing(u.timerSubId))(r.bind(S.bindHalogenM)(S.subscribe(function (n) { return M.affEventSource(n)(function (n) { return r.bind(g.bindAff)(g.forkAff(a.forever(g.monadRecAff)(r.discard(r.discardUnit)(g.bindAff)(g.delay(2e3))(function () { return M.emit(n)(V.value) }))))(function (n) { return t.pure(g.applicativeAff)(g.killFiber(w.error("Event source finalized"))(n)) }) }) }(e)))(function (n) { return o.modify_(S.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.timerSubId = new f.Just(n), t }) })) }) }) }); if (v instanceof _) return r.bind(S.bindHalogenM)(o.get(S.monadStateHalogenM))(function (n) { return r.discard(r.discardUnit)(S.bindHalogenM)(function () { if (n.input instanceof J) return o.modify_(S.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.spaceId = n.input.value0, t.formatId = n.input.value1, t }); if (n.input instanceof O) return r.bind(S.bindHalogenM)(E.subscribeApi(e)(function (n) { return z.create(d.toMaybe(n)) })(I.onSnapshotWork(s.unwrap(k.newtypeWorkId)(n.input.value0))))(function (e) { return o.modify_(S.monadStateHalogenM)(function (t) { var r = {}; for (var a in t) ({}).hasOwnProperty.call(t, a) && (r[a] = t[a]); return r.workId = new f.Just(n.input.value0), r.workSubId = new f.Just(e), r }) }); throw new Error("Failed pattern match at Incentknow.Pages.NewContent (line 179, column 5 - line 183, column 73): " + [n.input.constructor.name]) }())(function () { return r.bind(S.bindHalogenM)(o.gets(S.monadStateHalogenM)(function (n) { return n.formatId }))(c.traverse_(S.applicativeHalogenM)(c.foldableMaybe)(function (n) { return E.fetchApi(e)(j.create)(I.getFormat(n)) })) }) }); if (v instanceof j) return E.forFetch(C.behaviourHalogenM(n))(v.value0)(function (n) { return o.modify_(S.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.format = n, t.value = f.fromMaybe(u.jsonNull)(l.map(f.functorMaybe)(function (n) { return F.getDefaultValue(l.map(l.functorArray)(F.toPropertyInfo)(n.structure.properties)) })(E.toMaybe(n))), t }) }); if (v instanceof z) return r.bind(S.bindHalogenM)(o.get(S.monadStateHalogenM))(function (n) { return t.when(S.applicativeHalogenM)(i.eq(A.eqSaveState)(n.saveState)(A.HasNotChange.value) || i.eq(A.eqSaveState)(n.saveState)(A.Saved.value))(c.for_(S.applicativeHalogenM)(c.foldableMaybe)(v.value0)(function (n) { return o.modify_(S.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.spaceId = d.toMaybe(n.spaceId), t.format = new E.Holding(n.format), t.formatId = new f.Just(n.formatId), t.value = n.data, t }) })) }); if (v instanceof q) return r.bind(S.bindHalogenM)(o.get(S.monadStateHalogenM))(function (a) { return t.when(S.applicativeHalogenM)(i.notEq(X)(a.input)(v.value0))(r.discard(r.discardUnit)(S.bindHalogenM)(o.put(S.monadStateHalogenM)(K(v.value0)))(function () { return Z(n)(n.MonadEffect0())(e)(_.value) })) }); if (v instanceof W) return r.bind(S.bindHalogenM)(o.get(S.monadStateHalogenM))(function (e) { return t.when(S.applicativeHalogenM)(i.notEq(f.eqMaybe(k.eqSpaceId))(e.spaceId)(v.value0))(r.discard(r.discardUnit)(S.bindHalogenM)(o.modify_(S.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.spaceId = v.value0, e }))(function () { if (e.workId instanceof f.Nothing) return C.pushState(C.behaviourHalogenM(n))(new x.NewContent(v.value0, e.formatId)); if (e.workId instanceof f.Just) return t.pure(S.applicativeHalogenM)(m.unit); throw new Error("Failed pattern match at Incentknow.Pages.NewContent (line 204, column 7 - line 206, column 28): " + [e.workId.constructor.name]) })) }); if (v instanceof B) return r.bind(S.bindHalogenM)(o.get(S.monadStateHalogenM))(function (a) { return t.when(S.applicativeHalogenM)(i.notEq(f.eqMaybe(k.eqFormatId))(a.formatId)(v.value0))(r.discard(r.discardUnit)(S.bindHalogenM)(function () { if (a.workId instanceof f.Just) return t.pure(S.applicativeHalogenM)(m.unit); if (a.workId instanceof f.Nothing) return C.pushState(C.behaviourHalogenM(n))(new x.NewContent(a.spaceId, v.value0)); throw new Error("Failed pattern match at Incentknow.Pages.NewContent (line 210, column 7 - line 212, column 65): " + [a.workId.constructor.name]) }())(function () { return r.discard(r.discardUnit)(S.bindHalogenM)(o.modify_(S.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.formatId = v.value0, e.format = E.Loading.value, e }))(function () { return c.for_(S.applicativeHalogenM)(c.foldableMaybe)(v.value0)(function (n) { return E.fetchApi(e)(j.create)(I.getFormat(n)) }) }) })) }); if (v instanceof Q) return r.bind(S.bindHalogenM)(o.get(S.monadStateHalogenM))(function (n) { return n.saveState instanceof A.Saving ? o.modify_(S.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.value = v.value0, e.saveState = A.SavingButChanged.value, e }) : o.modify_(S.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.value = v.value0, e.saveState = A.NotSaved.value, e }) }); if (v instanceof V) return r.bind(S.bindHalogenM)(o.get(S.monadStateHalogenM))(function (a) { return t.when(S.applicativeHalogenM)(i.eq(A.eqSaveState)(a.saveState)(A.NotSaved.value) && !a.loading)(c.for_(S.applicativeHalogenM)(c.foldableMaybe)(E.toMaybe(a.format))(function (t) { return r.discard(r.discardUnit)(S.bindHalogenM)(o.modify_(S.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.saveState = A.Saving.value, e }))(function () { return c.for_(S.applicativeHalogenM)(c.foldableMaybe)(a.formatId)(function (u) { if (a.workId instanceof f.Just) return r.bind(S.bindHalogenM)(E.executeApi(C.behaviourHalogenM(n))(S.monadAffHalogenM(e))(I.updateBlankWork({ structureId: t.defaultStructureId, workId: a.workId.value0, spaceId: d.toNullable(a.spaceId), formatId: u, data: a.value })))(function (n) { if (n instanceof f.Just) return p; if (n instanceof f.Nothing) return o.modify_(S.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.saveState = A.NotSaved.value, e }); throw new Error("Failed pattern match at Incentknow.Pages.NewContent (line 230, column 15 - line 232, column 64): " + [n.constructor.name]) }); if (a.workId instanceof f.Nothing) return r.bind(S.bindHalogenM)(E.executeApi(C.behaviourHalogenM(n))(S.monadAffHalogenM(e))(I.createBlankWork({ structureId: t.defaultStructureId, formatId: u, spaceId: d.toNullable(a.spaceId), data: a.value })))(function (e) { if (e instanceof f.Just) return r.discard(r.discardUnit)(S.bindHalogenM)(C.pushState(C.behaviourHalogenM(n))(new x.EditWork(e.value0)))(function () { return r.discard(r.discardUnit)(S.bindHalogenM)(o.modify_(S.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.input = new O(e.value0), t.workId = new f.Just(e.value0), t }))(function () { return p }) }); if (e instanceof f.Nothing) return o.modify_(S.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.saveState = A.NotSaved.value, e }); throw new Error("Failed pattern match at Incentknow.Pages.NewContent (line 235, column 15 - line 240, column 64): " + [e.constructor.name]) }); throw new Error("Failed pattern match at Incentknow.Pages.NewContent (line 227, column 11 - line 240, column 64): " + [a.workId.constructor.name]) }) }) })) }); if (v instanceof G) return r.bind(S.bindHalogenM)(o.get(S.monadStateHalogenM))(function (a) { var u = r.bind(f.bindMaybe)(a.spaceId)(function (n) { return r.bind(f.bindMaybe)(a.formatId)(function (e) { return t.pure(f.applicativeMaybe)({ spaceId: n, formatId: e, data: a.value, workId: d.toNullable(a.workId) }) }) }); return c.for_(S.applicativeHalogenM)(c.foldableMaybe)(u)(function (t) { return r.discard(r.discardUnit)(S.bindHalogenM)(o.modify_(S.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.loading = !0, e }))(function () { return r.bind(S.bindHalogenM)(E.executeApi(C.behaviourHalogenM(n))(S.monadAffHalogenM(e))(I.createContent(t)))(function (e) { return r.discard(r.discardUnit)(S.bindHalogenM)(c.for_(S.applicativeHalogenM)(c.foldableMaybe)(e)(function (e) { return C.navigate(C.behaviourHalogenM(n))(new x.EditContent(e)) }))(function () { return o.modify_(S.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.loading = !1, e }) }) }) }) }) }); throw new Error("Failed pattern match at Incentknow.Pages.NewContent (line 168, column 16 - line 258, column 38): " + [v.constructor.name]) } } } }, Y = v.SProxy.value; e.NewInput = J, e.DraftInput = O, e.component = function (n) { return function (e) { return function (e) { return y.mkComponent({ initialState: K, render: function (n) { return function (e) { return function (e) { return function (t) { return U.section("page-new-content")([b.div([P.css("page-new-content")])([A.saveState(t.saveState), b.div([P.css("menu")])([h.slot()(new v.IsSymbol(function () { return "spaceMenu" }))(p.ordUnit)(v.SProxy.value)(m.unit)(N.component(n)(e)(n.MonadEffect0()))({ value: t.spaceId, disabled: !1 })(function (n) { return f.Just.create(W.create(n)) }), h.slot()(new v.IsSymbol(function () { return "formatMenu" }))(p.ordUnit)(v.SProxy.value)(m.unit)(T.component(n)(e)(n.MonadEffect0()))({ value: t.formatId, filter: f.maybe(T.None.value)(T.SpaceBy.create)(t.spaceId), disabled: !1 })(function (n) { return f.Just.create(B.create(n)) })]), H.remoteWith(t.format)(function (r) { return h.slot()(new v.IsSymbol(function () { return "editor" }))(p.ordUnit)(Y)(m.unit)(L.component(n)(n.MonadEffect0())(e))({ format: r, value: t.value, env: { spaceId: t.spaceId } })(function (n) { return f.Just.create(Q.create(n)) }) }), D.submitButton({ isDisabled: f.isNothing(t.spaceId) || f.isNothing(t.formatId) || t.loading, isLoading: t.loading, text: "\u4f5c\u6210", loadingText: "\u4f5c\u6210\u4e2d", onClick: G.value })])]) } } } }(n)(n.MonadEffect0())(e), eval: y.mkEval({ handleAction: Z(n)(n.MonadEffect0())(e), handleQuery: y.defaultEval.handleQuery, receive: function (n) { return f.Just.create(q.create(n)) }, initialize: new f.Just(R.value), finalize: y.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.NewCrawler"] = n["Incentknow.Pages.NewCrawler"] || {}; var e = n["Incentknow.Pages.NewCrawler"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Foldable"], o = n["Data.Maybe"], u = n["Data.Ord"], i = n["Data.Symbol"], c = n["Data.Unit"], l = n["Halogen.Component"], f = n["Halogen.HTML"], s = n["Halogen.HTML.Elements"], d = n["Halogen.Query.HalogenM"], p = n["Incentknow.Api"], v = n["Incentknow.Api.Execution"], m = n["Incentknow.AppM"], g = n["Incentknow.Atoms.Inputs"], w = n["Incentknow.Molecules.ContentMenu"], y = n["Incentknow.Molecules.Form"], h = n["Incentknow.Molecules.SpaceMenu"], b = n["Incentknow.Route"], M = n["Incentknow.Templates.Page"], S = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), I = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function () { function n() { } return n.value = new n, n }(), H = function (n) { return { contentId: o.Nothing.value, spaceId: o.Nothing.value, displayName: "", loading: !1 } }; e.component = function (n) { return function (e) { return l.mkComponent({ initialState: H, render: function (n) { return function (e) { return function (t) { return function (t) { return M.creationPage({ title: "\u65b0\u3057\u3044\u30af\u30ed\u30fc\u30e9\u30fc\u306e\u4f5c\u6210", desc: "\u30af\u30ed\u30fc\u30e9\u30fc\u306f\u3001\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u304b\u3089\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u53ce\u96c6\u3059\u308b\u5b9a\u671f\u5b9f\u884c\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059" })([y.defineText({ label: "\u540d\u524d", value: t.displayName, onChange: E.create }), y.define("\u5bfe\u8c61\u30b9\u30da\u30fc\u30b9")([f.slot()(new i.IsSymbol(function () { return "spaceMenu" }))(u.ordUnit)(i.SProxy.value)(c.unit)(h.component(n)(e)(n.MonadEffect0()))({ value: t.spaceId, disabled: !1 })(function (n) { return o.Just.create(I.create(n)) })]), y.define("\u5b9a\u7fa9")([f.slot()(new i.IsSymbol(function () { return "contentMenu" }))(u.ordUnit)(i.SProxy.value)(c.unit)(w.component(n)(e)(n.MonadEffect0()))({ value: t.contentId, formatId: "sTfFGce9xxMU", spaceId: t.spaceId, disabled: !1 })(function (n) { return o.Just.create(S.create(n)) })]), s.div([])([g.submitButton({ isDisabled: o.isNothing(t.contentId) || o.isNothing(t.spaceId) || "" === t.displayName || t.loading, isLoading: t.loading, loadingText: "", text: "\u30af\u30ed\u30fc\u30e9\u30fc\u3092\u4f5c\u6210", onClick: C.value })])]) } } } }(n)(e)(n.MonadEffect0()), eval: l.mkEval({ handleAction: function (n) { return function (e) { return function (o) { if (o instanceof S) return r.modify_(d.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.contentId = o.value0, e }); if (o instanceof I) return r.modify_(d.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.spaceId = o.value0, e }); if (o instanceof E) return r.modify_(d.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.displayName = o.value0, e }); if (o instanceof C) return t.bind(d.bindHalogenM)(r.get(d.monadStateHalogenM))(function (o) { return a.for_(d.applicativeHalogenM)(a.foldableMaybe)(o.contentId)(function (u) { return a.for_(d.applicativeHalogenM)(a.foldableMaybe)(o.spaceId)(function (i) { return t.discard(t.discardUnit)(d.bindHalogenM)(r.modify_(d.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.loading = !0, e }))(function () { return t.bind(d.bindHalogenM)(v.executeApi(m.behaviourHalogenM(n))(d.monadAffHalogenM(e))(p.createCrawler({ definitionId: u, spaceId: i, displayName: o.displayName })))(function (e) { return t.discard(t.discardUnit)(d.bindHalogenM)(r.modify_(d.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.loading = !1, e }))(function () { return a.for_(d.applicativeHalogenM)(a.foldableMaybe)(e)(function (e) { return m.navigate(m.behaviourHalogenM(n))(new b.Crawler(e, b.CrawlerMain.value)) }) }) }) }) }) }) }); throw new Error("Failed pattern match at Incentknow.Pages.NewCrawler (line 87, column 16 - line 101, column 51): " + [o.constructor.name]) } } }(n)(e), handleQuery: l.defaultEval.handleQuery, receive: l.defaultEval.receive, initialize: l.defaultEval.initialize, finalize: l.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.FormatUsageMenu"] = n["Incentknow.Molecules.FormatUsageMenu"] || {}; var e = n["Incentknow.Molecules.FormatUsageMenu"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.Ord"], c = n["Data.Symbol"], l = n["Data.Unit"], f = n["Halogen.Component"], s = n["Halogen.HTML"], d = n["Halogen.HTML.Core"], p = n["Halogen.HTML.Elements"], v = n["Halogen.Query.HalogenM"], m = n["Incentknow.HTML.Utils"], g = n["Incentknow.Molecules.SelectMenu"], w = function () { function n() { } return n.value = new n, n }(), y = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), h = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), b = [{ id: "internal", name: "Internal", desc: "\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u3059\u3002\u30b9\u30da\u30fc\u30b9\u5185\u90e8\u3067\u306e\u307f\u4f7f\u7528\u3067\u304d\u308b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u3059\u3002" }, { id: "external", name: "External", desc: "\u30b9\u30da\u30fc\u30b9\u5916\u90e8\u3067\u306e\u307f\u4f7f\u7528\u3067\u304d\u308b\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3067\u3059\u3002" }], M = function (n) { var e = p.div([])([p.div([m.css("name")])([d.text(n.name)]), p.div([m.css("desc")])([d.text(n.desc)])]); return { id: n.id, name: n.name, searchWord: n.name, html: e } }, S = function (n) { return { generator: n.value, disabled: n.disabled } }; e.component = function (n) { return function (e) { return f.mkComponent({ initialState: S, render: function (n) { return function (e) { return function (t) { return p.div_([s.slot()(new c.IsSymbol(function () { return "selectMenu" }))(i.ordUnit)(c.SProxy.value)(l.unit)(g.component(n)(e))({ resource: g.SelectMenuResourceAllCandidates.create(o.map(o.functorArray)(M)(b)), value: t.generator, disabled: t.disabled })(function (n) { return u.Just.create(h.create(n)) })]) } } }(n)(e), eval: f.mkEval({ handleAction: (n.MonadEffect0(), function (n) { if (n instanceof w) return t.pure(v.applicativeHalogenM)(l.unit); if (n instanceof y) return t.when(v.applicativeHalogenM)(u.isJust(n.value0.value))(a.put(v.monadStateHalogenM)(S(n.value0))); if (n instanceof h) return r.discard(r.discardUnit)(v.bindHalogenM)(a.modify_(v.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.generator = n.value0, t }))(function () { return v.raise(n.value0) }); throw new Error("Failed pattern match at Incentknow.Molecules.FormatUsageMenu (line 103, column 16 - line 108, column 22): " + [n.constructor.name]) }), handleQuery: f.defaultEval.handleQuery, receive: function (n) { return u.Just.create(y.create(n)) }, initialize: new u.Just(w.value), finalize: f.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.NewFormat"] = n["Incentknow.Pages.NewFormat"] || {}; var e = n["Incentknow.Pages.NewFormat"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Foldable"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.Ord"], c = n["Data.Symbol"], l = n["Data.Unit"], f = n["Data.Void"], s = n["Halogen.Component"], d = n["Halogen.HTML"], p = n["Halogen.HTML.Elements"], v = n["Halogen.Query"], m = n["Halogen.Query.HalogenM"], g = n["Incentknow.Api"], w = n["Incentknow.Api.Execution"], y = n["Incentknow.AppM"], h = n["Incentknow.Atoms.Inputs"], b = n["Incentknow.Data.Property"], M = n["Incentknow.Molecules.Form"], S = n["Incentknow.Molecules.FormatUsageMenu"], I = n["Incentknow.Organisms.Structure"], E = n["Incentknow.Route"], C = n["Incentknow.Templates.Page"], H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), F = function () { function n() { } return n.value = new n, n }(), P = c.SProxy.value, T = c.SProxy.value, N = function (n) { return { spaceId: n.spaceId, displayName: "", displayId: "", description: "", usage: new u.Just("internal"), props: [], loading: !1 } }; e.component = function (n) { return function (e) { return s.mkComponent({ initialState: N, render: function (n) { return function (e) { return function (t) { return function (t) { return C.creationPage({ title: "\u65b0\u3057\u3044\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u4f5c\u6210\u3059\u308b", desc: "\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306f\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u5f62\u5f0f\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u305d\u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u30da\u30fc\u30b8\u306e\u5f62\u5f0f\u3084\u30b3\u30f3\u30c6\u30f3\u30c4\u306e\u4ed6\u306e\u5a92\u4f53\u304b\u3089\u306e\u30a4\u30f3\u30dd\u30fc\u30c8\u306b\u3064\u3044\u3066\u5b9a\u7fa9\u3057\u307e\u3059\u3002" })([M.defineText({ label: "\u540d\u524d", value: t.displayName, onChange: H.create }), M.defineText({ label: "ID", value: t.displayId, onChange: D.create }), M.defineText({ label: "\u8aac\u660e", value: t.description, onChange: A.create }), M.define("\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u4f7f\u7528\u7528\u9014")([d.slot()(new c.IsSymbol(function () { return "usage" }))(i.ordUnit)(P)(l.unit)(S.component(n)(e))({ value: t.usage, disabled: !1 })(function (n) { return u.Just.create(k.create(n)) })]), M.define("\u30c6\u30fc\u30bf\u5b9a\u7fa9")([d.slot()(new c.IsSymbol(function () { return "structure" }))(i.ordUnit)(T)(l.unit)(I.component(n)(e)(n.MonadEffect0()))({ readonly: !1, spaceId: t.spaceId })(f.absurd)]), p.div([])([h.submitButton({ isDisabled: t.loading, isLoading: t.loading, loadingText: "", text: "\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u4f5c\u6210", onClick: F.value })])]) } } } }(n)(e)(n.MonadEffect0()), eval: s.mkEval({ handleAction: function (n) { return function (e) { return function (f) { if (f instanceof H) return r.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.displayName = f.value0, e }); if (f instanceof D) return r.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.displayId = f.value0, e }); if (f instanceof A) return r.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.description = f.value0, e }); if (f instanceof k) return r.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.usage = f.value0, e }); if (f instanceof F) return t.bind(m.bindHalogenM)(r.get(m.monadStateHalogenM))(function (f) { return t.bind(m.bindHalogenM)(m.query()(new c.IsSymbol(function () { return "structure" }))(i.ordUnit)(T)(l.unit)(v.request(I.GetValue.create)))(function (i) { if (i instanceof u.Just && f.usage instanceof u.Just) { var c = { displayName: f.displayName, displayId: f.displayId, description: f.description, structure: o.map(o.functorArray)(b.fromPropertyInfo)(i.value0), spaceId: f.spaceId, usage: f.usage.value0 }; return t.discard(t.discardUnit)(m.bindHalogenM)(r.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.loading = !0, e }))(function () { return t.bind(m.bindHalogenM)(w.executeApi(y.behaviourHalogenM(n))(m.monadAffHalogenM(e))(g.createFormat(c)))(function (e) { return t.discard(t.discardUnit)(m.bindHalogenM)(a.for_(m.applicativeHalogenM)(a.foldableMaybe)(e)(function (e) { return t.discard(t.discardUnit)(m.bindHalogenM)(y.navigate(y.behaviourHalogenM(n))(new E.Format(e, E.FormatMain.value)))(function () { return y.message(y.behaviourHalogenM(n))(new y.Success("\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u4f5c\u6210\u306b\u6210\u529f\u3057\u307e\u3057\u305f")) }) }))(function () { return r.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.loading = !1, e }) }) }) }) } if (i instanceof u.Nothing) return y.message(y.behaviourHalogenM(n))(new y.Error("\u30c7\u30fc\u30bf\u5b9a\u7fa9\u306e\u5165\u529b\u304c\u7d42\u308f\u3063\u3066\u3044\u307e\u305b\u3093")); if (f.usage instanceof u.Nothing) return y.message(y.behaviourHalogenM(n))(new y.Error("\u4f7f\u7528\u7528\u9014\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")); throw new Error("Failed pattern match at Incentknow.Pages.NewFormat (line 109, column 5 - line 127, column 52): " + [i.constructor.name, f.usage.constructor.name]) }) }); throw new Error("Failed pattern match at Incentknow.Pages.NewFormat (line 101, column 16 - line 127, column 52): " + [f.constructor.name]) } } }(n)(e), handleQuery: s.defaultEval.handleQuery, receive: s.defaultEval.receive, initialize: s.defaultEval.initialize, finalize: s.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.DisplayId"] = n["Incentknow.Molecules.DisplayId"] || {}; var e = n["Incentknow.Molecules.DisplayId"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Either"], u = n["Data.Eq"], i = n["Data.Foldable"], c = n["Data.Function"], l = n["Data.Maybe"], f = n["Data.Unit"], s = n["Effect.Aff"], d = n["Effect.Aff.Class"], p = n["Effect.Exception"], v = n["Halogen.Component"], m = n["Halogen.HTML.Core"], g = n["Halogen.HTML.Elements"], w = n["Halogen.HTML.Events"], y = n["Halogen.HTML.Properties"], h = n["Halogen.Query.EventSource"], b = n["Halogen.Query.HalogenM"], M = n["Incentknow.Atoms.Icon"], S = n["Incentknow.HTML.Utils"], I = function () { function n() { } return n.value = new n, n }(), E = function () { function n() { } return n.value = new n, n }(), C = function () { function n() { } return n.value = new n, n }(), H = function () { function n() { } return n.value = new n, n }(), D = function () { function n() { } return n.value = new n, n }(), A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), F = function () { function n() { } return n.value = new n, n }(), P = function (n) { return { displayId: n.value.displayId, disabled: n.disabled, checkId: n.checkId, checkState: n.value.checkState, timerSubId: l.Nothing.value } }, T = function (n) { return function (e) { if (e instanceof D) return t.pure(b.applicativeHalogenM)(f.unit); if (e instanceof A) return a.modify_(b.monadStateHalogenM)((u = e.value0, function (n) { return { displayId: u.value.displayId, disabled: u.disabled, checkId: u.checkId, checkState: u.value.checkState, timerSubId: n.timerSubId } })); var u; if (e instanceof k) return r.bind(b.bindHalogenM)(a.get(b.monadStateHalogenM))(function (o) { return r.discard(r.discardUnit)(b.bindHalogenM)(i.for_(b.applicativeHalogenM)(i.foldableMaybe)(o.timerSubId)(function (n) { return b.unsubscribe(n) }))(function () { return r.bind(b.bindHalogenM)(b.subscribe(function (n) { return h.affEventSource(n)(function (n) { return r.bind(s.bindAff)(s.forkAff(r.discard(r.discardUnit)(s.bindAff)(s.delay(300))(function () { return h.emit(n)(F.value) })))(function (n) { return t.pure(s.applicativeAff)(s.killFiber(p.error("Event source finalized"))(n)) }) }) }(n)))(function (n) { return r.discard(r.discardUnit)(b.bindHalogenM)(a.modify_(b.monadStateHalogenM)(function (t) { var r = {}; for (var a in t) ({}).hasOwnProperty.call(t, a) && (r[a] = t[a]); return r.timerSubId = new l.Just(n), r.displayId = e.value0, r.checkState = I.value, r }))(function () { return b.raise({ displayId: e.value0, checkState: I.value }) }) }) }) }); if (e instanceof F) return r.bind(b.bindHalogenM)(a.get(b.monadStateHalogenM))(function (e) { return r.discard(r.discardUnit)(b.bindHalogenM)(a.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.checkState = C.value, e }))(function () { return r.discard(r.discardUnit)(b.bindHalogenM)(b.raise({ displayId: e.displayId, checkState: C.value }))(function () { return r.bind(b.bindHalogenM)(d.liftAff(b.monadAffHalogenM(n))(e.checkId(e.displayId)))(function (n) { var u = o.either(c.const(H.value))(function (n) { return n ? E.value : H.value })(n); return r.bind(b.bindHalogenM)(a.get(b.monadStateHalogenM))(function (n) { return t.when(b.applicativeHalogenM)(n.displayId === e.displayId)(r.discard(r.discardUnit)(b.bindHalogenM)(a.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.checkState = u, e }))(function () { return b.raise({ displayId: e.displayId, checkState: u }) })) }) }) }) }) }); throw new Error("Failed pattern match at Incentknow.Molecules.DisplayId (line 115, column 16 - line 136, column 57): " + [e.constructor.name]) } }, N = new u.Eq(function (n) { return function (e) { return n instanceof I && e instanceof I || (n instanceof E && e instanceof E || (n instanceof C && e instanceof C || n instanceof H && e instanceof H)) } }); e.Typing = I, e.Available = E, e.component = function (n) { return v.mkComponent({ initialState: P, render: function (n) { return g.div([S.css("mol-display-id")])([g.input([S.css("atom-textarea"), y.value(n.displayId), y.disabled(n.disabled), w.onValueInput(function (n) { return l.Just.create(k.create(n)) })]), function () { if (n.checkState instanceof I) return m.text(""); if (n.checkState instanceof E) return g.div([S.css("available")])([m.text("\u3053\u306eID\u306f\u4f7f\u7528\u53ef\u80fd\u3067\u3059")]); if (n.checkState instanceof C) return g.div([S.css("checking")])([M.loadingWith("\u78ba\u8a8d\u4e2d")]); if (n.checkState instanceof H) return g.div([S.css("used")])([m.text("\u3053\u306eID\u306f\u65e2\u306b\u4f7f\u7528\u3055\u308c\u3066\u3044\u307e\u3059")]); throw new Error("Failed pattern match at Incentknow.Molecules.DisplayId (line 96, column 7 - line 100, column 75): " + [n.checkState.constructor.name]) }()]) }, eval: v.mkEval({ handleAction: T(n), handleQuery: v.defaultEval.handleQuery, receive: function (n) { return l.Just.create(A.create(n)) }, initialize: new l.Just(D.value), finalize: v.defaultEval.finalize }) }) }, e.eqCheckState = N }(PS), function (n) { "use strict"; n["Incentknow.Pages.NewSpace"] = n["Incentknow.Pages.NewSpace"] || {}; var e = n["Incentknow.Pages.NewSpace"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Eq"], o = n["Data.Foldable"], u = n["Data.Maybe"], i = n["Data.Ord"], c = n["Data.String.CodePoints"], l = n["Data.Symbol"], f = n["Data.Unit"], s = n["Halogen.Component"], d = n["Halogen.HTML"], p = n["Halogen.Query.HalogenM"], v = n["Incentknow.Api"], m = n["Incentknow.Api.Execution"], g = n["Incentknow.AppM"], w = n["Incentknow.Atoms.Inputs"], y = n["Incentknow.Data.Ids"], h = n["Incentknow.Molecules.DisplayId"], b = n["Incentknow.Molecules.Form"], M = n["Incentknow.Route"], S = n["Incentknow.Templates.Page"], I = function () { function n() { } return n.value = new n, n }(), E = function () { function n() { } return n.value = new n, n }(), C = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), A = function (n) { return { displayName: "", displayId: { displayId: "", checkState: h.Typing.value }, description: "", loading: !1 } }; e.component = function (n) { return function (e) { return function (k) { return s.mkComponent({ initialState: A, render: function (n) { return function (e) { return function (e) { return S.creationPage({ title: "\u65b0\u3057\u3044\u30b9\u30da\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b", desc: "\u30b9\u30da\u30fc\u30b9\u306f\u3001\u30b3\u30f3\u30c6\u30f3\u30c4\u3068\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u30b9\u30da\u30fc\u30b9\u3067\u306f\u30b3\u30f3\u30c6\u30f3\u30c4\u3068\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306e\u95b2\u89a7\u304a\u3088\u3073\u7de8\u96c6\u306e\u6a29\u9650\u3092\u7ba1\u7406\u3059\u308b\u30e1\u30f3\u30d0\u30fc\u3092\u4fdd\u6301\u3057\u307e\u3059\u3002" })([b.defineText({ label: "\u8868\u793a\u540d", value: e.displayName, onChange: C.create }), b.define("ID")([d.slot()(new l.IsSymbol(function () { return "displayId" }))(i.ordUnit)(l.SProxy.value)(f.unit)(h.component(n))({ checkId: function (n) { return m.callApi(v.checkSpaceDisplayId(n)) }, disabled: !1, value: e.displayId })(function (n) { return u.Just.create(H.create(n)) })]), b.defineText({ label: "\u8aac\u660e", value: e.description, onChange: D.create }), w.submitButton({ isDisabled: e.loading || a.notEq(h.eqCheckState)(e.displayId.checkState)(h.Available.value) || 0 === c.length(e.displayName), isLoading: e.loading, loadingText: "", text: "\u30b9\u30da\u30fc\u30b9\u3092\u4f5c\u6210", onClick: E.value })]) } } }(e)(n.MonadEffect0()), eval: s.mkEval({ handleAction: function (n) { return function (e) { return function (a) { return function (a) { if (a instanceof I) return t.bind(p.bindHalogenM)(y.generateId(p.monadEffectHalogenM(n.MonadEffect0()))(12))(function (n) { return r.modify_(p.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.displayId = { displayId: n, checkState: h.Available.value }, t }) }); if (a instanceof C) return r.modify_(p.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.displayName = a.value0, e }); if (a instanceof H) return r.modify_(p.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.displayId = a.value0, e }); if (a instanceof D) return r.modify_(p.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.description = a.value0, e }); if (a instanceof E) return t.bind(p.bindHalogenM)(r.modify(p.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.loading = !0, e }))(function (a) { return t.bind(p.bindHalogenM)(m.executeApi(g.behaviourHalogenM(n))(p.monadAffHalogenM(e))(v.createSpace({ displayId: a.displayId.displayId, displayName: a.displayName, description: a.description })))(function (e) { return t.discard(t.discardUnit)(p.bindHalogenM)(o.for_(p.applicativeHalogenM)(o.foldableMaybe)(e)(function (e) { return t.discard(t.discardUnit)(p.bindHalogenM)(g.navigate(g.behaviourHalogenM(n))(new M.Space(e, M.SpacePages.value)))(function () { return g.message(g.behaviourHalogenM(n))(new g.Success("\u30b9\u30da\u30fc\u30b9\u306e\u4f5c\u6210\u306b\u6210\u529f\u3057\u307e\u3057\u305f")) }) }))(function () { return r.modify_(p.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.loading = !1, e }) }) }) }); throw new Error("Failed pattern match at Incentknow.Pages.NewSpace (line 90, column 16 - line 104, column 36): " + [a.constructor.name]) } } } }(n)(e)(n.MonadEffect0()), handleQuery: s.defaultEval.handleQuery, receive: s.defaultEval.receive, initialize: new u.Just(I.value), finalize: s.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Public"] = n["Incentknow.Pages.Public"] || {}; var e = n["Incentknow.Pages.Public"], t = n["Control.Applicative"], r = n["Data.Maybe"], a = n["Data.Ord"], o = n["Data.Symbol"], u = n["Data.Unit"], i = n["Data.Void"], c = n["Halogen.Component"], l = n["Halogen.HTML"], f = n["Halogen.HTML.Elements"], s = n["Halogen.Query.HalogenM"], d = n["Incentknow.HTML.Utils"], p = n["Incentknow.Pages.Community.SpaceList"], v = function () { function n() { } return n.value = new n, n }(), m = function (n) { return {} }; e.component = function (n) { return function (e) { return c.mkComponent({ initialState: m, render: function (n) { return function (e) { return function (t) { return f.div([d.css("page-public-space-list")])([l.slot()(new o.IsSymbol(function () { return "spaceList" }))(a.ordUnit)(o.SProxy.value)(u.unit)(p.component(e)(e.MonadEffect0())(n))({})(i.absurd)]) } } }(e)(n), eval: c.mkEval({ handleAction: function (n) { return t.pure(s.applicativeHalogenM)(u.unit) }, handleQuery: c.defaultEval.handleQuery, receive: c.defaultEval.receive, initialize: new r.Just(v.value), finalize: c.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Sign"] = n["Incentknow.Pages.Sign"] || {}; var e = n["Incentknow.Pages.Sign"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["DOM.HTML.Indexed.InputType"], u = n["Data.Eq"], i = n["Data.Maybe"], c = n["Data.Tuple"], l = n["Data.Unit"], f = n["Halogen.Component"], s = n["Halogen.HTML.Core"], d = n["Halogen.HTML.Elements"], p = n["Halogen.HTML.Events"], v = n["Halogen.HTML.Properties"], m = n["Halogen.Query.HalogenM"], g = n["Incentknow.Api"], w = n["Incentknow.Api.Execution"], y = n["Incentknow.AppM"], h = n["Incentknow.Atoms.Inputs"], b = n["Incentknow.Atoms.Message"], M = n["Incentknow.HTML.Utils"], S = n["Incentknow.Route"], I = function () { function n() { } return n.value = new n, n }(), E = function () { function n() { } return n.value = new n, n }(), C = function () { function n() { } return n.value = new n, n }(), H = function () { function n() { } return n.value = new n, n }(), D = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), F = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), P = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), T = function (n) { return d.div([M.css("textbox")])([d.input([v.placeholder(n.placeholder), v.type_(s.isPropInputType)(n.type_), v.disabled(n.isDisabled), p.onValueInput(function (e) { return i.Just.create(n.onChange(e)) })]), d.div([M.css("icon")])([d.img([v.src("/assets/imgs/checkmark_ng.svg")])])]) }, N = function (n) { return { mode: I.value, email: "", password: "", username: "", isRegistering: !1, isLogining: !1, resultMessage: i.Nothing.value } }, L = new u.Eq(function (n) { return function (e) { var t = new c.Tuple(n, e); return t.value0 instanceof I && t.value1 instanceof I || t.value0 instanceof E && t.value1 instanceof E } }), x = function (n) { return d.div([M.css("page-sign")])([d.div([M.css("container")])([M.link(P.create)(S.Home.value)([M.css("logo")])([s.text("Incentknow")]), d.div([M.css("message")])([s.text("\u77e5\u8b58\u3068\u60c5\u5831\u3092\u6574\u7406\u3057\u3001\u4e16\u754c\u3092\u30af\u30ea\u30a2\u306b\u3059\u308b")]), d.div([M.css("text")])([d.span([M.css("logo")])([s.text("Incentknow")]), s.text("\u3078\u3088\u3046\u3053\u305d\uff01"), d.br_, s.text("\u5229\u7528\u3059\u308b\u306b\u306f\u3001\u767b\u9332\u3082\u3057\u304f\u306f\u30ed\u30b0\u30a4\u30f3\u304c\u5fc5\u8981\u3067\u3059\u3002")]), function () { if (n.resultMessage instanceof i.Just) return b.success(n.resultMessage.value0); if (n.resultMessage instanceof i.Nothing) return d.div([M.css("before")])([d.div([M.css("tab")])([d.div([M.css("register" + (u.eq(L)(n.mode)(I.value) ? " selected" : "")), p.onClick(function (n) { return i.Just.create(new D(I.value)) })])([s.text("\u767b\u9332")]), d.div([M.css("login" + (u.eq(L)(n.mode)(E.value) ? " selected" : "")), p.onClick(function (n) { return i.Just.create(new D(E.value)) })])([s.text("\u30ed\u30b0\u30a4\u30f3")])]), d.div([M.css("form")])([function () { if (n.mode instanceof I) return d.div([])([T({ value: n.username, placeholder: "\u30e6\u30fc\u30b6\u30fc\u540d", type_: o.InputText.value, onChange: A.create, isDisabled: n.isRegistering }), T({ value: n.email, placeholder: "\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9", type_: o.InputEmail.value, onChange: k.create, isDisabled: n.isRegistering }), T({ value: n.password, placeholder: "\u30d1\u30b9\u30ef\u30fc\u30c9", type_: o.InputPassword.value, onChange: F.create, isDisabled: n.isRegistering }), h.submitButton({ isDisabled: n.isRegistering, isLoading: n.isRegistering, loadingText: "", text: "\u767b\u9332", onClick: C.value })]); if (n.mode instanceof E) return d.div([])([T({ value: n.email, placeholder: "\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9", type_: o.InputEmail.value, onChange: k.create, isDisabled: n.isLogining }), T({ value: n.password, placeholder: "\u30d1\u30b9\u30ef\u30fc\u30c9", type_: o.InputPassword.value, onChange: F.create, isDisabled: n.isLogining }), h.submitButton({ isDisabled: n.isLogining, isLoading: n.isLogining, loadingText: "", text: "\u30ed\u30b0\u30a4\u30f3", onClick: H.value })]); throw new Error("Failed pattern match at Incentknow.Pages.Sign (line 127, column 23 - line 182, column 30): " + [n.mode.constructor.name]) }()])]); throw new Error("Failed pattern match at Incentknow.Pages.Sign (line 110, column 11 - line 184, column 18): " + [n.resultMessage.constructor.name]) }()])]) }; e.component = function (n) { return function (e) { return f.mkComponent({ initialState: N, render: x, eval: f.mkEval({ handleAction: function (n) { return function (e) { return function (o) { if (o instanceof D) return r.bind(m.bindHalogenM)(a.get(m.monadStateHalogenM))(function (n) { return n.isLogining || n.isRegistering ? t.pure(m.applicativeHalogenM)(l.unit) : a.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.mode = o.value0, e }) }); if (o instanceof A) return a.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.username = o.value0, e }); if (o instanceof k) return a.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.email = o.value0, e }); if (o instanceof F) return a.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.password = o.value0, e }); if (o instanceof P) return y.navigateRoute(y.behaviourHalogenM(n))(o.value0)(o.value1); if (o instanceof C) return r.bind(m.bindHalogenM)(a.get(m.monadStateHalogenM))(function (t) { return r.discard(r.discardUnit)(m.bindHalogenM)(a.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.isRegistering = !0, e }))(function () { var o = { displayName: t.username, email: t.email, password: t.password }; return r.bind(m.bindHalogenM)(w.executeApi(y.behaviourHalogenM(n))(m.monadAffHalogenM(e))(g.register(o)))(function (e) { if (e instanceof i.Just) return r.discard(r.discardUnit)(m.bindHalogenM)(a.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]); return e.resultMessage = i.Just.create("\u767b\u9332\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002" + t.email + "\u306b\u9001\u4fe1\u3057\u305f\u30ea\u30f3\u30af\u304b\u3089\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u8a8d\u8a3c\u3057\u3066\u304f\u3060\u3055\u3044\u3002"), e }))(function () { return y.resetMessage(y.behaviourHalogenM(n)) }); if (e instanceof i.Nothing) return a.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.isRegistering = !1, e }); throw new Error("Failed pattern match at Incentknow.Pages.Sign (line 210, column 5 - line 214, column 56): " + [e.constructor.name]) }) }) }); if (o instanceof H) return r.bind(m.bindHalogenM)(a.get(m.monadStateHalogenM))(function (t) { return r.discard(r.discardUnit)(m.bindHalogenM)(a.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.isLogining = !0, e }))(function () { var o = { email: t.email, password: t.password }; return r.bind(m.bindHalogenM)(w.executeApi(y.behaviourHalogenM(n))(m.monadAffHalogenM(e))(g.login(o)))(function (e) { if (e instanceof i.Just) return y.navigate(y.behaviourHalogenM(n))(S.Home.value); if (e instanceof i.Nothing) return a.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.isLogining = !1, e }); throw new Error("Failed pattern match at Incentknow.Pages.Sign (line 224, column 5 - line 226, column 52): " + [e.constructor.name]) }) }) }); throw new Error("Failed pattern match at Incentknow.Pages.Sign (line 189, column 16 - line 226, column 52): " + [o.constructor.name]) } } }(n)(e), handleQuery: f.defaultEval.handleQuery, receive: f.defaultEval.receive, initialize: f.defaultEval.initialize, finalize: f.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Snapshot"] = n["Incentknow.Pages.Snapshot"] || {}; var e = n["Incentknow.Pages.Snapshot"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Eq"], o = n["Data.Foldable"], u = n["Data.Maybe"], i = n["Data.Newtype"], c = n["Data.Nullable"], l = n["Data.Ord"], f = n["Data.Symbol"], s = n["Data.Unit"], d = n["Data.Void"], p = n["Halogen.Component"], v = n["Halogen.HTML"], m = n["Halogen.Query.HalogenM"], g = n["Incentknow.Api"], w = n["Incentknow.Api.Execution"], y = n["Incentknow.AppM"], h = n["Incentknow.Data.Ids"], b = n["Incentknow.HTML.Utils"], M = n["Incentknow.Organisms.Content.Viewer"], S = n["Incentknow.Route"], I = n["Incentknow.Templates.Page"], E = function () { function n() { } return n.value = new n, n }(), C = function () { function n() { } return n.value = new n, n }(), H = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), D = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), A = function (n) { return function (e) { if (n instanceof S.SnapshotDiff) return { workId: e.workId, changeId: e.changeId, beforeSnapshotId: new u.Just(n.value0), afterSnapshotId: n.value1, beforeSnapshot: e.beforeSnapshot, afterSnapshot: e.afterSnapshot, work: e.work, workSubId: e.workSubId }; if (n instanceof S.InitialSnapshot) return { workId: e.workId, changeId: e.changeId, beforeSnapshotId: u.Nothing.value, afterSnapshotId: n.value0, beforeSnapshot: e.beforeSnapshot, afterSnapshot: e.afterSnapshot, work: e.work, workSubId: e.workSubId }; throw new Error("Failed pattern match at Incentknow.Pages.Snapshot (line 76, column 30 - line 86, column 8): " + [n.constructor.name]) } }, k = function (n) { if (n.snapshotDiff instanceof S.SnapshotDiff) return { workId: n.workId, changeId: n.changeId, beforeSnapshotId: new u.Just(n.snapshotDiff.value0), afterSnapshotId: n.snapshotDiff.value1, beforeSnapshot: u.Nothing.value, afterSnapshot: u.Nothing.value, work: u.Nothing.value, workSubId: u.Nothing.value }; if (n.snapshotDiff instanceof S.InitialSnapshot) return { workId: n.workId, changeId: n.changeId, beforeSnapshotId: u.Nothing.value, afterSnapshotId: n.snapshotDiff.value0, beforeSnapshot: u.Nothing.value, afterSnapshot: u.Nothing.value, work: u.Nothing.value, workSubId: u.Nothing.value }; throw new Error("Failed pattern match at Incentknow.Pages.Snapshot (line 89, column 22 - line 109, column 6): " + [n.snapshotDiff.constructor.name]) }, F = function (n) { return function (e) { return function (l) { if (l instanceof E) return t.bind(m.bindHalogenM)(r.get(m.monadStateHalogenM))(function (a) { return t.discard(t.discardUnit)(m.bindHalogenM)(o.for_(m.applicativeHalogenM)(o.foldableMaybe)(a.workSubId)(function (n) { return m.unsubscribe(n) }))(function () { return t.bind(m.bindHalogenM)(w.subscribeApi(e)(function (n) { return D.create(c.toMaybe(n)) })(g.onSnapshotWork(i.unwrap(h.newtypeWorkId)(a.workId))))(function (a) { return t.discard(t.discardUnit)(m.bindHalogenM)(r.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.workSubId = new u.Just(a), e }))(function () { return F(n)(e)(C.value) }) }) }) }); if (l instanceof C) return t.bind(m.bindHalogenM)(r.get(m.monadStateHalogenM))(function (a) { return t.discard(t.discardUnit)(m.bindHalogenM)(o.for_(m.applicativeHalogenM)(o.foldableMaybe)(a.beforeSnapshotId)(function (o) { return t.bind(m.bindHalogenM)(w.executeApi(y.behaviourHalogenM(n))(m.monadAffHalogenM(e))(g.getSnapshot(a.workId)(a.changeId)(o)))(function (n) { return r.modify_(m.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.beforeSnapshot = n, t }) }) }))(function () { return t.bind(m.bindHalogenM)(w.executeApi(y.behaviourHalogenM(n))(m.monadAffHalogenM(e))(g.getSnapshot(a.workId)(a.changeId)(a.afterSnapshotId)))(function (n) { return r.modify_(m.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.afterSnapshot = n, t }) }) }) }); if (l instanceof D) return r.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.work = l.value0, e }); if (l instanceof H) return t.bind(m.bindHalogenM)(r.get(m.monadStateHalogenM))(function (o) { var u, i; return a.eq(h.eqWorkId)(o.workId)(l.value0.workId) ? t.discard(t.discardUnit)(m.bindHalogenM)(r.modify_(m.monadStateHalogenM)((u = A(l.value0.snapshotDiff), function (n) { return u({ workId: (e = n).workId, changeId: l.value0.changeId, beforeSnapshotId: e.beforeSnapshotId, afterSnapshotId: e.afterSnapshotId, beforeSnapshot: e.beforeSnapshot, afterSnapshot: e.afterSnapshot, work: e.work, workSubId: e.workSubId }); var e })))(function () { return F(n)(e)(C.value) }) : t.discard(t.discardUnit)(m.bindHalogenM)(r.modify_(m.monadStateHalogenM)((i = A(l.value0.snapshotDiff), function (n) { return i((e = n, { workId: l.value0.workId, changeId: l.value0.changeId, beforeSnapshotId: e.beforeSnapshotId, afterSnapshotId: e.afterSnapshotId, beforeSnapshot: e.beforeSnapshot, afterSnapshot: e.afterSnapshot, work: e.work, workSubId: e.workSubId })); var e })))(function () { return F(n)(e)(E.value) }) }); throw new Error("Failed pattern match at Incentknow.Pages.Snapshot (line 120, column 16 - line 143, column 30): " + [l.constructor.name]) } } }; e.component = function (n) { return function (e) { return p.mkComponent({ initialState: k, render: function (n) { return function (e) { return function (t) { return b.maybeElem(t.work)(function (r) { return b.maybeElem(t.afterSnapshot)(function (t) { return I.section("page-content")([v.slot()(new f.IsSymbol(function () { return "content" }))(l.ordUnit)(f.SProxy.value)(s.unit)(M.component(n)(n.MonadEffect0())(e))({ format: r.format, value: t.data })(d.absurd)]) }) }) } } }(n)(e), eval: p.mkEval({ handleAction: F(n)(e), handleQuery: p.defaultEval.handleQuery, receive: function (n) { return u.Just.create(H.create(n)) }, initialize: new u.Just(E.value), finalize: p.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Space.ContentList"] = n["Incentknow.Pages.Space.ContentList"] || {}; var e = n["Incentknow.Pages.Space.ContentList"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Maybe"], o = n["Data.Ord"], u = n["Data.Symbol"], i = n["Data.Unit"], c = n["Data.Void"], l = n["Halogen.Component"], f = n["Halogen.HTML"], s = n["Halogen.Query.HalogenM"], d = n["Incentknow.Api"], p = n["Incentknow.Api.Execution"], v = n["Incentknow.AppM"], m = n["Incentknow.Atoms.Icon"], g = n["Incentknow.Organisms.ContentList"], w = function () { function n() { } return n.value = new n, n }(), y = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), h = function (n) { return { space: n.space, contents: p.Loading.value } }; e.component = function (n) { return function (e) { return function (b) { return l.mkComponent({ initialState: h, render: function (n) { return function (e) { return function (t) { return function (t) { return m.remoteWith(t.contents)(function (t) { return f.slot()(new u.IsSymbol(function () { return "contentList" }))(o.ordUnit)(u.SProxy.value)(i.unit)(g.component(n)(e)(n.MonadEffect0()))({ value: t })(c.absurd) }) } } } }(n)(e)(n.MonadEffect0()), eval: l.mkEval({ handleAction: function (n) { return function (e) { return function (a) { return function (a) { if (a instanceof w) return t.bind(s.bindHalogenM)(r.get(s.monadStateHalogenM))(function (n) { return p.fetchApi(e)(y.create)(d.getAllSpaceContents(n.space.spaceId)) }); if (a instanceof y) return p.forFetch(v.behaviourHalogenM(n))(a.value0)(function (n) { return r.modify_(s.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.contents = n, t }) }); throw new Error("Failed pattern match at Incentknow.Pages.Space.ContentList (line 50, column 16 - line 56, column 42): " + [a.constructor.name]) } } } }(n)(e)(n.MonadEffect0()), handleQuery: l.defaultEval.handleQuery, receive: l.defaultEval.receive, initialize: new a.Just(w.value), finalize: l.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Space.CrawlerList"] = n["Incentknow.Pages.Space.CrawlerList"] || {}; var e = n["Incentknow.Pages.Space.CrawlerList"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Functor"], o = n["Data.Maybe"], u = n["Halogen.Component"], i = n["Halogen.HTML.Core"], c = n["Halogen.HTML.Elements"], l = n["Halogen.HTML.Events"], f = n["Halogen.Query.HalogenM"], s = n["Incentknow.Api"], d = n["Incentknow.Api.Execution"], p = n["Incentknow.AppM"], v = n["Incentknow.Atoms.Icon"], m = n["Incentknow.Atoms.Inputs"], g = n["Incentknow.HTML.Utils"], w = n["Incentknow.Route"], y = function () { function n() { } return n.value = new n, n }(), h = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), b = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), M = function (n) { var e = function (n) { return c.div([g.css("item")])([c.div([g.css("name"), l.onClick(function (e) { return o.Just.create(h.create(new w.Crawler(n.crawlerId, w.CrawlerMain.value))) })])([i.text(n.displayName)])]) }; return c.div([g.css("page-crawler-list")])([m.submitButton({ isDisabled: !1, isLoading: !1, loadingText: "", onClick: new h(w.NewCrawler.value), text: "\u65b0\u3057\u3044\u30b9\u30da\u30fc\u30b9\u3092\u4f5c\u6210\u3059\u308b" }), c.div([g.css("table")])([c.div([g.css("header")])([c.div([g.css("column")])([i.text("\u30af\u30ed\u30fc\u30e9\u30fc")])]), v.remoteWith(n.crawlers)(function (n) { return c.div([g.css("body")])(a.map(a.functorArray)(e)(n)) })])]) }, S = function (n) { return { spaceId: n.spaceId, crawlers: d.Loading.value } }; e.component = function (n) { return function (e) { return function (e) { return u.mkComponent({ initialState: S, render: M, eval: u.mkEval({ handleAction: function (n) { return function (e) { return function (e) { return function (a) { if (a instanceof y) return t.bind(f.bindHalogenM)(r.get(f.monadStateHalogenM))(function (n) { return d.fetchApi(e)(b.create)(s.getCrawlers(n.spaceId)) }); if (a instanceof b) return d.forFetch(p.behaviourHalogenM(n))(a.value0)(function (n) { return r.modify_(f.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.crawlers = n, t }) }); if (a instanceof h) return p.navigate(p.behaviourHalogenM(n))(a.value0); throw new Error("Failed pattern match at Incentknow.Pages.Space.CrawlerList (line 69, column 16 - line 76, column 35): " + [a.constructor.name]) } } } }(n)(n.MonadEffect0())(e), handleQuery: u.defaultEval.handleQuery, receive: u.defaultEval.receive, initialize: new o.Just(y.value), finalize: u.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Space.FormatList"] = n["Incentknow.Pages.Space.FormatList"] || {}; var e = n["Incentknow.Pages.Space.FormatList"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Functor"], o = n["Data.Maybe"], u = n["Halogen.Component"], i = n["Halogen.HTML.Core"], c = n["Halogen.HTML.Elements"], l = n["Halogen.HTML.Events"], f = n["Halogen.Query.HalogenM"], s = n["Incentknow.Api"], d = n["Incentknow.Api.Execution"], p = n["Incentknow.AppM"], v = n["Incentknow.Atoms.Icon"], m = n["Incentknow.Atoms.Inputs"], g = n["Incentknow.HTML.Utils"], w = n["Incentknow.Route"], y = function () { function n() { } return n.value = new n, n }(), h = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), b = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), M = function (n) { var e = function (n) { return c.div([g.css("item")])([c.div([g.css("name"), l.onClick(function (e) { return o.Just.create(h.create(new w.Format(n.formatId, w.FormatMain.value))) })])([i.text(n.displayName)]), c.div([g.css("desc")])([i.text(n.description)])]) }; return c.div([g.css("page-format-list")])([m.submitButton({ isDisabled: !1, isLoading: !1, loadingText: "", onClick: h.create(new w.NewFormat(n.spaceId)), text: "\u65b0\u3057\u3044\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3092\u4f5c\u6210\u3059\u308b" }), c.div([g.css("table")])([c.div([g.css("header")])([c.div([g.css("column")])([i.text("\u30d5\u30a9\u30fc\u30de\u30c3\u30c8")])]), v.remoteWith(n.formats)(function (n) { return c.div([g.css("body")])(a.map(a.functorArray)(e)(n)) })])]) }, S = function (n) { return { spaceId: n.spaceId, formats: d.Loading.value } }; e.component = function (n) { return function (e) { return function (e) { return u.mkComponent({ initialState: S, render: M, eval: u.mkEval({ handleAction: function (n) { return function (e) { return function (e) { return function (a) { if (a instanceof y) return t.bind(f.bindHalogenM)(r.get(f.monadStateHalogenM))(function (n) { return d.fetchApi(e)(b.create)(s.getFormats(n.spaceId)) }); if (a instanceof b) return d.forFetch(p.behaviourHalogenM(n))(a.value0)(function (n) { return r.modify_(f.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.formats = n, t }) }); if (a instanceof h) return p.navigate(p.behaviourHalogenM(n))(a.value0); throw new Error("Failed pattern match at Incentknow.Pages.Space.FormatList (line 69, column 16 - line 76, column 35): " + [a.constructor.name]) } } } }(n)(n.MonadEffect0())(e), handleQuery: u.defaultEval.handleQuery, receive: u.defaultEval.receive, initialize: new o.Just(y.value), finalize: u.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Organisms.MemberList"] = n["Incentknow.Organisms.MemberList"] || {}; var e = n["Incentknow.Organisms.MemberList"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.DateTime.Utils"], u = n["Data.Functor"], i = n["Data.Maybe"], c = n["Data.Unit"], l = n["Halogen.Component"], f = n["Halogen.HTML.Core"], s = n["Halogen.HTML.Elements"], d = n["Halogen.HTML.Properties"], p = n["Halogen.Query.HalogenM"], v = n["Incentknow.Api"], m = n["Incentknow.Api.Execution"], g = n["Incentknow.AppM"], w = n["Incentknow.Atoms.Inputs"], y = n["Incentknow.HTML.Utils"], h = n["Incentknow.Route"], b = function () { function n() { } return n.value = new n, n }(), M = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), S = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), I = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function (n) { return { members: n.members, isAdmin: n.isAdmin } }, H = function (n) { return function (e) { return function (o) { return function (o) { if (o instanceof b) return t.pure(p.applicativeHalogenM)(c.unit); if (o instanceof M) return r.discard(r.discardUnit)(p.bindHalogenM)(a.put(p.monadStateHalogenM)(C(o.value0)))(function () { return H(n)(e)(n.MonadEffect0())(b.value) }); if (o instanceof S) return g.navigateRoute(g.behaviourHalogenM(n))(o.value0)(o.value1); if (o instanceof I) return r.bind(p.bindHalogenM)(m.executeApi(g.behaviourHalogenM(n))(p.monadAffHalogenM(e))(v.acceptSpaceMembership(o.value0.spaceId)(o.value0.userId)))(function () { return t.pure(p.applicativeHalogenM)(c.unit) }); if (o instanceof E) return r.bind(p.bindHalogenM)(m.executeApi(g.behaviourHalogenM(n))(p.monadAffHalogenM(e))(v.rejectSpaceMembership(o.value0.spaceId)(o.value0.userId)))(function () { return t.pure(p.applicativeHalogenM)(c.unit) }); throw new Error("Failed pattern match at Incentknow.Organisms.MemberList (line 100, column 16 - line 111, column 14): " + [o.constructor.name]) } } } }; e.component = function (n) { return function (e) { return function (t) { return l.mkComponent({ initialState: C, render: function (n) { return s.div([y.css("org-userlist")])(u.map(u.functorArray)(function (e) { var t = y.link(S.create)(new h.User(e.user.userId, h.UserMain.value)); return s.div([y.css("item")])([t([y.css("icon")])([s.img([d.src(e.user.iconUrl)])]), s.div([y.css("details")])([t([y.css("username")])([f.text(e.user.displayName)]), s.div([y.css("info")])([f.text(function (n) { return "owner" === n.type ? "\u30aa\u30fc\u30ca\u30fc" : "admin" === n.type ? "\u7ba1\u7406\u8005" : "normal" === n.type ? "\u30e1\u30f3\u30d0\u30fc" : "pending" === n.type ? "\u30e1\u30f3\u30d0\u30fc\u7533\u8acb\u4fdd\u7559\u4e2d" : "\u30a8\u30e9\u30fc" }(e))]), y.whenElem("pending" !== e.type)(function (n) { return f.text(o.fromTimestampToString(e.joinedAt) + "\u306b\u52a0\u5165\u3057\u307e\u3057\u305f") }), y.whenElem("pending" === e.type && n.isAdmin)(function (n) { return s.div([])([f.text("\u30e1\u30f3\u30d0\u30fc\u306b\u7533\u8acb\u3057\u3066\u3044\u307e\u3059"), w.menuPositiveButton("\u8a31\u53ef")(new I(e)), w.menuNegativeButton("\u62d2\u5426")(new E(e))]) })])]) })(n.members)) }, eval: l.mkEval({ handleAction: H(n)(e)(n.MonadEffect0()), handleQuery: l.defaultEval.handleQuery, receive: function (n) { return i.Just.create(M.create(n)) }, initialize: new i.Just(b.value), finalize: l.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Space.MemberList"] = n["Incentknow.Pages.Space.MemberList"] || {}; var e = n["Incentknow.Pages.Space.MemberList"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Array"], o = n["Data.Maybe"], u = n["Data.Nullable"], i = n["Data.Ord"], c = n["Data.Symbol"], l = n["Data.Unit"], f = n["Data.Void"], s = n["Halogen.Component"], d = n["Halogen.HTML"], p = n["Halogen.HTML.Elements"], v = n["Halogen.Query.HalogenM"], m = n["Incentknow.Api"], g = n["Incentknow.Api.Execution"], w = n["Incentknow.AppM"], y = n["Incentknow.Atoms.Icon"], h = n["Incentknow.HTML.Utils"], b = n["Incentknow.Organisms.MemberList"], M = function () { function n() { } return n.value = new n, n }(), S = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), I = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), E = function (n) { return function (e) { return function (t) { return p.div([h.css("page-space-member-list")])([y.remoteWith(t.members)(function (n) { return function (e) { return function (t) { return function (r) { var s = a.filter(function (n) { return "pending" === n.type })(r), v = o.maybe(!1)(function (n) { return "owner" === n.type || "admin" === n.type })(u.toMaybe(t.space.myMember)), m = a.filter(function (n) { return "pending" !== n.type })(r); return p.div([])([h.whenElem(v)(function (r) { return d.slot()(new c.IsSymbol(function () { return "pendingMemberList" }))(i.ordUnit)(c.SProxy.value)(l.unit)(b.component(e)(n)(e.MonadEffect0()))({ members: s, isAdmin: t.isAdmin })(f.absurd) }), d.slot()(new c.IsSymbol(function () { return "memberList" }))(i.ordUnit)(c.SProxy.value)(l.unit)(b.component(e)(n)(e.MonadEffect0()))({ members: m, isAdmin: t.isAdmin })(f.absurd)]) } } } }(n)(e)(t))]) } } }, C = function (n) { return { space: n.space, isAdmin: n.isAdmin, members: g.Loading.value, committers: [] } }; e.component = function (n) { return function (e) { return function (e) { return s.mkComponent({ initialState: C, render: E(e)(n), eval: s.mkEval({ handleAction: function (n) { return function (e) { return function (e) { return function (a) { if (a instanceof M) return t.bind(v.bindHalogenM)(r.get(v.monadStateHalogenM))(function (n) { return g.fetchApi(e)(I.create)(m.getSpaceMembers(n.space.spaceId)(u.null)) }); if (a instanceof I) return g.forFetch(w.behaviourHalogenM(n))(a.value0)(function (n) { return r.modify_(v.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.members = n, t }) }); if (a instanceof S) return w.navigateRoute(w.behaviourHalogenM(n))(a.value0)(a.value1); throw new Error("Failed pattern match at Incentknow.Pages.Space.MemberList (line 76, column 16 - line 83, column 52): " + [a.constructor.name]) } } } }(n)(n.MonadEffect0())(e), handleQuery: s.defaultEval.handleQuery, receive: s.defaultEval.receive, initialize: new o.Just(M.value), finalize: s.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Space.PageList"] = n["Incentknow.Pages.Space.PageList"] || {}; var e = n["Incentknow.Pages.Space.PageList"], t = n["Control.Bind"], r = n["Control.Monad.State.Class"], a = n["Data.Array"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.Ord"], c = n["Data.Symbol"], l = n["Data.Unit"], f = n["Data.Void"], s = n["Halogen.Component"], d = n["Halogen.HTML"], p = n["Halogen.HTML.Elements"], v = n["Halogen.Query.HalogenM"], m = n["Incentknow.Api"], g = n["Incentknow.Api.Execution"], w = n["Incentknow.AppM"], y = n["Incentknow.Atoms.Icon"], h = n["Incentknow.HTML.Utils"], b = n["Incentknow.Organisms.CardView"], M = n["Incentknow.Route"], S = function () { function n() { } return n.value = new n, n }(), I = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function (n) { return function (n) { return function (e) { return p.div([h.css("page-space-page-list")])([p.div([h.css("table")])([p.div([h.css("header")])([p.div([h.css("column")])([])]), p.div([h.css("body")])([y.remoteWith(e.formats)(function (t) { return d.slot()(new c.IsSymbol(function () { return "cardview" }))(i.ordUnit)(c.SProxy.value)(l.unit)(b.component(n.MonadEffect0())(n))({ items: o.map(o.functorArray)(function (n) { return function (e) { return { title: e.displayName, route: new M.Composition(n.spaceId, e.formatId, ""), desc: "", info: "" } } }(e))(a.filter(function (n) { return a.length(n.collectionPage.compositions) > 0 })(t)) })(f.absurd) })])])]) } } }, H = function (n) { return { spaceId: n.spaceId, formats: g.Loading.value } }; e.component = function (n) { return function (e) { return function (e) { return s.mkComponent({ initialState: H, render: C(n.MonadEffect0())(n), eval: s.mkEval({ handleAction: function (n) { return function (e) { return function (e) { return function (a) { if (a instanceof S) return t.bind(v.bindHalogenM)(r.get(v.monadStateHalogenM))(function (n) { return g.fetchApi(e)(E.create)(m.getFormats(n.spaceId)) }); if (a instanceof E) return g.forFetch(w.behaviourHalogenM(n))(a.value0)(function (n) { return r.modify_(v.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.formats = n, t }) }); if (a instanceof I) return w.navigate(w.behaviourHalogenM(n))(a.value0); throw new Error("Failed pattern match at Incentknow.Pages.Space.PageList (line 80, column 16 - line 87, column 35): " + [a.constructor.name]) } } } }(n)(n.MonadEffect0())(e), handleQuery: s.defaultEval.handleQuery, receive: s.defaultEval.receive, initialize: new u.Just(S.value), finalize: s.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.AuthMenu"] = n["Incentknow.Molecules.AuthMenu"] || {}; var e = n["Incentknow.Molecules.AuthMenu"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.Maybe.Utils"], c = n["Data.Ord"], l = n["Data.Symbol"], f = n["Data.Unit"], s = n["Halogen.Component"], d = n["Halogen.HTML"], p = n["Halogen.HTML.Core"], v = n["Halogen.HTML.Elements"], m = n["Halogen.Query.HalogenM"], g = n["Incentknow.HTML.Utils"], w = n["Incentknow.Molecules.SelectMenu"], y = function () { function n() { } return n.value = new n, n }(), h = function () { function n() { } return n.value = new n, n }(), b = function () { function n() { } return n.value = new n, n }(), M = function () { function n() { } return n.value = new n, n }(), S = function () { function n() { } return n.value = new n, n }(), I = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function (n) { var e = v.div([])([v.div([g.css("name")])([p.text(n.name)]), v.div([g.css("desc")])([p.text(n.desc)])]); return { id: n.id, name: n.name, searchWord: n.name, html: e } }, H = function (n) { return "none" === n ? new u.Just(y.value) : "visible" === n ? new u.Just(h.value) : "readable" === n ? new u.Just(b.value) : "writable" === n ? new u.Just(M.value) : u.Nothing.value }, D = function (n) { return { auth: i.flatten(o.map(u.functorMaybe)(H)(n.value)), disabled: n.disabled } }, A = function (n) { if (n instanceof y) return "none"; if (n instanceof h) return "visible"; if (n instanceof b) return "readable"; if (n instanceof M) return "writable"; throw new Error("Failed pattern match at Incentknow.Molecules.AuthMenu (line 42, column 12 - line 46, column 25): " + [n.constructor.name]) }, k = [{ id: "none", name: "None", desc: "\u306a\u3057" }, { id: "visible", name: "Visible", desc: "\u30b9\u30da\u30fc\u30b9\u306e\u540d\u524d\u3084\u8aac\u660e\u3092\u95b2\u89a7\u3067\u304d\u307e\u3059" }, { id: "readable", name: "Readable", desc: "\u30b3\u30f3\u30c6\u30f3\u30c4\u3084\u30e1\u30f3\u30d0\u30fc\u306e\u4e00\u89a7\u3092\u95b2\u89a7\u3067\u304d\u307e\u3059" }, { id: "writable", name: "Writable", desc: "\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u6295\u7a3f\u3067\u304d\u307e\u3059" }]; e.component = function (n) { return function (e) { return s.mkComponent({ initialState: D, render: function (n) { return function (e) { return function (t) { return v.div_([d.slot()(new l.IsSymbol(function () { return "selectMenu" }))(c.ordUnit)(l.SProxy.value)(f.unit)(w.component(n)(e))({ resource: w.SelectMenuResourceAllCandidates.create(o.map(o.functorArray)(C)(k)), value: o.map(u.functorMaybe)(A)(t.auth), disabled: t.disabled })(function (n) { return u.Just.create(E.create(n)) })]) } } }(n)(e), eval: s.mkEval({ handleAction: (n.MonadEffect0(), function (n) { if (n instanceof S) return t.pure(m.applicativeHalogenM)(f.unit); if (n instanceof I) return t.when(m.applicativeHalogenM)(u.isJust(n.value0.value))(a.put(m.monadStateHalogenM)(D(n.value0))); if (n instanceof E) return r.discard(r.discardUnit)(m.bindHalogenM)(a.modify_(m.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.auth = i.flatten(o.map(u.functorMaybe)(H)(n.value0)), t }))(function () { return m.raise(n.value0) }); throw new Error("Failed pattern match at Incentknow.Molecules.AuthMenu (line 126, column 16 - line 131, column 17): " + [n.constructor.name]) }), handleQuery: s.defaultEval.handleQuery, receive: function (n) { return u.Just.create(I.create(n)) }, initialize: new u.Just(S.value), finalize: s.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.Setting.AuthMenu"] = n["Incentknow.Molecules.Setting.AuthMenu"] || {}; var e = n["Incentknow.Molecules.Setting.AuthMenu"], t = n["Data.Eq"], r = n["Data.Function"], a = n["Data.Maybe"], o = n["Data.Ord"], u = n["Data.Symbol"], i = n["Data.Unit"], c = n["Halogen.HTML"], l = n["Incentknow.Molecules.AuthMenu"], f = n["Incentknow.Molecules.Setting"]; e.component = function (n) { return function (e) { return f.component(a.eqMaybe(t.eqString))(n)({ editor: function (t) { return function (r) { return function (r) { return c.slot()(new u.IsSymbol(function () { return "auth" }))(o.ordUnit)(u.SProxy.value)(i.unit)(l.component(e)(n))({ value: r, disabled: !1 })(function (n) { return a.Just.create(t(n)) }) } } }, viewer: function (t) { return c.slot()(new u.IsSymbol(function () { return "auth" }))(o.ordUnit)(u.SProxy.value)(i.unit)(l.component(e)(n))({ value: t, disabled: !0 })(r.const(a.Nothing.value)) }, validate: a.isJust }) } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.Setting.Checkbox"] = n["Incentknow.Molecules.Setting.Checkbox"] || {}; var e = n["Incentknow.Molecules.Setting.Checkbox"], t = n["Data.Eq"], r = n["Data.Function"], a = n["Incentknow.Atoms.Inputs"], o = n["Incentknow.Molecules.Setting"]; e.component = function (n) { return function (e) { return o.component(t.eqBoolean)(n)({ editor: function (n) { return function (t) { return function (r) { return a.checkbox(e)(r)(n)(t) } } }, viewer: function (n) { return a.disabledCheckbox(e)(n) }, validate: r.const(!0) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.Setting.DisplayId"] = n["Incentknow.Molecules.Setting.DisplayId"] || {}; var e = n["Incentknow.Molecules.Setting.DisplayId"], t = n["Data.Eq"], r = n["Data.Maybe"], a = n["Data.Ord"], o = n["Data.Symbol"], u = n["Data.Unit"], i = n["Halogen.HTML"], c = n["Halogen.HTML.Core"], l = n["Incentknow.Molecules.DisplayId"], f = n["Incentknow.Molecules.Setting"]; e.component = function (n) { return function (e) { return f.component(t.eqRec()(t.eqRowCons(t.eqRowCons(t.eqRowNil)()(new o.IsSymbol(function () { return "displayId" }))(t.eqString))()(new o.IsSymbol(function () { return "checkState" }))(l.eqCheckState)))(n)({ editor: function (t) { return function (c) { return function (f) { return i.slot()(new o.IsSymbol(function () { return "edit" }))(a.ordUnit)(o.SProxy.value)(u.unit)(l.component(n))({ checkId: e, disabled: c, value: f })(function (n) { return r.Just.create(t(n)) }) } } }, viewer: function (n) { return c.text(n.displayId) }, validate: function (n) { return t.eq(l.eqCheckState)(n.checkState)(l.Available.value) } }) } } }(PS), function (n) { "use strict"; n["Web.File.File"] = n["Web.File.File"] || {}; var e = n["Web.File.File"], t = n["Unsafe.Coerce"].unsafeCoerce; e.toBlob = t }(PS), function (n) { "use strict"; n._item = function (n) { return function (e) { return e.item(n) } } }(PS["Web.File.FileList"] = PS["Web.File.FileList"] || {}), function (n) { "use strict"; n["Web.File.FileList"] = n["Web.File.FileList"] || {}; var e = n["Web.File.FileList"], t = n["Web.File.FileList"], r = n["Data.Nullable"]; e.item = function (n) { var e = t._item(n); return function (n) { return r.toMaybe(e(n)) } } }(PS), function (n) { "use strict"; n.createObjectURL = function (n) { return function () { return URL.createObjectURL(n) } } }(PS["Web.File.Url"] = PS["Web.File.Url"] || {}), function (n) { "use strict"; n["Web.File.Url"] = n["Web.File.Url"] || {}; var e = n["Web.File.Url"], t = n["Web.File.Url"]; e.createObjectURL = t.createObjectURL }(PS), function (n) { "use strict"; n._files = function (n) { return function () { return n.files } } }(PS["Web.HTML.HTMLInputElement"] = PS["Web.HTML.HTMLInputElement"] || {}), function (n) { "use strict"; n["Web.HTML.HTMLInputElement"] = n["Web.HTML.HTMLInputElement"] || {}; var e, t = n["Web.HTML.HTMLInputElement"], r = n["Web.HTML.HTMLInputElement"], a = n["Data.Functor"], o = n["Data.Nullable"], u = n.Effect, i = n["Web.Internal.FFI"].unsafeReadProtoTagged("HTMLInputElement"), c = (e = a.map(u.functorEffect)(o.toMaybe), function (n) { return e(r._files(n)) }); t.fromElement = i, t.files = c }(PS), function (n) { "use strict"; n["Incentknow.Molecules.Setting.Image"] = n["Incentknow.Molecules.Setting.Image"] || {}; var e = n["Incentknow.Molecules.Setting.Image"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["DOM.HTML.Indexed.InputAcceptType"], u = n["DOM.HTML.Indexed.InputType"], i = n["Data.Either"], c = n["Data.Foldable"], l = n["Data.Functor"], f = n["Data.Maybe"], s = n["Data.Maybe.Utils"], d = n["Data.Unit"], p = n["Effect.Aff.Class"], v = n["Effect.Class"], m = n["Halogen.Component"], g = n["Halogen.HTML.Core"], w = n["Halogen.HTML.Elements"], y = n["Halogen.HTML.Events"], h = n["Halogen.HTML.Properties"], b = n["Halogen.Query.HalogenM"], M = n["Incentknow.HTML.Utils"], S = n["Incentknow.Molecules.Setting"], I = n["Web.File.File"], E = n["Web.File.FileList"], C = n["Web.File.Url"], H = n["Web.HTML.HTMLInputElement"], D = function () { function n() { } return n.value = new n, n }(), A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), F = function () { function n() { } return n.value = new n, n }(), P = function () { function n() { } return n.value = new n, n }(), T = function () { function n() { } return n.value = new n, n }(), N = function (n) { return { state: S.None.value, typingIcon: f.Nothing.value, nowUrl: n.value, submit: n.submit, disabled: n.disabled } }, L = function (n) { var e = function (n) { return M.maybeElem(n)(function (n) { return w.img([h.src(n)]) }) }, t = function (n) { return w.input([h.type_(g.isPropInputType)(u.InputFile.value), h.ref("iconInput"), h.disabled(n), h.accept(o.mediaType("image/jpeg,image/png,image/webp")), y.onChange(function (n) { return f.Just.create(k.create(n)) })]) }; return w.div([M.css("item")])([w.div([M.css("main")])([w.div([M.css("left")])([w.label_([g.text("\u30a2\u30a4\u30b3\u30f3")]), w.div([M.css("value")])([function () { var r = function () { if (n.typingIcon instanceof f.Just) return new f.Just(n.typingIcon.value0.url); if (n.typingIcon instanceof f.Nothing) return n.nowUrl; throw new Error("Failed pattern match at Incentknow.Molecules.Setting.Image (line 97, column 31 - line 99, column 46): " + [n.typingIcon.constructor.name]) }(); if (n.state instanceof S.None) return w.div([M.css("icon")])([e(n.nowUrl)]); if (n.state instanceof S.Changing) return w.div([M.css("icon")])([e(r), t(!1)]); if (n.state instanceof S.Sending) return w.div([M.css("icon")])([e(r), t(!0)]); if (n.state instanceof S.Failed) return w.div([M.css("icon")])([e(r), t(!1)]); if (n.state instanceof S.Changed) return w.div([M.css("icon")])([e(n.nowUrl)]); throw new Error("Failed pattern match at Incentknow.Molecules.Setting.Image (line 101, column 21 - line 124, column 28): " + [n.state.constructor.name]) }()])]), M.whenElem(!n.disabled)(function (e) { return w.div([M.css("right")])([S.renderEditButton(n.state)(F.value)]) })]), S.renderSubmitButton(n.state)(P.value)(T.value)(f.isNothing(n.typingIcon)), S.renderMessage("\u30a2\u30a4\u30b3\u30f3\u3092\u5909\u66f4\u3057\u307e\u3057\u305f")(n.state)]) }; e.component = function (n) { return function (e) { return m.mkComponent({ initialState: N, render: L, eval: m.mkEval({ handleAction: function (n) { return function (e) { return function (e) { if (e instanceof D) return t.pure(b.applicativeHalogenM)(d.unit); if (e instanceof A) return a.modify_(b.monadStateHalogenM)((o = e.value0, function (n) { return { state: n.state, typingIcon: n.typingIcon, nowUrl: o.value, submit: o.submit, disabled: o.disabled } })); var o; if (e instanceof P) return r.bind(b.bindHalogenM)(a.get(b.monadStateHalogenM))(function (e) { return c.for_(b.applicativeHalogenM)(c.foldableMaybe)(e.typingIcon)(function (t) { return r.discard(r.discardUnit)(b.bindHalogenM)(a.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.state = S.Sending.value, e }))(function () { return r.bind(b.bindHalogenM)(p.liftAff(b.monadAffHalogenM(n))(e.submit(t.blob)))(function (n) { if (n instanceof i.Right) return a.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.state = S.Changed.value, e }); if (n instanceof i.Left) return a.modify_(b.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.state = new S.Failed(n.value0), t }); throw new Error("Failed pattern match at Incentknow.Molecules.Setting.Image (line 156, column 7 - line 158, column 55): " + [n.constructor.name]) }) }) }) }); if (e instanceof k) return r.bind(b.bindHalogenM)(l.map(b.functorHalogenM)(l.map(l.functorFn)(s.flatten)(l.map(f.functorMaybe)(H.fromElement)))(b.getRef("iconInput")))(c.traverse_(b.applicativeHalogenM)(c.foldableMaybe)(function (e) { return r.bind(b.bindHalogenM)(v.liftEffect(b.monadEffectHalogenM(n.MonadEffect0()))(H.files(e)))(function (e) { var t = s.flatten(l.map(f.functorMaybe)(E.item(0))(e)); return c.for_(b.applicativeHalogenM)(c.foldableMaybe)(t)(function (e) { var t = I.toBlob(e); return r.bind(b.bindHalogenM)(v.liftEffect(b.monadEffectHalogenM(n.MonadEffect0()))(C.createObjectURL(t)))(function (n) { return a.modify_(b.monadStateHalogenM)(function (r) { var a = {}; for (var o in r) ({}).hasOwnProperty.call(r, o) && (a[o] = r[o]); return a.typingIcon = new f.Just({ file: e, blob: t, url: n }), a }) }) }) }) })); if (e instanceof T) return a.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.state = S.None.value, e }); if (e instanceof F) return r.discard(r.discardUnit)(b.bindHalogenM)(a.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.state = S.Changing.value, e }))(function () { return b.raise(S.Edited.value) }); throw new Error("Failed pattern match at Incentknow.Molecules.Setting.Image (line 148, column 16 - line 173, column 19): " + [e.constructor.name]) } } }(n)(n.MonadEffect0()), handleQuery: S.handleSettingQuery, receive: function (n) { return f.Just.create(A.create(n)) }, initialize: new f.Just(D.value), finalize: m.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.MembershipMethodMenu"] = n["Incentknow.Molecules.MembershipMethodMenu"] || {}; var e = n["Incentknow.Molecules.MembershipMethodMenu"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Functor"], u = n["Data.Maybe"], i = n["Data.Ord"], c = n["Data.Symbol"], l = n["Data.Unit"], f = n["Halogen.Component"], s = n["Halogen.HTML"], d = n["Halogen.HTML.Core"], p = n["Halogen.HTML.Elements"], v = n["Halogen.Query.HalogenM"], m = n["Incentknow.HTML.Utils"], g = n["Incentknow.Molecules.SelectMenu"], w = function () { function n() { } return n.value = new n, n }(), y = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), h = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), b = function (n) { var e = p.div([])([p.div([m.css("name")])([d.text(n.name)]), p.div([m.css("desc")])([d.text(n.desc)])]); return { id: n.id, name: n.name, searchWord: n.name, html: e } }, M = function (n) { return { membershipMethod: n.value, disabled: n.disabled } }, S = [{ id: "none", name: "None", desc: "\u30e1\u30f3\u30d0\u30fc\u306e\u8ffd\u52a0\u306f\u884c\u308f\u308c\u307e\u305b\u3093" }, { id: "app", name: "Application and approval", desc: "\u30e1\u30f3\u30d0\u30fc\u52a0\u5165\u8005\u306b\u3088\u308b\u7533\u8acb\u3068\u30b9\u30da\u30fc\u30b9\u7ba1\u7406\u8005\u306b\u3088\u308b\u627f\u8a8d\u306b\u3088\u3063\u3066\u3001\u30e1\u30f3\u30d0\u30fc\u30b7\u30c3\u30d7\u306e\u52a0\u5165\u306f\u7ba1\u7406\u3055\u308c\u307e\u3059" }]; e.component = function (n) { return function (e) { return f.mkComponent({ initialState: M, render: function (n) { return function (e) { return function (t) { return p.div_([s.slot()(new c.IsSymbol(function () { return "selectMenu" }))(i.ordUnit)(c.SProxy.value)(l.unit)(g.component(n)(e))({ resource: g.SelectMenuResourceAllCandidates.create(o.map(o.functorArray)(b)(S)), value: t.membershipMethod, disabled: t.disabled })(function (n) { return u.Just.create(h.create(n)) })]) } } }(n)(e), eval: f.mkEval({ handleAction: (n.MonadEffect0(), function (n) { if (n instanceof w) return t.pure(v.applicativeHalogenM)(l.unit); if (n instanceof y) return t.when(v.applicativeHalogenM)(u.isJust(n.value0.value))(a.put(v.monadStateHalogenM)(M(n.value0))); if (n instanceof h) return r.discard(r.discardUnit)(v.bindHalogenM)(a.modify_(v.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.membershipMethod = n.value0, t }))(function () { return v.raise(n.value0) }); throw new Error("Failed pattern match at Incentknow.Molecules.MembershipMethodMenu (line 103, column 16 - line 108, column 29): " + [n.constructor.name]) }), handleQuery: f.defaultEval.handleQuery, receive: function (n) { return u.Just.create(y.create(n)) }, initialize: new u.Just(w.value), finalize: f.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.Setting.MembershipMethodMenu"] = n["Incentknow.Molecules.Setting.MembershipMethodMenu"] || {}; var e = n["Incentknow.Molecules.Setting.MembershipMethodMenu"], t = n["Data.Eq"], r = n["Data.Function"], a = n["Data.Maybe"], o = n["Data.Ord"], u = n["Data.Symbol"], i = n["Data.Unit"], c = n["Halogen.HTML"], l = n["Incentknow.Molecules.MembershipMethodMenu"], f = n["Incentknow.Molecules.Setting"]; e.component = function (n) { return function (e) { return f.component(a.eqMaybe(t.eqString))(n)({ editor: function (t) { return function (r) { return function (r) { return c.slot()(new u.IsSymbol(function () { return "menu" }))(o.ordUnit)(u.SProxy.value)(i.unit)(l.component(e)(n))({ value: r, disabled: !1 })(function (n) { return a.Just.create(t(n)) }) } } }, viewer: function (t) { return c.slot()(new u.IsSymbol(function () { return "menu" }))(o.ordUnit)(u.SProxy.value)(i.unit)(l.component(e)(n))({ value: t, disabled: !0 })(r.const(a.Nothing.value)) }, validate: a.isJust }) } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.Setting.Text"] = n["Incentknow.Molecules.Setting.Text"] || {}; var e = n["Incentknow.Molecules.Setting.Text"], t = n["Data.Eq"], r = n["Data.Maybe"], a = n["Halogen.HTML.Core"], o = n["Halogen.HTML.Elements"], u = n["Halogen.HTML.Events"], i = n["Halogen.HTML.Properties"], c = n["Incentknow.HTML.Utils"], l = n["Incentknow.Molecules.Setting"]; e.component = function (n) { return l.component(t.eqString)(n)({ editor: function (n) { return function (e) { return function (t) { return (a = t, function (n) { return function (e) { return o.input([c.css("atom-textarea"), i.value(a), i.disabled(e), u.onValueInput(function (e) { return r.Just.create(n(e)) })]) } })(n)(e); var a } } }, viewer: function (n) { return a.text(n) }, validate: function (n) { return !0 } }) } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Space.Setting"] = n["Incentknow.Pages.Space.Setting"] || {}; var e = n["Incentknow.Pages.Space.Setting"], t = n["Control.Applicative"], r = n["Control.Monad.State.Class"], a = n["Data.Maybe"], o = n["Data.Nullable"], u = n["Data.Ord"], i = n["Data.Symbol"], c = n["Data.Unit"], l = n["Halogen.Component"], f = n["Halogen.HTML"], s = n["Halogen.HTML.Elements"], d = n["Halogen.Query.HalogenM"], p = n["Incentknow.Api"], v = n["Incentknow.Api.Execution"], m = n["Incentknow.HTML.Utils"], g = n["Incentknow.Molecules.DisplayId"], w = n["Incentknow.Molecules.Setting.AuthMenu"], y = n["Incentknow.Molecules.Setting.Checkbox"], h = n["Incentknow.Molecules.Setting.DisplayId"], b = n["Incentknow.Molecules.Setting.Image"], M = n["Incentknow.Molecules.Setting.MembershipMethodMenu"], S = n["Incentknow.Molecules.Setting.Text"], I = function () { function n() { } return n.value = new n, n }(), E = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), C = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), H = i.SProxy.value, D = i.SProxy.value, A = function (n) { return { space: n.space, disabled: n.disabled } }, k = i.SProxy.value, F = i.SProxy.value, P = i.SProxy.value, T = i.SProxy.value; e.component = function (n) { return function (e) { return function (N) { return l.mkComponent({ initialState: A, render: function (n) { return function (e) { return function (t) { return function (t) { return s.div([m.css("page-user-setting")])([f.slot()(new i.IsSymbol(function () { return "displayName" }))(u.ordUnit)(F)(c.unit)(S.component(n))({ submit: (d = p.setSpaceDisplayName(t.space.spaceId), function (n) { return v.callApi(d(n)) }), value: t.space.displayName, title: "\u8868\u793a\u540d", desc: "", disabled: t.disabled })(function (n) { return a.Just.create(C.create(n)) }), f.slot()(new i.IsSymbol(function () { return "homeImage" }))(u.ordUnit)(k)(c.unit)(b.component(n)(e.MonadEffect0()))({ submit: (l = p.setSpaceHomeImage(t.space.spaceId), function (n) { return v.callApi(l(n)) }), value: o.toMaybe(t.space.homeUrl), disabled: t.disabled })(function (n) { return a.Just.create(C.create(n)) }), f.slot()(new i.IsSymbol(function () { return "published" }))(u.ordUnit)(H)(c.unit)(y.component(n)("\u516c\u958b\u3059\u308b"))({ submit: (r = p.setSpacePublished(t.space.spaceId), function (n) { return v.callApi(r(n)) }), value: t.space.published, title: "\u4e00\u822c\u516c\u958b", desc: "\u3053\u306e\u8a2d\u5b9a\u3092\u30aa\u30f3\u306b\u3059\u308b\u3068\u3001\u30b9\u30da\u30fc\u30b9\u306e\u691c\u7d22\u7d50\u679c\u3084\u30b9\u30da\u30fc\u30b9\u306e\u4e00\u89a7\u306b\u3053\u306e\u30b9\u30da\u30fc\u30b9\u306e\u540d\u524d\u3084\u8aac\u660e\u304c\u8868\u793a\u3055\u308c\u307e\u3059", disabled: t.disabled })(function (n) { return a.Just.create(C.create(n)) }), f.slot()(new i.IsSymbol(function () { return "authMenu" }))(u.ordUnit)(T)(c.unit)(w.component(n)(e))({ submit: function (n) { return v.callApi((e = n, p.setSpaceAuthority(t.space.spaceId)({ base: a.fromMaybe("")(e) }))); var e }, value: new a.Just(t.space.authority.base), title: "\u6a19\u6e96\u6a29\u9650", desc: "\u30b9\u30da\u30fc\u30b9\u306e\u30e1\u30f3\u30d0\u30fc\u4ee5\u5916\u306e\u4eba\u3092\u542b\u3080\u5168\u3066\u306e\u4eba\u306b\u9069\u7528\u3055\u308c\u308b\u6a29\u9650\u3092\u8a2d\u5b9a\u3057\u307e\u3059", disabled: t.disabled })(function (n) { return a.Just.create(C.create(n)) }), f.slot()(new i.IsSymbol(function () { return "membershipMethodMenu" }))(u.ordUnit)(D)(c.unit)(M.component(n)(e))({ submit: function (n) { return v.callApi((e = n, p.setSpaceMembershipMethod(t.space.spaceId)(a.fromMaybe("")(e)))); var e }, value: new a.Just(t.space.membershipMethod), title: "\u30e1\u30f3\u30d0\u30fc\u52a0\u5165\u65b9\u6cd5", desc: "\u30e1\u30f3\u30d0\u30fc\u304c\u3069\u306e\u3088\u3046\u306a\u65b9\u6cd5\u3067\u30b9\u30da\u30fc\u30b9\u306b\u52a0\u5165\u3059\u308b\u304b\u3092\u8a2d\u5b9a\u3057\u307e\u3059", disabled: t.disabled })(function (n) { return a.Just.create(C.create(n)) }), f.slot()(new i.IsSymbol(function () { return "displayId" }))(u.ordUnit)(P)(c.unit)(h.component(n)(function (n) { return v.callApi(p.checkSpaceDisplayId(n)) }))({ submit: function (n) { return v.callApi((e = n, p.setSpaceDisplayId(t.space.spaceId)(e.displayId))); var e }, value: { displayId: t.space.displayId, checkState: g.Available.value }, title: "\u8868\u793aID", desc: "ID\u3092\u8a2d\u5b9a\u3057\u307e\u3059", disabled: t.disabled })(function (n) { return a.Just.create(C.create(n)) })]); var r, l, d } } } }(e)(n)(n.MonadEffect0()), eval: l.mkEval({ handleAction: (n.MonadEffect0(), function (n) { if (n instanceof I) return t.pure(d.applicativeHalogenM)(c.unit); if (n instanceof E) return r.put(d.monadStateHalogenM)(A(n.value0)); if (n instanceof C) return t.pure(d.applicativeHalogenM)(c.unit); throw new Error("Failed pattern match at Incentknow.Pages.Space.Setting (line 152, column 16 - line 157, column 14): " + [n.constructor.name]) }), handleQuery: l.defaultEval.handleQuery, receive: function (n) { return a.Just.create(E.create(n)) }, initialize: new a.Just(I.value), finalize: l.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.Space"] = n["Incentknow.Pages.Space"] || {}; var e = n["Incentknow.Pages.Space"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Eq"], u = n["Data.Foldable"], i = n["Data.Maybe"], c = n["Data.Nullable"], l = n["Data.Ord"], f = n["Data.Show"], s = n["Data.Symbol"], d = n["Data.Unit"], p = n["Data.Void"], v = n["Halogen.Component"], m = n["Halogen.HTML"], g = n["Halogen.HTML.Core"], w = n["Halogen.HTML.Elements"], y = n["Halogen.Query.HalogenM"], h = n["Incentknow.Api"], b = n["Incentknow.Api.Execution"], M = n["Incentknow.AppM"], S = n["Incentknow.Atoms.Inputs"], I = n["Incentknow.Data.Ids"], E = n["Incentknow.HTML.Utils"], C = n["Incentknow.Pages.Space.ContentList"], H = n["Incentknow.Pages.Space.CrawlerList"], D = n["Incentknow.Pages.Space.FormatList"], A = n["Incentknow.Pages.Space.MemberList"], k = n["Incentknow.Pages.Space.PageList"], F = n["Incentknow.Pages.Space.Setting"], P = n["Incentknow.Route"], T = n["Incentknow.Templates.Page"], N = function () { function n() { } return n.value = new n, n }(), L = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), x = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), U = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), J = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), O = function () { function n() { } return n.value = new n, n }(), R = function (n) { return function (e) { return function (t) { return function (t) { return E.maybeElem(t.space)(function (r) { return function (n) { return function (e) { return function (t) { return function (t) { return function (r) { var a = i.maybe(!1)(function (n) { return "pending" === n.type })(c.toMaybe(r.myMember)), o = i.maybe(!1)(function (n) { return "pending" !== n.type })(c.toMaybe(r.myMember)), u = o || "readable" === r.authority.base || "writable" === r.authority.base, v = o || "writable" === r.authority.base, y = i.maybe(!1)(function (n) { return "owner" === n.type || "admin" === n.type })(c.toMaybe(r.myMember)); return T.tabPage(P.eqSpaceTab)({ tabs: u ? [P.SpacePages.value, P.SpaceContents.value, P.SpaceFormats.value, P.SpaceMembers.value, P.SpaceCrawlers.value, P.SpaceSetting.value] : [P.SpacePages.value, P.SpaceSetting.value], currentTab: t.tab, onChangeTab: L.create, showTab: function (n) { if (n instanceof P.SpacePages) return u ? "Pages" : "Caption"; if (n instanceof P.SpaceContents) return "Contents"; if (n instanceof P.SpaceFormats) return "Formats(" + f.show(f.showInt)(r.formatCount) + ")"; if (n instanceof P.SpaceMembers) return "Members(" + f.show(f.showInt)(r.memberCount) + ")"; if (n instanceof P.SpaceCrawlers) return "Crawlers"; if (n instanceof P.SpaceSetting) return y ? "Setting" : "Information"; throw new Error("Failed pattern match at Incentknow.Pages.Space (line 105, column 11 - line 111, column 73): " + [n.constructor.name]) } })([E.whenElem(v)(function (n) { return S.menuPositiveButton("\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u8ffd\u52a0")(U.create(new P.NewContent(new i.Just(t.spaceId), i.Nothing.value))) })])([w.div([E.css("page-space")])([w.div([E.css("name")])([g.text(r.displayName)]), w.div([E.css("desc")])([g.text(r.description)])])])([function () { if (t.tab instanceof P.SpacePages) return u ? m.slot()(new s.IsSymbol(function () { return "pages" }))(l.ordUnit)(s.SProxy.value)(d.unit)(k.component(n)(n.MonadEffect0())(e))({ spaceId: t.spaceId })(p.absurd) : T.section("")([g.text("\u3053\u306e\u30b9\u30da\u30fc\u30b9\u306f\u30e1\u30f3\u30d0\u30fc\u4ee5\u5916\u306b\u306f\u975e\u516c\u958b\u3067\u3059"), "app" === r.membershipMethod ? a ? g.text("\u30e1\u30f3\u30d0\u30fc\u3078\u306e\u52a0\u5165\u3092\u7533\u8acb\u3057\u3066\u3044\u307e\u3059\u3002\u30b9\u30da\u30fc\u30b9\u7ba1\u7406\u8005\u306e\u627f\u8a8d\u3092\u304a\u5f85\u3061\u304f\u3060\u3055\u3044\u3002") : S.menuPositiveButton("\u30e1\u30f3\u30d0\u30fc\u3078\u306e\u52a0\u5165\u3092\u7533\u8acb")(U.create(new P.JoinSpace(t.spaceId))) : g.text("")]); if (t.tab instanceof P.SpaceContents) return m.slot()(new s.IsSymbol(function () { return "contents" }))(l.ordUnit)(s.SProxy.value)(d.unit)(C.component(n)(e)(n.MonadEffect0()))({ space: r })(p.absurd); if (t.tab instanceof P.SpaceFormats) return m.slot()(new s.IsSymbol(function () { return "formats" }))(l.ordUnit)(s.SProxy.value)(d.unit)(D.component(n)(n.MonadEffect0())(e))({ spaceId: t.spaceId })(p.absurd); if (t.tab instanceof P.SpaceMembers) return m.slot()(new s.IsSymbol(function () { return "members" }))(l.ordUnit)(s.SProxy.value)(d.unit)(A.component(n)(n.MonadEffect0())(e))({ space: r, isAdmin: y })(p.absurd); if (t.tab instanceof P.SpaceCrawlers) return m.slot()(new s.IsSymbol(function () { return "crawlers" }))(l.ordUnit)(s.SProxy.value)(d.unit)(H.component(n)(n.MonadEffect0())(e))({ spaceId: t.spaceId })(p.absurd); if (t.tab instanceof P.SpaceSetting) return m.slot()(new s.IsSymbol(function () { return "setting" }))(l.ordUnit)(s.SProxy.value)(d.unit)(F.component(n)(e)(n.MonadEffect0()))({ space: r, disabled: !y })(p.absurd); throw new Error("Failed pattern match at Incentknow.Pages.Space (line 121, column 9 - line 140, column 133): " + [t.tab.constructor.name]) }()]) } } } } }(n)(e)(n.MonadEffect0())(t)(r) }) } } } }, _ = function (n) { return { spaceId: n.spaceId, space: i.Nothing.value, tab: n.tab, spaceSubId: i.Nothing.value } }, q = function (n) { return function (e) { return function (e) { return function (l) { if (l instanceof N) return r.bind(y.bindHalogenM)(a.get(y.monadStateHalogenM))(function (n) { return r.discard(r.discardUnit)(y.bindHalogenM)(u.for_(y.applicativeHalogenM)(u.foldableMaybe)(n.spaceSubId)(function (n) { return y.unsubscribe(n) }))(function () { return r.bind(y.bindHalogenM)(b.subscribeApi(e)(function (n) { return J.create(c.toMaybe(n)) })(h.onSnapshotSpace(n.spaceId)))(function (n) { return a.modify_(y.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.spaceSubId = new i.Just(n), t }) }) }) }); if (l instanceof J) return a.modify_(y.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.space = l.value0, e }); if (l instanceof x) return r.bind(y.bindHalogenM)(a.get(y.monadStateHalogenM))(function (t) { return o.notEq(I.eqSpaceId)(t.spaceId)(l.value0.spaceId) ? r.discard(r.discardUnit)(y.bindHalogenM)(a.put(y.monadStateHalogenM)(_(l.value0)))(function () { return q(n)(n.MonadEffect0())(e)(N.value) }) : a.modify_(y.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.tab = l.value0.tab, e }) }); if (l instanceof L) return r.bind(y.bindHalogenM)(a.get(y.monadStateHalogenM))(function (e) { return M.navigate(M.behaviourHalogenM(n))(new P.Space(e.spaceId, l.value0)) }); if (l instanceof U) return M.navigate(M.behaviourHalogenM(n))(l.value0); if (l instanceof O) return r.bind(y.bindHalogenM)(a.get(y.monadStateHalogenM))(function (n) { return t.pure(y.applicativeHalogenM)(d.unit) }); throw new Error("Failed pattern match at Incentknow.Pages.Space (line 154, column 16 - line 176, column 14): " + [l.constructor.name]) } } } }; e.component = function (n) { return function (e) { return function (t) { return v.mkComponent({ initialState: _, render: R(n)(e)(n.MonadEffect0()), eval: v.mkEval({ handleAction: q(n)(n.MonadEffect0())(e), handleQuery: v.defaultEval.handleQuery, receive: function (n) { return i.Just.create(x.create(n)) }, initialize: new i.Just(N.value), finalize: v.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.User.Main"] = n["Incentknow.Pages.User.Main"] || {}; var e = n["Incentknow.Pages.User.Main"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Maybe"], u = n["Data.Ord"], i = n["Data.Symbol"], c = n["Data.Unit"], l = n["Data.Void"], f = n["Halogen.Component"], s = n["Halogen.HTML"], d = n["Halogen.Query.HalogenM"], p = n["Incentknow.Organisms.ContentList"], v = function () { function n() { } return n.value = new n, n }(), m = function (n) { return { userId: n.userId, list: [] } }; e.component = function (n) { return function (e) { return function (g) { return f.mkComponent({ initialState: m, render: function (n) { return function (e) { return function (t) { return function (t) { return s.slot()(new i.IsSymbol(function () { return "contentList" }))(u.ordUnit)(i.SProxy.value)(c.unit)(p.component(n)(e)(n.MonadEffect0()))({ value: t.list })(l.absurd) } } } }(n)(e)(n.MonadEffect0()), eval: f.mkEval({ handleAction: (n.MonadEffect0(), function (n) { return r.bind(d.bindHalogenM)(a.get(d.monadStateHalogenM))(function (n) { return t.pure(d.applicativeHalogenM)(c.unit) }) }), handleQuery: f.defaultEval.handleQuery, receive: f.defaultEval.receive, initialize: new o.Just(v.value), finalize: f.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Molecules.Setting.Password"] = n["Incentknow.Molecules.Setting.Password"] || {}; var e = n["Incentknow.Molecules.Setting.Password"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["DOM.HTML.Indexed.InputType"], u = n["Data.Maybe"], i = n["Data.Unit"], c = n["Effect.Aff.Class"], l = n["Halogen.Component"], f = n["Halogen.HTML.Core"], s = n["Halogen.HTML.Elements"], d = n["Halogen.HTML.Events"], p = n["Halogen.HTML.Properties"], v = n["Halogen.Query.HalogenM"], m = n["Incentknow.HTML.Utils"], g = n["Incentknow.Molecules.Setting"], w = function () { function n() { } return n.value = new n, n }(), y = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), h = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), b = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), M = function () { function n() { } return n.value = new n, n }(), S = function () { function n() { } return n.value = new n, n }(), I = function () { function n() { } return n.value = new n, n }(), E = function (n) { var e = function (n) { return function (e) { return function (t) { return function (r) { return function (a) { return s.div([])([s.span([m.css("subtext")])([f.text("\u73fe\u5728\u306e\u30d1\u30b9\u30ef\u30fc\u30c9")]), s.input([m.css("atom-textarea"), p.value(n), p.type_(f.isPropInputType)(o.InputPassword.value), p.disabled(a), d.onValueInput(function (n) { return u.Just.create(t(n)) })]), s.span([m.css("subtext")])([f.text("\u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9")]), s.input([m.css("atom-textarea"), p.value(e), p.type_(f.isPropInputType)(o.InputPassword.value), p.disabled(a), d.onValueInput(function (n) { return u.Just.create(r(n)) })])]) } } } } }; return s.div([m.css("item")])([s.div([m.css("main")])([s.div([m.css("left")])([s.label_([f.text("\u30d1\u30b9\u30ef\u30fc\u30c9")]), s.div([m.css("value")])([function () { if (n.state instanceof g.None) return f.text("************"); if (n.state instanceof g.Changing) return e(n.typingOldPassword)(n.typingNewPassword)(h.create)(b.create)(!1); if (n.state instanceof g.Sending) return e(n.typingOldPassword)(n.typingNewPassword)(h.create)(b.create)(!0); if (n.state instanceof g.Failed) return e(n.typingOldPassword)(n.typingNewPassword)(h.create)(b.create)(!1); if (n.state instanceof g.Changed) return f.text("************"); throw new Error("Failed pattern match at Incentknow.Molecules.Setting.Password (line 80, column 19 - line 103, column 54): " + [n.state.constructor.name]) }()])]), s.div([m.css("right")])([g.renderEditButton(n.state)(M.value)])]), g.renderSubmitButton(n.state)(S.value)(I.value)(!1), g.renderMessage("\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3057\u307e\u3057\u305f")(n.state)]) }, C = function (n) { return { submit: n.submit, state: g.None.value, typingOldPassword: "", typingNewPassword: "" } }; e.component = function (n) { return function (e) { return l.mkComponent({ initialState: C, render: E, eval: l.mkEval({ handleAction: function (n) { return function (e) { return function (e) { if (e instanceof w) return t.pure(v.applicativeHalogenM)(i.unit); if (e instanceof y) return a.modify_(v.monadStateHalogenM)((o = e.value0, function (n) { return { submit: o.submit, state: n.state, typingOldPassword: "", typingNewPassword: "" } })); var o; if (e instanceof h) return a.modify_(v.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.typingOldPassword = e.value0, t }); if (e instanceof b) return a.modify_(v.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.typingNewPassword = e.value0, t }); if (e instanceof M) return r.discard(r.discardUnit)(v.bindHalogenM)(a.modify_(v.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.state = g.Changing.value, e }))(function () { return v.raise(g.Edited.value) }); if (e instanceof S) return r.discard(r.discardUnit)(v.bindHalogenM)(a.modify_(v.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.state = g.Sending.value, e }))(function () { return r.bind(v.bindHalogenM)(a.get(v.monadStateHalogenM))(function (e) { return r.bind(v.bindHalogenM)(c.liftAff(v.monadAffHalogenM(n))(e.submit({ oldPassword: e.typingOldPassword, newPassword: e.typingNewPassword })))(function (n) { return a.modify_(v.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.state = g.toState(n), t }) }) }) }); if (e instanceof I) return a.modify_(v.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.state = g.None.value, e }); throw new Error("Failed pattern match at Incentknow.Molecules.Setting.Password (line 134, column 16 - line 147, column 41): " + [e.constructor.name]) } } }(n)(n.MonadEffect0()), handleQuery: g.handleSettingQuery, receive: function (n) { return u.Just.create(y.create(n)) }, initialize: new u.Just(w.value), finalize: l.defaultEval.finalize }) }) } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.User.Setting"] = n["Incentknow.Pages.User.Setting"] || {}; var e = n["Incentknow.Pages.User.Setting"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Maybe"], u = n["Data.Nullable"], i = n["Data.Ord"], c = n["Data.Symbol"], l = n["Data.Unit"], f = n["Halogen.Component"], s = n["Halogen.HTML"], d = n["Halogen.HTML.Elements"], p = n["Halogen.Query.HalogenM"], v = n["Incentknow.Api"], m = n["Incentknow.Api.Execution"], g = n["Incentknow.HTML.Utils"], w = n["Incentknow.Molecules.Setting.Image"], y = n["Incentknow.Molecules.Setting.Password"], h = n["Incentknow.Molecules.Setting.Text"], b = function () { function n() { } return n.value = new n, n }(), M = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), S = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), I = c.SProxy.value, E = function (n) { return { account: o.Nothing.value } }, C = c.SProxy.value, H = c.SProxy.value, D = c.SProxy.value; e.component = function (n) { return function (e) { return function (A) { return f.mkComponent({ initialState: E, render: function (n) { return function (e) { return function (t) { return function (t) { return g.maybeElem(t.account)(function (t) { return d.div([g.css("page-user-setting")])([s.slot()(new c.IsSymbol(function () { return "displayName" }))(i.ordUnit)(D)(l.unit)(h.component(n))({ submit: function (n) { return m.callApi(v.setMyDisplayName(n)) }, value: t.user.displayName, title: "\u8868\u793a\u540d", desc: "", disabled: !1 })(function (n) { return o.Just.create(S.create(n)) }), s.slot()(new c.IsSymbol(function () { return "icon" }))(i.ordUnit)(C)(l.unit)(w.component(n)(e.MonadEffect0()))({ submit: function (n) { return m.callApi(v.setMyIcon(n)) }, value: new o.Just(t.user.iconUrl), disabled: !1 })(function (n) { return o.Just.create(S.create(n)) }), s.slot()(new c.IsSymbol(function () { return "password" }))(i.ordUnit)(I)(l.unit)(y.component(n)(e.MonadEffect0()))({ submit: function (n) { return m.callApi(v.setMyPassword(n)) } })(function (n) { return o.Just.create(S.create(n)) }), s.slot()(new c.IsSymbol(function () { return "email" }))(i.ordUnit)(H)(l.unit)(h.component(n))({ submit: function (n) { return m.callApi(v.setMyEmail(n)) }, value: t.email, title: "\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9", desc: "", disabled: !1 })(function (n) { return o.Just.create(S.create(n)) })]) }) } } } }(e)(n)(n.MonadEffect0()), eval: f.mkEval({ handleAction: function (n) { return function (e) { return function (e) { if (e instanceof b) return r.bind(p.bindHalogenM)(m.subscribeApi(n)(function (n) { return M.create(u.toMaybe(n)) })(v.onSnapshotAccount))(function () { return t.pure(p.applicativeHalogenM)(l.unit) }); if (e instanceof M) return a.modify_(p.monadStateHalogenM)(function (n) { var t = {}; for (var r in n) ({}).hasOwnProperty.call(n, r) && (t[r] = n[r]); return t.account = e.value0, t }); if (e instanceof S) return t.pure(p.applicativeHalogenM)(l.unit); throw new Error("Failed pattern match at Incentknow.Pages.User.Setting (line 113, column 16 - line 120, column 14): " + [e.constructor.name]) } } }(e)(n.MonadEffect0()), handleQuery: f.defaultEval.handleQuery, receive: f.defaultEval.receive, initialize: new o.Just(b.value), finalize: f.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.User"] = n["Incentknow.Pages.User"] || {}; var e = n["Incentknow.Pages.User"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Eq"], u = n["Data.Maybe"], i = n["Data.Nullable"], c = n["Data.Ord"], l = n["Data.Semigroup"], f = n["Data.Symbol"], s = n["Data.Unit"], d = n["Data.Void"], p = n["Effect.Class"], v = n["Halogen.Component"], m = n["Halogen.HTML"], g = n["Halogen.HTML.Core"], w = n["Halogen.HTML.Elements"], y = n["Halogen.HTML.Events"], h = n["Halogen.HTML.Properties"], b = n["Halogen.Query.HalogenM"], M = n["Incentknow.Api"], S = n["Incentknow.Api.Execution"], I = n["Incentknow.AppM"], E = n["Incentknow.Atoms.Icon"], C = n["Incentknow.Data.Ids"], H = n["Incentknow.HTML.Utils"], D = n["Incentknow.Pages.User.Main"], A = n["Incentknow.Pages.User.Setting"], k = n["Incentknow.Route"], F = n["Incentknow.Templates.Page"], P = function () { function n() { } return n.value = new n, n }(), T = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), N = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), L = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), x = function () { function n() { } return n.value = new n, n }(), U = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), J = function (n) { return { userId: n.userId, tab: n.tab, user: S.Loading.value, myUserId: u.Nothing.value } }, O = function (n) { return function (e) { return function (e) { return function (c) { if (c instanceof P) return r.bind(b.bindHalogenM)(a.get(b.monadStateHalogenM))(function (t) { return r.bind(b.bindHalogenM)(p.liftEffect(b.monadEffectHalogenM(n.MonadEffect0()))(M.getCurrentUserId))(function (n) { return r.discard(r.discardUnit)(b.bindHalogenM)(a.modify_(b.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.myUserId = i.toMaybe(n), t }))(function () { return S.fetchApi(e)(U.create)(M.getUser(t.userId)) }) }) }); if (c instanceof U) return S.forFetch(I.behaviourHalogenM(n))(c.value0)(function (n) { return a.modify_(b.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.user = n, t }) }); if (c instanceof N) return r.bind(b.bindHalogenM)(a.get(b.monadStateHalogenM))(function (t) { return o.notEq(C.eqUserId)(t.userId)(c.value0.userId) ? r.discard(r.discardUnit)(b.bindHalogenM)(a.put(b.monadStateHalogenM)(J(c.value0)))(function () { return O(n)(n.MonadEffect0())(e)(P.value) }) : a.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.tab = c.value0.tab, e }) }); if (c instanceof T) return r.bind(b.bindHalogenM)(a.get(b.monadStateHalogenM))(function (e) { return I.navigate(I.behaviourHalogenM(n))(new k.User(e.userId, c.value0)) }); if (c instanceof L) return I.navigate(I.behaviourHalogenM(n))(c.value0); if (c instanceof x) return r.bind(b.bindHalogenM)(S.executeApi(I.behaviourHalogenM(n))(b.monadAffHalogenM(e))(M.logout({})))(function () { return r.discard(r.discardUnit)(b.bindHalogenM)(a.modify_(b.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.myUserId = u.Nothing.value, e }))(function () { return t.pure(b.applicativeHalogenM)(s.unit) }) }); throw new Error("Failed pattern match at Incentknow.Pages.User (line 100, column 16 - line 123, column 14): " + [c.constructor.name]) } } } }; e.component = function (n) { return function (e) { return function (t) { return v.mkComponent({ initialState: J, render: function (n) { return function (e) { return function (t) { return function (t) { return w.div([H.css("page-user")])([F.tabPage(k.eqUserTab)({ tabs: l.append(l.semigroupArray)([k.UserMain.value])(o.eq(u.eqMaybe(C.eqUserId))(new u.Just(t.userId))(t.myUserId) ? [k.UserSetting.value] : []), currentTab: t.tab, onChangeTab: T.create, showTab: function (n) { if (n instanceof k.UserMain) return "Home"; if (n instanceof k.UserSetting) return "Setting"; throw new Error("Failed pattern match at Incentknow.Pages.User (line 75, column 15 - line 77, column 41): " + [n.constructor.name]) } })(o.eq(u.eqMaybe(C.eqUserId))(new u.Just(t.userId))(t.myUserId) ? [w.div([H.css("page-user-logout"), y.onClick(function (n) { return new u.Just(x.value) })])([g.text("Logout")])] : [])([E.remoteWith(t.user)(function (n) { return w.div([H.css("page-user-header")])([w.div([H.css("left")])([w.img([h.src(n.iconUrl)])]), w.div([H.css("right")])([w.div([H.css("name")])([g.text(n.displayName)])])]) })])([function () { if (t.tab instanceof k.UserMain) return m.slot()(new f.IsSymbol(function () { return "main" }))(c.ordUnit)(f.SProxy.value)(s.unit)(D.component(n)(e)(n.MonadEffect0()))({ userId: t.userId })(d.absurd); if (t.tab instanceof k.UserSetting) return m.slot()(new f.IsSymbol(function () { return "setting" }))(c.ordUnit)(f.SProxy.value)(s.unit)(A.component(n)(e)(n.MonadEffect0()))({})(d.absurd); throw new Error("Failed pattern match at Incentknow.Pages.User (line 93, column 13 - line 95, column 99): " + [t.tab.constructor.name]) }()])]) } } } }(n)(e)(n.MonadEffect0()), eval: v.mkEval({ handleAction: O(n)(n.MonadEffect0())(e), handleQuery: v.defaultEval.handleQuery, receive: function (n) { return u.Just.create(N.create(n)) }, initialize: new u.Just(P.value), finalize: v.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Pages.WorkList"] = n["Incentknow.Pages.WorkList"] || {}; var e = n["Incentknow.Pages.WorkList"], t = n["Control.Applicative"], r = n["Control.Monad.State.Class"], a = n["Data.Array"], o = n["Data.Eq"], u = n["Data.Functor"], i = n["Data.Maybe"], c = n["Data.Nullable"], l = n["Data.Ord"], f = n["Data.Symbol"], s = n["Data.Unit"], d = n["Data.Void"], p = n["Halogen.Component"], v = n["Halogen.HTML"], m = n["Halogen.Query.HalogenM"], g = n["Incentknow.Api"], w = n["Incentknow.Api.Execution"], y = n["Incentknow.AppM"], h = n["Incentknow.Atoms.Icon"], b = n["Incentknow.Data.Content"], M = n["Incentknow.Organisms.ListView"], S = n["Incentknow.Route"], I = n["Incentknow.Templates.Page"], E = function () { function n() { } return n.value = new n, n }(), C = function () { function n() { } return n.value = new n, n }(), H = function () { function n() { } return n.value = new n, n }(), D = function () { function n() { } return n.value = new n, n }(), A = function () { function n() { } return n.value = new n, n }(), k = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), F = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), P = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), T = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), N = function (n) { return function (n) { var e = new i.Just(n.format); return u.map(i.functorMaybe)(function (e) { return (t = n, function (e) { var r = b.getContentSemanticData(n.data)(e); return { user: i.Nothing.value, datetime: new i.Just(t.updatedAt), title: r.title, format: new i.Just(e), route: function () { var n = c.toMaybe(t.contentId); if (n instanceof i.Nothing) return new S.EditWork(t.workId); if (n instanceof i.Just) return new S.EditContent(n.value0); throw new Error("Failed pattern match at Incentknow.Pages.WorkList (line 102, column 9 - line 104, column 50): " + [n.constructor.name]) }() } })(e); var t })(e) } }, L = function (n) { return { works: w.Loading.value, tab: H.value } }, x = new o.Eq(function (n) { return function (e) { return n instanceof E && e instanceof E || (n instanceof C && e instanceof C || (n instanceof H && e instanceof H || n instanceof D && e instanceof D)) } }); e.component = function (n) { return function (e) { return function (e) { return p.mkComponent({ initialState: L, render: function (n) { return function (e) { return function (t) { return I.tabGrouping(x)({ tabs: [H.value, C.value, D.value, E.value], onChangeTab: P.create, currentTab: t.tab, showTab: function (n) { if (n instanceof E) return "\u5168\u3066"; if (n instanceof H) return "\u4f5c\u696d\u4e2d"; if (n instanceof C) return "\u4f5c\u696d\u7d42\u4e86"; if (n instanceof D) return "\u30b4\u30df\u7bb1"; throw new Error("Failed pattern match at Incentknow.Pages.WorkList (line 116, column 9 - line 120, column 31): " + [n.constructor.name]) } })([])([function () { if (t.tab instanceof E) return h.remoteWith(t.works)(function (t) { return v.slot()(new f.IsSymbol(function () { return "listView" }))(l.ordUnit)(f.SProxy.value)(s.unit)(M.component(n)(e)(n.MonadEffect0()))({ items: a.catMaybes(u.map(u.functorArray)(N())(t)) })(d.absurd) }); if (t.tab instanceof H) return h.remoteWith(t.works)(function (t) { return v.slot()(new f.IsSymbol(function () { return "listView" }))(l.ordUnit)(f.SProxy.value)(s.unit)(M.component(n)(e)(n.MonadEffect0()))({ items: a.catMaybes(u.map(u.functorArray)(N())(a.filter(function (n) { return "working" === n.state })(t))) })(d.absurd) }); if (t.tab instanceof C) return h.remoteWith(t.works)(function (t) { return v.slot()(new f.IsSymbol(function () { return "listView" }))(l.ordUnit)(f.SProxy.value)(s.unit)(M.component(n)(e)(n.MonadEffect0()))({ items: a.catMaybes(u.map(u.functorArray)(N())(a.filter(function (n) { return "committed" === n.state })(t))) })(d.absurd) }); if (t.tab instanceof D) return h.remoteWith(t.works)(function (t) { return v.slot()(new f.IsSymbol(function () { return "listView" }))(l.ordUnit)(f.SProxy.value)(s.unit)(M.component(n)(e)(n.MonadEffect0()))({ items: a.catMaybes(u.map(u.functorArray)(N())(a.filter(function (n) { return "deleted" === n.state })(t))) })(d.absurd) }); throw new Error("Failed pattern match at Incentknow.Pages.WorkList (line 123, column 7 - line 143, column 21): " + [t.tab.constructor.name]) }()]) } } }(n)(e), eval: p.mkEval({ handleAction: function (n) { return function (e) { return function (e) { return function (a) { if (a instanceof A) return w.fetchApi(e)(T.create)(g.getMyWorks({ state: c.null })); if (a instanceof T) return w.forFetch(y.behaviourHalogenM(n))(a.value0)(function (n) { return r.modify_(m.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.works = n, t }) }); if (a instanceof k) return t.pure(m.applicativeHalogenM)(s.unit); if (a instanceof F) return y.navigate(y.behaviourHalogenM(n))(a.value0); if (a instanceof P) return r.modify_(m.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.tab = a.value0, e }); throw new Error("Failed pattern match at Incentknow.Pages.WorkList (line 147, column 16 - line 156, column 45): " + [a.constructor.name]) } } } }(n)(n.MonadEffect0())(e), handleQuery: p.defaultEval.handleQuery, receive: function (n) { return i.Just.create(k.create(n)) }, initialize: new i.Just(A.value), finalize: p.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n["Incentknow.Templates.Main"] = n["Incentknow.Templates.Main"] || {}; var e = n["Incentknow.Templates.Main"], t = n["Data.Functor"], r = n["Halogen.HTML.Elements"], a = n["Incentknow.AppM"], o = n["Incentknow.Atoms.Message"], u = n["Incentknow.HTML.Utils"], i = function (n) { return r.div([u.css("tmp-main_centerize")])([r.div([u.css("side")])([]), r.div([u.css("main")])(n), r.div([u.css("side")])([])]) }; e.main = function (n) { return r.div([u.css("tmp-main")])([r.div([u.css("header")])([i([n.header])]), r.div([u.css("body")])([r.div_([r.div([u.css("side")])([r.div_([n.leftSide])]), r.div([u.css("main")])([r.div([])(t.map(t.functorArray)(function (n) { return r.div([u.css("tmp-main_message")])([function () { if (n instanceof a.Error) return o.error(n.value0); if (n instanceof a.Success) return o.success(n.value0); throw new Error("Failed pattern match at Incentknow.Templates.Main (line 51, column 9 - line 53, column 39): " + [n.constructor.name]) }()]) })(n.messages)), r.div([u.css("tmp-main_section")])([n.body])]), r.div([u.css("side")])([r.div_([n.rightSide])])])]), r.div([u.css("footer")])([i([n.footer])])]) } }(PS), function (n) { "use strict"; n["Incentknow.Widgets.WorkViewer"] = n["Incentknow.Widgets.WorkViewer"] || {}; var e = n["Incentknow.Widgets.WorkViewer"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.State.Class"], o = n["Data.Array"], u = n["Data.Eq"], i = n["Data.Foldable"], c = n["Data.Functor"], l = n["Data.Maybe"], f = n["Data.Maybe.Utils"], s = n["Data.Newtype"], d = n["Data.Nullable"], p = n["Data.Ord"], v = n["Data.Semigroup"], m = n["Halogen.Component"], g = n["Halogen.HTML.Core"], w = n["Halogen.HTML.Elements"], y = n["Halogen.Query.HalogenM"], h = n["Incentknow.Api"], b = n["Incentknow.Api.Execution"], M = n["Incentknow.AppM"], S = n["Incentknow.Data.Ids"], I = n["Incentknow.HTML.DateTime"], E = n["Incentknow.HTML.Utils"], C = n["Incentknow.Route"], H = n["Incentknow.Templates.Page"], D = function () { function n() { } return n.value = new n, n }(), A = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), k = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), F = function () { function n(n) { this.value0 = n } return n.create = function (e) { return new n(e) }, n }(), P = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), T = function (n) { var e = function (e) { return E.maybeElem(f.flatten(c.map(l.functorMaybe)(function (n) { return d.toMaybe(n.workingChangeId) })(n.work)))(function (t) { return E.link(P.create)(new C.Snapshot(n.workId, t, new C.InitialSnapshot(e.snapshotId)))([])([w.div([E.css((r = e.snapshotId, (n.route instanceof C.Snapshot && n.route.value2 instanceof C.SnapshotDiff ? u.eq(S.eqSnapshotId)(r)(n.route.value2.value0) : n.route instanceof C.Snapshot && n.route.value2 instanceof C.InitialSnapshot && u.eq(S.eqSnapshotId)(r)(n.route.value2.value0)) ? "snapshot snapshot_active" : "snapshot"))])([I.dateTime(e.timestamp)])]); var r }) }, t = n.route instanceof C.EditContent || n.route instanceof C.EditWork; return H.section("wid-work-viewer")([E.maybeElem(n.work)(function (r) { return w.div([])(v.append(v.semigroupArray)([E.link(P.create)(l.maybe(new C.EditWork(r.workId))(C.EditContent.create)(d.toMaybe(r.contentId)))([])([w.div([E.css(t ? "snapshot snapshot_active" : "snapshot")])([g.text("\u6700\u65b0\u306e\u72b6\u614b")])])])(c.map(c.functorArray)(e)(n.snapshots))) })]) }, N = function (n) { return { workId: n.workId, work: l.Nothing.value, route: n.route, snapshots: [], workSubId: l.Nothing.value } }, L = function (n) { return function (e) { return function (c) { return function (c) { if (c instanceof D) return r.bind(y.bindHalogenM)(a.get(y.monadStateHalogenM))(function (n) { return r.discard(r.discardUnit)(y.bindHalogenM)(i.for_(y.applicativeHalogenM)(i.foldableMaybe)(n.workSubId)(function (n) { return y.unsubscribe(n) }))(function () { return r.bind(y.bindHalogenM)(b.subscribeApi(e)(function (n) { return k.create(d.toMaybe(n)) })(h.onSnapshotWork(s.unwrap(S.newtypeWorkId)(n.workId))))(function (n) { return a.modify_(y.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.workSubId = new l.Just(n), t }) }) }) }); if (c instanceof k) return r.bind(y.bindHalogenM)(a.get(y.monadStateHalogenM))(function (n) { return r.discard(r.discardUnit)(y.bindHalogenM)(a.modify_(y.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.work = c.value0, e }))(function () { return t.when(y.applicativeHalogenM)(l.isNothing(n.work))(i.for_(y.applicativeHalogenM)(i.foldableMaybe)(c.value0)(function (n) { return i.for_(y.applicativeHalogenM)(i.foldableMaybe)(d.toMaybe(n.workingChangeId))(function (t) { return b.subscribeApi(e)(F.create)(h.onSnapshotSnapshots(n.workId)(t)) }) })) }) }); if (c instanceof F) { var f = function (n) { return function (e) { return p.compare(p.ordNumber)(e.timestamp)(n.timestamp) } }; return a.modify_(y.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.snapshots = o.sortBy(f)(c.value0), e }) } if (c instanceof A) return r.bind(y.bindHalogenM)(a.get(y.monadStateHalogenM))(function (t) { return u.notEq(S.eqWorkId)(c.value0.workId)(t.workId) ? r.discard(r.discardUnit)(y.bindHalogenM)(a.put(y.monadStateHalogenM)(N(c.value0)))(function () { return L(n)(e)(n.MonadEffect0())(D.value) }) : a.modify_(y.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.route = c.value0.route, e }) }); if (c instanceof P) return M.navigateRoute(M.behaviourHalogenM(n))(c.value0)(c.value1); throw new Error("Failed pattern match at Incentknow.Widgets.WorkViewer (line 98, column 16 - line 123, column 52): " + [c.constructor.name]) } } } }; e.component = function (n) { return function (e) { return function (t) { return m.mkComponent({ initialState: N, render: T, eval: m.mkEval({ handleAction: L(n)(e)(n.MonadEffect0()), handleQuery: m.defaultEval.handleQuery, receive: function (n) { return l.Just.create(A.create(n)) }, initialize: new l.Just(D.value), finalize: m.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n.hash = function (n) { return function () { return n.hash } }, n.pathname = function (n) { return function () { return n.pathname } }, n.search = function (n) { return function () { return n.search } } }(PS["Web.HTML.Location"] = PS["Web.HTML.Location"] || {}), function (n) { "use strict"; n["Web.HTML.Location"] = n["Web.HTML.Location"] || {}; var e = n["Web.HTML.Location"], t = n["Web.HTML.Location"]; e.hash = t.hash, e.pathname = t.pathname, e.search = t.search }(PS), function (n) { "use strict"; n["Incentknow.Router"] = n["Incentknow.Router"] || {}; var e = n["Incentknow.Router"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Monad.Reader.Class"], o = n["Control.Monad.State.Class"], u = n["Data.Eq"], i = n["Data.Functor"], c = n["Data.Maybe"], l = n["Data.Newtype"], f = n["Data.Ord"], s = n["Data.Symbol"], d = n["Data.Unit"], p = n["Data.Void"], v = n.Effect, m = n["Effect.Aff.AVar"], g = n["Effect.Aff.Class"], w = n["Effect.Class"], y = n.Foreign, h = n["Halogen.Component"], b = n["Halogen.HTML"], M = n["Halogen.HTML.Core"], S = n["Halogen.HTML.Elements"], I = n["Halogen.HTML.Properties"], E = n["Halogen.Query.HalogenM"], C = n["Incentknow.AppM"], H = n["Incentknow.Data.Ids"], D = n["Incentknow.Organisms.ContentQuery"], A = n["Incentknow.Organisms.Footer"], k = n["Incentknow.Organisms.Header"], F = n["Incentknow.Pages.Community.SpaceList"], P = n["Incentknow.Pages.Composition"], T = n["Incentknow.Pages.Content"], N = n["Incentknow.Pages.Crawler"], L = n["Incentknow.Pages.EditContent"], x = n["Incentknow.Pages.Format"], U = n["Incentknow.Pages.Home"], J = n["Incentknow.Pages.JoinSpace"], O = n["Incentknow.Pages.NewContent"], R = n["Incentknow.Pages.NewCrawler"], _ = n["Incentknow.Pages.NewFormat"], q = n["Incentknow.Pages.NewSpace"], W = n["Incentknow.Pages.Public"], B = n["Incentknow.Pages.Sign"], Q = n["Incentknow.Pages.Snapshot"], z = n["Incentknow.Pages.Space"], V = n["Incentknow.Pages.User"], j = n["Incentknow.Pages.WorkList"], G = n["Incentknow.Route"], K = n["Incentknow.Templates.Main"], X = n["Incentknow.Widgets.ContentQuery"], Z = n["Incentknow.Widgets.WorkViewer"], Y = n["Web.HTML"], $ = n["Web.HTML.Location"], nn = n["Web.HTML.Window"], en = function () { function n(n, e) { this.value0 = n, this.value1 = e } return n.create = function (e) { return function (t) { return new n(e, t) } }, n }(), tn = function () { function n() { } return n.value = new n, n }(); e.ChangeRoute = en, e.component = function (n) { return function (e) { return function (en) { var rn = function (n) { return o.modify_(E.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.route = G.pathToRoute(n), t }) }, an = function (t) { if (t instanceof G.Home) return b.slot()(new s.IsSymbol(function () { return "home" }))(f.ordUnit)(s.SProxy.value)(d.unit)(U.component(n)(e.MonadEffect0()))({})(p.absurd); if (t instanceof G.NotFound) return M.text(""); if (t instanceof G.Public) return b.slot()(new s.IsSymbol(function () { return "public" }))(f.ordUnit)(s.SProxy.value)(d.unit)(W.component(e)(n))({})(p.absurd); if (t instanceof G.Content) return b.slot()(new s.IsSymbol(function () { return "content" }))(f.ordUnit)(s.SProxy.value)(d.unit)(T.component(e)(n))({ contentSpec: new G.ContentSpecContentId(t.value0) })(p.absurd); if (t instanceof G.ContentBySemanticId) return b.slot()(new s.IsSymbol(function () { return "content" }))(f.ordUnit)(s.SProxy.value)(d.unit)(T.component(e)(n))({ contentSpec: new G.ContentSpecSemanticId(t.value0, t.value1) })(p.absurd); if (t instanceof G.EditContent) return b.slot()(new s.IsSymbol(function () { return "editContent" }))(f.ordUnit)(s.SProxy.value)(d.unit)(L.component(e)(e.MonadEffect0())(n))({ contentId: t.value0 })(p.absurd); if (t instanceof G.EditScraper) return M.text(""); if (t instanceof G.NewFormat) return b.slot()(new s.IsSymbol(function () { return "newFormat" }))(f.ordUnit)(s.SProxy.value)(d.unit)(_.component(e)(n))({ spaceId: t.value0 })(p.absurd); if (t instanceof G.EditWork) return b.slot()(new s.IsSymbol(function () { return "newContent" }))(f.ordUnit)(s.SProxy.value)(d.unit)(O.component(e)(e.MonadEffect0())(n))(new O.DraftInput(t.value0))(p.absurd); if (t instanceof G.Snapshot) return b.slot()(new s.IsSymbol(function () { return "snapshot" }))(f.ordUnit)(s.SProxy.value)(d.unit)(Q.component(e)(n))({ workId: t.value0, changeId: t.value1, snapshotDiff: t.value2 })(p.absurd); if (t instanceof G.NewContent) return b.slot()(new s.IsSymbol(function () { return "newContent" }))(f.ordUnit)(s.SProxy.value)(d.unit)(O.component(e)(e.MonadEffect0())(n))(new O.NewInput(t.value0, t.value1))(p.absurd); if (t instanceof G.Format) return b.slot()(new s.IsSymbol(function () { return "format" }))(f.ordUnit)(s.SProxy.value)(d.unit)(x.component(e)(n)(e.MonadEffect0()))({ formatId: t.value0, tab: t.value1 })(p.absurd); if (t instanceof G.ContentList) return b.slot()(new s.IsSymbol(function () { return "pageContentQuery" }))(f.ordUnit)(s.SProxy.value)(d.unit)(D.component(e)(n)(e.MonadEffect0()))({ spaceId: t.value0, formatId: t.value1, urlParams: t.value2 })(p.absurd); if (t instanceof G.Composition) return b.slot()(new s.IsSymbol(function () { return "composition" }))(f.ordUnit)(s.SProxy.value)(d.unit)(P.component(e)(n)(e.MonadEffect0()))({ spaceId: t.value0, formatId: t.value1, tab: t.value2 })(p.absurd); if (t instanceof G.JoinSpace) return b.slot()(new s.IsSymbol(function () { return "joinSpace" }))(f.ordUnit)(s.SProxy.value)(d.unit)(J.component(e)(n)(e.MonadEffect0()))({ spaceId: t.value0 })(p.absurd); if (t instanceof G.SpaceList) return b.slot()(new s.IsSymbol(function () { return "spaceList" }))(f.ordUnit)(s.SProxy.value)(d.unit)(F.component(e)(e.MonadEffect0())(n))({})(p.absurd); if (t instanceof G.NewSpace) return b.slot()(new s.IsSymbol(function () { return "newSpace" }))(f.ordUnit)(s.SProxy.value)(d.unit)(q.component(e)(n)(e.MonadEffect0()))({})(p.absurd); if (t instanceof G.Space) return b.slot()(new s.IsSymbol(function () { return "space" }))(f.ordUnit)(s.SProxy.value)(d.unit)(z.component(e)(n)(e.MonadEffect0()))({ spaceId: t.value0, tab: t.value1 })(p.absurd); if (t instanceof G.NewCrawler) return b.slot()(new s.IsSymbol(function () { return "newCrawler" }))(f.ordUnit)(s.SProxy.value)(d.unit)(R.component(e)(n))({})(p.absurd); if (t instanceof G.Crawler) return b.slot()(new s.IsSymbol(function () { return "crawler" }))(f.ordUnit)(s.SProxy.value)(d.unit)(N.component(e)(n)(e.MonadEffect0()))({ crawlerId: t.value0, tab: t.value1 })(p.absurd); if (t instanceof G.User) return b.slot()(new s.IsSymbol(function () { return "user" }))(f.ordUnit)(s.SProxy.value)(d.unit)(V.component(e)(n)(e.MonadEffect0()))({ userId: t.value0, tab: t.value1 })(p.absurd); if (t instanceof G.Sign) return b.slot()(new s.IsSymbol(function () { return "sign" }))(f.ordUnit)(s.SProxy.value)(d.unit)(B.component(e)(n))({})(p.absurd); if (t instanceof G.Rivision) return M.text(""); if (t instanceof G.RivisionList) return M.text(""); if (t instanceof G.WorkList) return b.slot()(new s.IsSymbol(function () { return "workList" }))(f.ordUnit)(s.SProxy.value)(d.unit)(j.component(e)(e.MonadEffect0())(n))({})(p.absurd); throw new Error("Failed pattern match at Incentknow.Router (line 126, column 16 - line 158, column 89): " + [t.constructor.name]) }, on = function (n) { return r.bind(E.bindHalogenM)(a.asks(E.monadAskHalogenM(en))(function (n) { return n.pushStateInterface }))(function (t) { return w.liftEffect(E.monadEffectHalogenM(e.MonadEffect0()))(t.pushState(y.unsafeToForeign({}))(G.routeToPath(n))) }) }, un = r.bind(E.bindHalogenM)(a.asks(E.monadAskHalogenM(en))(function (n) { return n.globalMessage }))(function (e) { return r.bind(E.bindHalogenM)(g.liftAff(E.monadAffHalogenM(n))(m.take(e)))(function (n) { return r.discard(r.discardUnit)(E.bindHalogenM)(i.void(E.functorHalogenM)(E.fork(un)))(function () { if (n instanceof C.PushStateG) return on(n.value0); if (n instanceof C.NavigateG) return r.discard(r.discardUnit)(E.bindHalogenM)(on(n.value0))(function () { return r.discard(r.discardUnit)(E.bindHalogenM)(o.modify_(E.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.route = n.value0, t }))(function () { return t.pure(E.applicativeHalogenM)(d.unit) }) }); if (n instanceof C.StartLoadingG) return o.modify_(E.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.loading = n.loading + 1 | 0, e }); if (n instanceof C.StopLoadingG) return o.modify_(E.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.loading = n.loading - 1 | 0, e }); if (n instanceof C.MessageG) return o.modify_(E.monadStateHalogenM)(function (e) { var t = {}; for (var r in e) ({}).hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.msgs = [n.value0], t }); if (n instanceof C.ResetMesssageG) return o.modify_(E.monadStateHalogenM)(function (n) { var e = {}; for (var t in n) ({}).hasOwnProperty.call(n, t) && (e[t] = n[t]); return e.msgs = [], e }); throw new Error("Failed pattern match at Incentknow.Router (line 208, column 5 - line 217, column 58): " + [n.constructor.name]) }) }) }); return h.mkComponent({ initialState: function (n) { return { route: G.Home.value, loading: 0, msgs: [] } }, render: function (t) { return K.main({ header: b.slot()(new s.IsSymbol(function () { return "header" }))(f.ordUnit)(s.SProxy.value)(d.unit)(k.component(n)(e))({ route: t.route })(p.absurd), footer: b.slot()(new s.IsSymbol(function () { return "footer" }))(f.ordUnit)(s.SProxy.value)(d.unit)(A.component(e))(d.unit)(p.absurd), leftSide: (a = t.route, a instanceof G.ContentList ? b.slot()(new s.IsSymbol(function () { return "contentQuery" }))(f.ordUnit)(s.SProxy.value)(d.unit)(X.component(e)(n))({ spaceId: a.value0, formatId: a.value1, urlParams: a.value2 })(p.absurd) : M.text("")), rightSide: (r = t.route, r instanceof G.EditWork ? b.slot()(new s.IsSymbol(function () { return "workViewer" }))(f.ordUnit)(s.SProxy.value)(d.unit)(Z.component(e)(n)(e.MonadEffect0()))({ workId: r.value0, route: r })(p.absurd) : r instanceof G.EditContent ? b.slot()(new s.IsSymbol(function () { return "workViewer" }))(f.ordUnit)(s.SProxy.value)(d.unit)(Z.component(e)(n)(e.MonadEffect0()))({ workId: H.WorkId(l.unwrap(H.newtypeContentId)(r.value0)), route: r })(p.absurd) : r instanceof G.Snapshot ? b.slot()(new s.IsSymbol(function () { return "workViewer" }))(f.ordUnit)(s.SProxy.value)(d.unit)(Z.component(e)(n)(e.MonadEffect0()))({ workId: r.value0, route: r })(p.absurd) : M.text("")), messages: t.msgs, body: S.div_([0 === t.loading ? M.text("") : S.div([I.class_("loading")])([]), b.memoized(u.eq(G.eqRoute))(an)(t.route)]) }); var r, a }, eval: h.mkEval({ handleAction: function (n) { return r.discard(r.discardUnit)(E.bindHalogenM)(i.void(E.functorHalogenM)(E.fork(un)))(function () { return r.bind(E.bindHalogenM)(w.liftEffect(E.monadEffectHalogenM(e.MonadEffect0()))(r.bind(v.bindEffect)(r.bind(v.bindEffect)(Y.window)(nn.location))($.pathname)))(function (n) { return r.bind(E.bindHalogenM)(w.liftEffect(E.monadEffectHalogenM(e.MonadEffect0()))(r.bind(v.bindEffect)(r.bind(v.bindEffect)(Y.window)(nn.location))($.search)))(function (e) { return rn(n + e) }) }) }) }, handleQuery: function (n) { return r.discard(r.discardUnit)(E.bindHalogenM)(rn(n.value0))(function () { return t.pure(E.applicativeHalogenM)(new c.Just(n.value1)) }) }, receive: h.defaultEval.receive, initialize: new c.Just(tn.value), finalize: h.defaultEval.finalize }) }) } } } }(PS), function (n) { "use strict"; n.createTextNode = function (n) { return function (e) { return function () { return e.createTextNode(n) } } } }(PS["Web.DOM.Document"] = PS["Web.DOM.Document"] || {}), function (n) { "use strict"; n["Web.DOM.Document"] = n["Web.DOM.Document"] || {}; var e = n["Web.DOM.Document"], t = n["Web.DOM.Document"]; e.createTextNode = t.createTextNode }(PS), function (n) { "use strict"; n.mutationObserver = function (n) { return function () { return new MutationObserver(function (e, t) { return n(e)(t)() }) } }, n._observe = function (n) { return function (e) { return function (t) { return function () { return t.observe(n, e) } } } } }(PS["Web.DOM.MutationObserver"] = PS["Web.DOM.MutationObserver"] || {}), function (n) { "use strict"; n["Web.DOM.MutationObserver"] = n["Web.DOM.MutationObserver"] || {}; var e = n["Web.DOM.MutationObserver"], t = n["Web.DOM.MutationObserver"]; e.observe = function (n) { return t._observe }, e.mutationObserver = t.mutationObserver }(PS), function (n) { "use strict"; n["Web.DOM.Text"] = n["Web.DOM.Text"] || {}; var e = n["Web.DOM.Text"], t = n["Unsafe.Coerce"].unsafeCoerce; e.toNode = t }(PS), function (n) { "use strict"; n["Web.HTML.Event.PopStateEvent.EventTypes"] = n["Web.HTML.Event.PopStateEvent.EventTypes"] || {}; n["Web.HTML.Event.PopStateEvent.EventTypes"].popstate = "popstate" }(PS), function (n) { "use strict"; n.pushState = function (n) { return function (e) { return function (t) { return function (r) { return function () { return r.pushState(n, e, t) } } } } }, n.replaceState = function (n) { return function (e) { return function (t) { return function (r) { return function () { return r.replaceState(n, e, t) } } } } }, n.state = function (n) { return function () { return n.state } } }(PS["Web.HTML.History"] = PS["Web.HTML.History"] || {}), function (n) { "use strict"; n["Web.HTML.History"] = n["Web.HTML.History"] || {}; var e = n["Web.HTML.History"], t = n["Web.HTML.History"]; e.pushState = t.pushState, e.replaceState = t.replaceState, e.state = t.state }(PS), function (n) { "use strict"; n["Routing.PushState"] = n["Routing.PushState"] || {}; var e = n["Routing.PushState"], t = n["Control.Bind"], r = n["Data.Either"], a = n["Data.Foldable"], o = n["Data.Functor"], u = n["Data.Map.Internal"], i = n["Data.Ord"], c = n["Data.Semiring"], l = n["Data.Show"], f = n.Effect, s = n["Effect.Ref"], d = n["Web.DOM.Document"], p = n["Web.DOM.MutationObserver"], v = n["Web.DOM.Node"], m = n["Web.DOM.Text"], g = n["Web.Event.EventTarget"], w = n["Web.HTML"], y = n["Web.HTML.Event.PopStateEvent.EventTypes"], h = n["Web.HTML.HTMLDocument"], b = n["Web.HTML.History"], M = n["Web.HTML.Location"], S = n["Web.HTML.Window"]; e.makeInterface = function () { var n, e, I = s.new(0)(), E = s.new(u.empty)(), C = function (n) { return t.bindFlipped(f.bindEffect)(a.traverse_(f.applicativeEffect)(u.foldableMap)(function (e) { return e(n) }))(s.read(E)) }, H = function () { var n = t.bind(f.bindEffect)(w.window)(S.location)(), e = t.bind(f.bindEffect)(t.bind(f.bindEffect)(w.window)(S.history))(b.state)(), r = M.pathname(n)(), a = M.search(n)(), o = M.hash(n)(); return { state: e, pathname: r, search: a, hash: o, path: r + (a + o) } }, D = (n = t.bindFlipped(f.bindEffect)(C)(H), function () { var e, u = t.bind(f.bindEffect)(w.window)((e = o.map(f.functorEffect)(h.toDocument), function (n) { return e(S.document(n)) }))(), i = s.new(new r.Right(0))(), g = o.map(f.functorEffect)(m.toNode)(d.createTextNode("")(u))(), y = p.mutationObserver(function (e) { return function (e) { return function () { var e; return s.modify_(r.either((e = c.add(c.semiringInt)(1), function (n) { return r.Right.create(e(n)) }))(r.Right.create))(i)(), n() } } })(); return p.observe()(g)({ characterData: !0 })(y)(), t.bind(f.bindEffect)(s.read(i))(a.traverse_(f.applicativeEffect)(r.foldableEither)(function (n) { return function () { return s.write(new r.Left(n + 1 | 0))(i)(), v.setNodeValue(l.show(l.showInt)(n))(g)() } })) })(), A = function (n) { return function (e) { return function (r) { return function () { return t.bind(f.bindEffect)(t.bind(f.bindEffect)(w.window)(S.history))(n(e)("")(r))(), D() } } } }, k = g.eventListener(function (n) { return t.bindFlipped(f.bindEffect)(C)(H) })(); return t.bind(f.bindEffect)(w.window)((e = g.addEventListener(y.popstate)(k)(!1), function (n) { return e(S.toEventTarget(n)) }))(), { pushState: A(b.pushState), replaceState: A(b.replaceState), locationState: H, listen: function (n) { return function () { var e = s.read(I)(); return s.write(e + 1 | 0)(I)(), s.modify_(u.insert(i.ordInt)(e)(n))(E)(), s.modify_(u.delete(i.ordInt)(e))(E) } } } } }(PS), function (n) { "use strict"; n["Web.HTML.Event.PopStateEvent"] = n["Web.HTML.Event.PopStateEvent"] || {}; var e = n["Web.HTML.Event.PopStateEvent"], t = n["Web.Internal.FFI"].unsafeReadProtoTagged("PopStateEvent"); e.fromEvent = t }(PS), function (n) { "use strict"; n["Incentknow.Main"] = n["Incentknow.Main"] || {}; var e = n["Incentknow.Main"], t = n["Control.Applicative"], r = n["Control.Bind"], a = n["Control.Coroutine"], o = n["Control.Coroutine.Aff"], u = n["Data.Foldable"], i = n["Data.Functor"], c = n["Data.Maybe"], l = n["Data.Unit"], f = n.Effect, s = n["Effect.Aff"], d = n["Effect.Aff.AVar"], p = n["Effect.Class"], v = n["Effect.Console"], m = n["Halogen.Aff.Util"], g = n["Halogen.Component"], w = n["Halogen.HTML.Core"], y = n["Halogen.Query"], h = n["Halogen.VDom.Driver"], b = n["Incentknow.AppM"], M = n["Incentknow.Router"], S = n["Routing.PushState"], I = n["Type.Equality"], E = n["Web.Event.EventTarget"], C = n["Web.HTML"], H = n["Web.HTML.Event.PopStateEvent"], D = n["Web.HTML.Event.PopStateEvent.EventTypes"], A = n["Web.HTML.Location"], k = n["Web.HTML.Window"], F = o.produce(function (n) { return function () { var e, t, a = E.eventListener((e = u.traverse_(f.applicativeEffect)(u.foldableMaybe)(o.emit(n)), function (n) { return e(H.fromEvent(n)) }))(); return p.liftEffect(p.monadEffectEffect)(r.bind(f.bindEffect)(C.window)((t = E.addEventListener(D.popstate)(a)(!1), function (n) { return t(k.toEventTarget(n)) })))() } }), P = function (n) { return a.consumer(s.monadAff)(function (e) { return r.bind(s.bindAff)(p.liftEffect(s.monadEffectAff)(r.bind(f.bindEffect)(r.bind(f.bindEffect)(C.window)(k.location))(A.pathname)))(function (e) { return r.bind(s.bindAff)(p.liftEffect(s.monadEffectAff)(r.bind(f.bindEffect)(r.bind(f.bindEffect)(C.window)(k.location))(A.search)))(function (a) { var o = e + a; return r.discard(r.discardUnit)(s.bindAff)(p.liftEffect(s.monadEffectAff)(v.log(o)))(function () { return r.discard(r.discardUnit)(s.bindAff)(i.void(s.functorAff)(n(y.tell(M.ChangeRoute.create(o)))))(function () { return t.pure(s.applicativeAff)(c.Nothing.value) }) }) }) }) }) }, T = m.runHalogenAff(r.bind(s.bindAff)(d.empty)(function (n) { return r.bind(s.bindAff)(p.liftEffect(s.monadEffectAff)(S.makeInterface))(function (e) { var t = { globalMessage: n, pushStateInterface: e }, o = g.hoist(w.bifunctorHTML)(s.functorAff)(b.runAppM(t))(M.component(b.monadAffAppM)(b.behaviourAppM)(b.monadAskAppM(I.refl))); return r.bind(s.bindAff)(m.awaitBody)(function (n) { return r.bind(s.bindAff)(h.runUI(o)(l.unit)(n))(function (n) { return a.runProcess(s.monadRecAff)(a.connect(s.monadRecAff)(s.parallelAff)(F)(P(n.query))) }) }) }) })); e.popStateProducer = F, e.popStateConsumer = P, e.main = T }(PS), PS["Incentknow.Main"].main();